import{S as t,i as e,s as n,ag as l,Q as r,J as o,k as s,H as i,L as a,ac as c,q as u,j as d,r as f,v as $,M as p,ad as m,ae as g,af as h,y as v,t as y,g as b,am as x,z as w,an as k,ao as M,F as S,f as q,m as A,n as z,h as O,ap as C,G as j,I as F,N as L,O as E,P as N,a4 as R,a7 as H,aq as B,ar as Y,V as P,as as T,a9 as V,aa as _,at as I,au as J,a8 as W,ai as X,ak as Z,al as G,a1 as K,av as Q,aw as U,ax as D,ay as tt,az as et,a6 as nt}from"./vendor.46162738.js";import{P as lt}from"./page-container.e9f373a8.js";import{C as rt,u as ot,W as st,c as it,g as at,s as ct,a as ut,b as dt,d as ft,e as $t,f as pt,h as mt,t as gt}from"./index.2eabfaf9.js";import{F as ht,a as vt}from"./form-item.a67decc1.js";function yt(t){let e,n;return{c(){e=s("title"),n=i(t[2])},m(t,l){o(t,e,l),a(e,n)},p(t,e){4&e&&c(n,t[2])},d(t){t&&u(e)}}}function bt(t){let e,n,i,c,w;const k=t[11].default,M=l(k,t,t[10],null),S=M||function(t){let e,n=t[2]&&yt(t);return{c(){n&&n.c(),e=r()},m(t,l){n&&n.m(t,l),o(t,e,l)},p(t,l){t[2]?n?n.p(t,l):(n=yt(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&u(e)}}}(t);let q=[{"data-carbon-icon":"SettingsAdjust24"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{width:"24"},{height:"24"},{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},{style:t[3]},{id:t[1]},t[4]],A={};for(let l=0;l<q.length;l+=1)A=d(A,q[l]);return{c(){e=s("svg"),n=s("path"),S&&S.c(),f(n,"d","M30 8h-4.1c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2v2h14.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30V8zM21 12c-1.7 0-3-1.3-3-3s1.3-3 3-3 3 1.3 3 3S22.7 12 21 12zM2 24h4.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30v-2H15.9c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2V24zM11 20c1.7 0 3 1.3 3 3s-1.3 3-3 3-3-1.3-3-3S9.3 20 11 20z"),$(e,A)},m(l,r){o(l,e,r),a(e,n),S&&S.m(e,null),i=!0,c||(w=[p(e,"click",t[12]),p(e,"mouseover",t[13]),p(e,"mouseenter",t[14]),p(e,"mouseleave",t[15]),p(e,"keyup",t[16]),p(e,"keydown",t[17])],c=!0)},p(t,[n]){M?M.p&&(!i||1024&n)&&m(M,k,t,t[10],i?h(k,t[10],n,null):g(t[10]),null):S&&S.p&&(!i||4&n)&&S.p(t,i?n:-1),$(e,A=v(q,[{"data-carbon-icon":"SettingsAdjust24"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{width:"24"},{height:"24"},(!i||1&n)&&{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},(!i||8&n)&&{style:t[3]},(!i||2&n)&&{id:t[1]},16&n&&t[4]]))},i(t){i||(y(S,t),i=!0)},o(t){b(S,t),i=!1},d(t){t&&u(e),S&&S.d(t),c=!1,x(w)}}}function xt(t,e,n){let l,r,o,s,{$$slots:i={},$$scope:a}=e,{class:c}=e,{id:u}=e,{tabindex:f}=e,{focusable:$=!1}=e,{title:p}=e,{style:m}=e;return t.$$set=t=>{n(18,e=d(d({},e),w(t))),"class"in t&&n(0,c=t.class),"id"in t&&n(1,u=t.id),"tabindex"in t&&n(5,f=t.tabindex),"focusable"in t&&n(6,$=t.focusable),"title"in t&&n(2,p=t.title),"style"in t&&n(3,m=t.style),"$$scope"in t&&n(10,a=t.$$scope)},t.$$.update=()=>{n(9,l=e["aria-label"]),n(8,r=e["aria-labelledby"]),772&t.$$.dirty&&n(7,o=l||r||p),992&t.$$.dirty&&n(4,s={"aria-label":l,"aria-labelledby":r,"aria-hidden":!o||void 0,role:o?"img":void 0,focusable:"0"===f||$,tabindex:f})},e=w(e),[c,u,p,m,s,f,$,o,r,l,a,i,function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)}]}var wt=class extends t{constructor(t){super(),e(this,t,xt,bt,n,{class:0,id:1,tabindex:5,focusable:6,title:2,style:3})}};function kt(t){let e,n;return{c(){e=s("title"),n=i(t[2])},m(t,l){o(t,e,l),a(e,n)},p(t,e){4&e&&c(n,t[2])},d(t){t&&u(e)}}}function Mt(t){let e,n,i,c,w,k;const M=t[11].default,S=l(M,t,t[10],null),q=S||function(t){let e,n=t[2]&&kt(t);return{c(){n&&n.c(),e=r()},m(t,l){n&&n.m(t,l),o(t,e,l)},p(t,l){t[2]?n?n.p(t,l):(n=kt(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&u(e)}}}(t);let A=[{"data-carbon-icon":"MediaLibrary24"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{width:"24"},{height:"24"},{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},{style:t[3]},{id:t[1]},t[4]],z={};for(let l=0;l<A.length;l+=1)z=d(z,A[l]);return{c(){e=s("svg"),n=s("path"),i=s("path"),q&&q.c(),f(n,"d","M13 15L13 23 13 23 20 19 13 15z"),f(i,"d","M26 28H6a2.0021 2.0021 0 01-2-2V12a2.0021 2.0021 0 012-2H26a2.0021 2.0021 0 012 2V26A2.0021 2.0021 0 0126 28zM6 12V26H26V12zM6 6H26V8H6zM8 2H24V4H8z"),$(e,z)},m(l,r){o(l,e,r),a(e,n),a(e,i),q&&q.m(e,null),c=!0,w||(k=[p(e,"click",t[12]),p(e,"mouseover",t[13]),p(e,"mouseenter",t[14]),p(e,"mouseleave",t[15]),p(e,"keyup",t[16]),p(e,"keydown",t[17])],w=!0)},p(t,[n]){S?S.p&&(!c||1024&n)&&m(S,M,t,t[10],c?h(M,t[10],n,null):g(t[10]),null):q&&q.p&&(!c||4&n)&&q.p(t,c?n:-1),$(e,z=v(A,[{"data-carbon-icon":"MediaLibrary24"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{width:"24"},{height:"24"},(!c||1&n)&&{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},(!c||8&n)&&{style:t[3]},(!c||2&n)&&{id:t[1]},16&n&&t[4]]))},i(t){c||(y(q,t),c=!0)},o(t){b(q,t),c=!1},d(t){t&&u(e),q&&q.d(t),w=!1,x(k)}}}function St(t,e,n){let l,r,o,s,{$$slots:i={},$$scope:a}=e,{class:c}=e,{id:u}=e,{tabindex:f}=e,{focusable:$=!1}=e,{title:p}=e,{style:m}=e;return t.$$set=t=>{n(18,e=d(d({},e),w(t))),"class"in t&&n(0,c=t.class),"id"in t&&n(1,u=t.id),"tabindex"in t&&n(5,f=t.tabindex),"focusable"in t&&n(6,$=t.focusable),"title"in t&&n(2,p=t.title),"style"in t&&n(3,m=t.style),"$$scope"in t&&n(10,a=t.$$scope)},t.$$.update=()=>{n(9,l=e["aria-label"]),n(8,r=e["aria-labelledby"]),772&t.$$.dirty&&n(7,o=l||r||p),992&t.$$.dirty&&n(4,s={"aria-label":l,"aria-labelledby":r,"aria-hidden":!o||void 0,role:o?"img":void 0,focusable:"0"===f||$,tabindex:f})},e=w(e),[c,u,p,m,s,f,$,o,r,l,a,i,function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)}]}var qt=class extends t{constructor(t){super(),e(this,t,St,Mt,n,{class:0,id:1,tabindex:5,focusable:6,title:2,style:3})}};function At(t){let e,n;return{c(){e=s("title"),n=i(t[2])},m(t,l){o(t,e,l),a(e,n)},p(t,e){4&e&&c(n,t[2])},d(t){t&&u(e)}}}function zt(t){let e,n,i,c,w,k;const M=t[11].default,S=l(M,t,t[10],null),q=S||function(t){let e,n=t[2]&&At(t);return{c(){n&&n.c(),e=r()},m(t,l){n&&n.m(t,l),o(t,e,l)},p(t,l){t[2]?n?n.p(t,l):(n=At(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&u(e)}}}(t);let A=[{"data-carbon-icon":"TextScale20"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{width:"20"},{height:"20"},{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},{style:t[3]},{id:t[1]},t[4]],z={};for(let l=0;l<A.length;l+=1)z=d(z,A[l]);return{c(){e=s("svg"),n=s("path"),i=s("path"),q&&q.c(),f(n,"d","M30 5L30 8 22 8 22 26 19 26 19 8 11 8 11 5 30 5z"),f(i,"d","M7 26L7 14 2 14 2 12 14 12 14 14 9 14 9 26 7 26z"),$(e,z)},m(l,r){o(l,e,r),a(e,n),a(e,i),q&&q.m(e,null),c=!0,w||(k=[p(e,"click",t[12]),p(e,"mouseover",t[13]),p(e,"mouseenter",t[14]),p(e,"mouseleave",t[15]),p(e,"keyup",t[16]),p(e,"keydown",t[17])],w=!0)},p(t,[n]){S?S.p&&(!c||1024&n)&&m(S,M,t,t[10],c?h(M,t[10],n,null):g(t[10]),null):q&&q.p&&(!c||4&n)&&q.p(t,c?n:-1),$(e,z=v(A,[{"data-carbon-icon":"TextScale20"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{width:"20"},{height:"20"},(!c||1&n)&&{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},(!c||8&n)&&{style:t[3]},(!c||2&n)&&{id:t[1]},16&n&&t[4]]))},i(t){c||(y(q,t),c=!0)},o(t){b(q,t),c=!1},d(t){t&&u(e),q&&q.d(t),w=!1,x(k)}}}function Ot(t,e,n){let l,r,o,s,{$$slots:i={},$$scope:a}=e,{class:c}=e,{id:u}=e,{tabindex:f}=e,{focusable:$=!1}=e,{title:p}=e,{style:m}=e;return t.$$set=t=>{n(18,e=d(d({},e),w(t))),"class"in t&&n(0,c=t.class),"id"in t&&n(1,u=t.id),"tabindex"in t&&n(5,f=t.tabindex),"focusable"in t&&n(6,$=t.focusable),"title"in t&&n(2,p=t.title),"style"in t&&n(3,m=t.style),"$$scope"in t&&n(10,a=t.$$scope)},t.$$.update=()=>{n(9,l=e["aria-label"]),n(8,r=e["aria-labelledby"]),772&t.$$.dirty&&n(7,o=l||r||p),992&t.$$.dirty&&n(4,s={"aria-label":l,"aria-labelledby":r,"aria-hidden":!o||void 0,role:o?"img":void 0,focusable:"0"===f||$,tabindex:f})},e=w(e),[c,u,p,m,s,f,$,o,r,l,a,i,function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)}]}var Ct=class extends t{constructor(t){super(),e(this,t,Ot,zt,n,{class:0,id:1,tabindex:5,focusable:6,title:2,style:3})}};function jt(t){let e,n;return{c(){e=s("title"),n=i(t[2])},m(t,l){o(t,e,l),a(e,n)},p(t,e){4&e&&c(n,t[2])},d(t){t&&u(e)}}}function Ft(t){let e,n,i,c,w,k;const M=t[11].default,S=l(M,t,t[10],null),q=S||function(t){let e,n=t[2]&&jt(t);return{c(){n&&n.c(),e=r()},m(t,l){n&&n.m(t,l),o(t,e,l)},p(t,l){t[2]?n?n.p(t,l):(n=jt(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&u(e)}}}(t);let A=[{"data-carbon-icon":"Image20"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{width:"20"},{height:"20"},{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},{style:t[3]},{id:t[1]},t[4]],z={};for(let l=0;l<A.length;l+=1)z=d(z,A[l]);return{c(){e=s("svg"),n=s("path"),i=s("path"),q&&q.c(),f(n,"d","M19,14a3,3,0,1,0-3-3A3,3,0,0,0,19,14Zm0-4a1,1,0,1,1-1,1A1,1,0,0,1,19,10Z"),f(i,"d","M26,4H6A2,2,0,0,0,4,6V26a2,2,0,0,0,2,2H26a2,2,0,0,0,2-2V6A2,2,0,0,0,26,4Zm0,22H6V20l5-5,5.59,5.59a2,2,0,0,0,2.82,0L21,19l5,5Zm0-4.83-3.59-3.59a2,2,0,0,0-2.82,0L18,19.17l-5.59-5.59a2,2,0,0,0-2.82,0L6,17.17V6H26Z"),$(e,z)},m(l,r){o(l,e,r),a(e,n),a(e,i),q&&q.m(e,null),c=!0,w||(k=[p(e,"click",t[12]),p(e,"mouseover",t[13]),p(e,"mouseenter",t[14]),p(e,"mouseleave",t[15]),p(e,"keyup",t[16]),p(e,"keydown",t[17])],w=!0)},p(t,[n]){S?S.p&&(!c||1024&n)&&m(S,M,t,t[10],c?h(M,t[10],n,null):g(t[10]),null):q&&q.p&&(!c||4&n)&&q.p(t,c?n:-1),$(e,z=v(A,[{"data-carbon-icon":"Image20"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{width:"20"},{height:"20"},(!c||1&n)&&{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},(!c||8&n)&&{style:t[3]},(!c||2&n)&&{id:t[1]},16&n&&t[4]]))},i(t){c||(y(q,t),c=!0)},o(t){b(q,t),c=!1},d(t){t&&u(e),q&&q.d(t),w=!1,x(k)}}}function Lt(t,e,n){let l,r,o,s,{$$slots:i={},$$scope:a}=e,{class:c}=e,{id:u}=e,{tabindex:f}=e,{focusable:$=!1}=e,{title:p}=e,{style:m}=e;return t.$$set=t=>{n(18,e=d(d({},e),w(t))),"class"in t&&n(0,c=t.class),"id"in t&&n(1,u=t.id),"tabindex"in t&&n(5,f=t.tabindex),"focusable"in t&&n(6,$=t.focusable),"title"in t&&n(2,p=t.title),"style"in t&&n(3,m=t.style),"$$scope"in t&&n(10,a=t.$$scope)},t.$$.update=()=>{n(9,l=e["aria-label"]),n(8,r=e["aria-labelledby"]),772&t.$$.dirty&&n(7,o=l||r||p),992&t.$$.dirty&&n(4,s={"aria-label":l,"aria-labelledby":r,"aria-hidden":!o||void 0,role:o?"img":void 0,focusable:"0"===f||$,tabindex:f})},e=w(e),[c,u,p,m,s,f,$,o,r,l,a,i,function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)}]}var Et=class extends t{constructor(t){super(),e(this,t,Lt,Ft,n,{class:0,id:1,tabindex:5,focusable:6,title:2,style:3})}};function Nt(t){return null!=t&&"object"==typeof t&&!0===t["@@functional/placeholder"]}function Rt(t){return function e(n){return 0===arguments.length||Nt(n)?e:t.apply(this,arguments)}}function Ht(t){return function e(n,l){switch(arguments.length){case 0:return e;case 1:return Nt(n)?e:Rt((function(e){return t(n,e)}));default:return Nt(n)&&Nt(l)?e:Nt(n)?Rt((function(e){return t(e,l)})):Nt(l)?Rt((function(e){return t(n,e)})):t(n,l)}}}function Bt(t,e){switch(t){case 0:return function(){return e.apply(this,arguments)};case 1:return function(t){return e.apply(this,arguments)};case 2:return function(t,n){return e.apply(this,arguments)};case 3:return function(t,n,l){return e.apply(this,arguments)};case 4:return function(t,n,l,r){return e.apply(this,arguments)};case 5:return function(t,n,l,r,o){return e.apply(this,arguments)};case 6:return function(t,n,l,r,o,s){return e.apply(this,arguments)};case 7:return function(t,n,l,r,o,s,i){return e.apply(this,arguments)};case 8:return function(t,n,l,r,o,s,i,a){return e.apply(this,arguments)};case 9:return function(t,n,l,r,o,s,i,a,c){return e.apply(this,arguments)};case 10:return function(t,n,l,r,o,s,i,a,c,u){return e.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}function Yt(t){return function e(n,l,r){switch(arguments.length){case 0:return e;case 1:return Nt(n)?e:Ht((function(e,l){return t(n,e,l)}));case 2:return Nt(n)&&Nt(l)?e:Nt(n)?Ht((function(e,n){return t(e,l,n)})):Nt(l)?Ht((function(e,l){return t(n,e,l)})):Rt((function(e){return t(n,l,e)}));default:return Nt(n)&&Nt(l)&&Nt(r)?e:Nt(n)&&Nt(l)?Ht((function(e,n){return t(e,n,r)})):Nt(n)&&Nt(r)?Ht((function(e,n){return t(e,l,n)})):Nt(l)&&Nt(r)?Ht((function(e,l){return t(n,e,l)})):Nt(n)?Rt((function(e){return t(e,l,r)})):Nt(l)?Rt((function(e){return t(n,e,r)})):Nt(r)?Rt((function(e){return t(n,l,e)})):t(n,l,r)}}}var Pt=Array.isArray||function(t){return null!=t&&t.length>=0&&"[object Array]"===Object.prototype.toString.call(t)};function Tt(t){return null!=t&&"function"==typeof t["@@transducer/step"]}function Vt(t,e,n){return function(){if(0===arguments.length)return n();var l=Array.prototype.slice.call(arguments,0),r=l.pop();if(!Pt(r)){for(var o=0;o<t.length;){if("function"==typeof r[t[o]])return r[t[o]].apply(r,l);o+=1}if(Tt(r)){var s=e.apply(null,l);return s(r)}}return n.apply(this,arguments)}}var _t=function(){return this.xf["@@transducer/init"]()},It=function(t){return this.xf["@@transducer/result"](t)};var Jt=Rt((function(t){return!!Pt(t)||!!t&&("object"==typeof t&&(!function(t){return"[object String]"===Object.prototype.toString.call(t)}(t)&&(1===t.nodeType?!!t.length:0===t.length||t.length>0&&(t.hasOwnProperty(0)&&t.hasOwnProperty(t.length-1)))))})),Wt=function(){function t(t){this.f=t}return t.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},t.prototype["@@transducer/result"]=function(t){return t},t.prototype["@@transducer/step"]=function(t,e){return this.f(t,e)},t}();var Xt=Ht((function(t,e){return Bt(t.length,(function(){return t.apply(e,arguments)}))}));function Zt(t,e,n){for(var l=n.next();!l.done;){if((e=t["@@transducer/step"](e,l.value))&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}l=n.next()}return t["@@transducer/result"](e)}function Gt(t,e,n,l){return t["@@transducer/result"](n[l](Xt(t["@@transducer/step"],t),e))}var Kt="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";function Qt(t,e,n){if("function"==typeof t&&(t=function(t){return new Wt(t)}(t)),Jt(n))return function(t,e,n){for(var l=0,r=n.length;l<r;){if((e=t["@@transducer/step"](e,n[l]))&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}l+=1}return t["@@transducer/result"](e)}(t,e,n);if("function"==typeof n["fantasy-land/reduce"])return Gt(t,e,n,"fantasy-land/reduce");if(null!=n[Kt])return Zt(t,e,n[Kt]());if("function"==typeof n.next)return Zt(t,e,n);if("function"==typeof n.reduce)return Gt(t,e,n,"reduce");throw new TypeError("reduce: list must be array or iterable")}var Ut=Yt(Qt);function Dt(t,e){return function(){return e.call(this,t.apply(this,arguments))}}function te(t,e){return function(){var n=arguments.length;if(0===n)return e();var l=arguments[n-1];return Pt(l)||"function"!=typeof l[t]?e.apply(this,arguments):l[t].apply(l,Array.prototype.slice.call(arguments,0,n-1))}}var ee=Rt(te("tail",Yt(te("slice",(function(t,e,n){return Array.prototype.slice.call(n,t,e)})))(1,1/0)));function ne(t){return t}var le=Rt(ne),re=Ht((function(t,e){for(var n={},l=0;l<t.length;)t[l]in e&&(n[t[l]]=e[t[l]]),l+=1;return n})),oe=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype["@@transducer/init"]=_t,t.prototype["@@transducer/result"]=It,t.prototype["@@transducer/step"]=function(t,e){return this.f(e),this.xf["@@transducer/step"](t,e)},t}(),se=Ht(Vt([],Ht((function(t,e){return new oe(t,e)})),(function(t,e){return t(e),e})));function ie(t){let e,n,l;return n=new M({props:{labelText:"拖放文件或者通过单击进行上传"}}),n.$on("change",t[0]),{c(){e=S("div"),q(n.$$.fragment),f(e,"class","upload-card")},m(t,r){o(t,e,r),A(n,e,null),l=!0},p:z,i(t){l||(y(n.$$.fragment,t),l=!0)},o(t){b(n.$$.fragment,t),l=!1},d(t){t&&u(e),O(n)}}}function ae(t){const e=C();return[function({target:{files:t}}){const[n]=t;rt.get().uploadFile({cloudPath:`images/${n.name}`,filePath:n}).then((({download_url:t})=>{e.close({url:t})}))}]}class ce extends t{constructor(t){super(),e(this,t,ae,ie,n,{})}}function ue(t,e,n){const l=t.slice();return l[12]=e[n],l}function de(t,e,n){const l=t.slice();return l[15]=e[n],l}function fe(t){let e,n,l,r,s,c,d,$,m,g=t[15].label+"";var h=t[15].icon;function v(){return t[4](t[15])}return h&&(n=new h({})),{c(){e=S("div"),n&&q(n.$$.fragment),l=j(),r=S("div"),s=i(g),c=j(),f(r,"class","pt-2 text-xs"),f(e,"class","menu-item flex flex-col justify-center items-center py-3 hover:text-blue-500 cursor-pointer svelte-5xo7rr"),F(e,"active",t[0]==t[15].name)},m(t,i){o(t,e,i),n&&A(n,e,null),a(e,l),a(e,r),a(r,s),a(e,c),d=!0,$||(m=p(e,"click",v),$=!0)},p(r,o){if(h!==(h=(t=r)[15].icon)){if(n){L();const t=n;b(t.$$.fragment,1,0,(()=>{O(t,1)})),E()}h?(n=new h({}),q(n.$$.fragment),y(n.$$.fragment,1),A(n,e,l)):n=null}5&o&&F(e,"active",t[0]==t[15].name)},i(t){d||(n&&y(n.$$.fragment,t),d=!0)},o(t){n&&b(n.$$.fragment,t),d=!1},d(t){t&&u(e),n&&O(n),$=!1,m()}}}function $e(t){let e,n,l,r,s,d,$,m,g,h=t[12].label+"";var v=t[12].icon;function x(){return t[5](t[12])}return v&&(n=new v({})),{c(){e=S("div"),n&&q(n.$$.fragment),l=j(),r=S("div"),s=i(h),d=j(),f(r,"class","pt-2 text-xs"),f(e,"class","widget bg-gray-100 hover:bg-gray-50 hover:text-blue-500 cursor-pointer svelte-5xo7rr")},m(t,i){o(t,e,i),n&&A(n,e,null),a(e,l),a(e,r),a(r,s),a(e,d),$=!0,m||(g=p(e,"click",x),m=!0)},p(r,o){if(v!==(v=(t=r)[12].icon)){if(n){L();const t=n;b(t.$$.fragment,1,0,(()=>{O(t,1)})),E()}v?(n=new v({}),q(n.$$.fragment),y(n.$$.fragment,1),A(n,e,l)):n=null}(!$||2&o)&&h!==(h=t[12].label+"")&&c(s,h)},i(t){$||(n&&y(n.$$.fragment,t),$=!0)},o(t){n&&b(n.$$.fragment,t),$=!1},d(t){t&&u(e),n&&O(n),m=!1,g()}}}function pe(t){let e,n,l,r,s,i=t[2],c=[];for(let o=0;o<i.length;o+=1)c[o]=fe(de(t,i,o));const d=t=>b(c[t],1,1,(()=>{c[t]=null}));let $=t[1],p=[];for(let o=0;o<$.length;o+=1)p[o]=$e(ue(t,$,o));const m=t=>b(p[t],1,1,(()=>{p[t]=null}));return{c(){e=S("div"),n=S("div");for(let t=0;t<c.length;t+=1)c[t].c();l=j(),r=S("div");for(let t=0;t<p.length;t+=1)p[t].c();f(n,"class","menu svelte-5xo7rr"),f(r,"class","widget-panel flex flex-auto flex-wrap svelte-5xo7rr"),f(e,"class","absolute inset-0 flex flex-column")},m(t,i){o(t,e,i),a(e,n);for(let e=0;e<c.length;e+=1)c[e].m(n,null);a(e,l),a(e,r);for(let e=0;e<p.length;e+=1)p[e].m(r,null);s=!0},p(t,[e]){if(5&e){let l;for(i=t[2],l=0;l<i.length;l+=1){const r=de(t,i,l);c[l]?(c[l].p(r,e),y(c[l],1)):(c[l]=fe(r),c[l].c(),y(c[l],1),c[l].m(n,null))}for(L(),l=i.length;l<c.length;l+=1)d(l);E()}if(10&e){let n;for($=t[1],n=0;n<$.length;n+=1){const l=ue(t,$,n);p[n]?(p[n].p(l,e),y(p[n],1)):(p[n]=$e(l),p[n].c(),y(p[n],1),p[n].m(r,null))}for(L(),n=$.length;n<p.length;n+=1)m(n);E()}},i(t){if(!s){for(let t=0;t<i.length;t+=1)y(c[t]);for(let t=0;t<$.length;t+=1)y(p[t]);s=!0}},o(t){c=c.filter(Boolean);for(let e=0;e<c.length;e+=1)b(c[e]);p=p.filter(Boolean);for(let e=0;e<p.length;e+=1)b(p[e]);s=!1},d(t){t&&u(e),N(c,t),N(p,t)}}}function me(t,e,n){let l;var r=this&&this.__awaiter||function(t,e,n,l){return new(n||(n=Promise))((function(r,o){function s(t){try{a(l.next(t))}catch(e){o(e)}}function i(t){try{a(l.throw(t))}catch(e){o(e)}}function a(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,i)}a((l=l.apply(t,e||[])).next())}))};const o=C(),{dispatch:s}=ot((t=>t.editor));let i="base";const a=[{label:"文字",event:st.text,icon:Ct},{label:"图片",event:st.image,icon:Et,before:function(){return r(this,void 0,void 0,(function*(){return o.open({component:ce,width:500,props:{labelText:"拖放文件或者通过点击进行上传"},title:"上传"}).then((({url:t})=>{const e=it(st.image,t),n=new Image;return new Promise((l=>{n.onload=()=>{e.property.width=n.width,e.property.height=n.height,l(e)},n.src=t}))}))}))}}],c=[{label:"基础",name:"base",icon:wt,widgets:a},{label:"引用",name:"quote",icon:qt,widgets:[]}];function u(t,e){return r(this,void 0,void 0,(function*(){const n=e||le,l=yield n(t);l&&s("createWidget",l)}))}return t.$$.update=()=>{1&t.$$.dirty&&n(1,l=c.find((t=>t.name===i)).widgets)},[i,l,c,u,t=>n(0,i=t.name),t=>u(t.event,t.before)]}class ge extends t{constructor(t){super(),e(this,t,me,pe,n,{})}}function he(t){window.addEventListener("keydown",(e=>{e.ctrlKey&&("c"===e.key&&function(t){const e=at(t);if(!e)return;const n=e.getNodes().filter((t=>t.visible()));ct.dispatch("updateCopied",[...n])}(t),"v"===e.key&&function(){const{widgets:t,copied:e}=ct.get();if(0===e.length)return;const n=t.filter((t=>e.map((t=>t.id())).includes(t.id)));n.length&&n.map((t=>ut(t))).forEach((t=>ct.dispatch("createWidget",t)))}())}))}function ve(t){window.addEventListener("keydown",(e=>{if("Backspace"!==e.key)return;dt(t).forEach((t=>{ct.dispatch("deleteWidget",t.id())}))}))}function ye(t){let e;return{c(){e=S("div"),f(e,"id","convas-container"),f(e,"class","content-container absolute inset-0 svelte-1lg75l6")},m(n,l){o(n,e,l),t[1](e)},p:z,i:z,o:z,d(n){n&&u(e),t[1](null)}}}function be(t,e,n){let l;function r(t){window.addEventListener("resize",(()=>$t(t)))}return R((()=>{const t=ft(l);!function(){if(0===arguments.length)throw new Error("pipe requires at least one argument");return Bt(arguments[0].length,Ut(Dt,arguments[0],ee(arguments)))}(se(mt),se(pt),se(he),se(r),se($t),se(ve))(t)})),[l,function(t){H[t?"unshift":"push"]((()=>{l=t,n(0,l)}))}]}class xe extends t{constructor(t){super(),e(this,t,be,ye,n,{})}}function we(t){let e,n;return{c(){e=s("title"),n=i(t[2])},m(t,l){o(t,e,l),a(e,n)},p(t,e){4&e&&c(n,t[2])},d(t){t&&u(e)}}}function ke(t){let e,n,i,c,w;const k=t[11].default,M=l(k,t,t[10],null),S=M||function(t){let e,n=t[2]&&we(t);return{c(){n&&n.c(),e=r()},m(t,l){n&&n.m(t,l),o(t,e,l)},p(t,l){t[2]?n?n.p(t,l):(n=we(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&u(e)}}}(t);let q=[{"data-carbon-icon":"Reset16"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{width:"16"},{height:"16"},{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},{style:t[3]},{id:t[1]},t[4]],A={};for(let l=0;l<q.length;l+=1)A=d(A,q[l]);return{c(){e=s("svg"),n=s("path"),S&&S.c(),f(n,"d","M18,28A12,12,0,1,0,6,16v6.2L2.4,18.6,1,20l6,6,6-6-1.4-1.4L8,22.2V16H8A10,10,0,1,1,18,26Z"),$(e,A)},m(l,r){o(l,e,r),a(e,n),S&&S.m(e,null),i=!0,c||(w=[p(e,"click",t[12]),p(e,"mouseover",t[13]),p(e,"mouseenter",t[14]),p(e,"mouseleave",t[15]),p(e,"keyup",t[16]),p(e,"keydown",t[17])],c=!0)},p(t,[n]){M?M.p&&(!i||1024&n)&&m(M,k,t,t[10],i?h(k,t[10],n,null):g(t[10]),null):S&&S.p&&(!i||4&n)&&S.p(t,i?n:-1),$(e,A=v(q,[{"data-carbon-icon":"Reset16"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{width:"16"},{height:"16"},(!i||1&n)&&{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},(!i||8&n)&&{style:t[3]},(!i||2&n)&&{id:t[1]},16&n&&t[4]]))},i(t){i||(y(S,t),i=!0)},o(t){b(S,t),i=!1},d(t){t&&u(e),S&&S.d(t),c=!1,x(w)}}}function Me(t,e,n){let l,r,o,s,{$$slots:i={},$$scope:a}=e,{class:c}=e,{id:u}=e,{tabindex:f}=e,{focusable:$=!1}=e,{title:p}=e,{style:m}=e;return t.$$set=t=>{n(18,e=d(d({},e),w(t))),"class"in t&&n(0,c=t.class),"id"in t&&n(1,u=t.id),"tabindex"in t&&n(5,f=t.tabindex),"focusable"in t&&n(6,$=t.focusable),"title"in t&&n(2,p=t.title),"style"in t&&n(3,m=t.style),"$$scope"in t&&n(10,a=t.$$scope)},t.$$.update=()=>{n(9,l=e["aria-label"]),n(8,r=e["aria-labelledby"]),772&t.$$.dirty&&n(7,o=l||r||p),992&t.$$.dirty&&n(4,s={"aria-label":l,"aria-labelledby":r,"aria-hidden":!o||void 0,role:o?"img":void 0,focusable:"0"===f||$,tabindex:f})},e=w(e),[c,u,p,m,s,f,$,o,r,l,a,i,function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)}]}var Se=class extends t{constructor(t){super(),e(this,t,Me,ke,n,{class:0,id:1,tabindex:5,focusable:6,title:2,style:3})}};function qe(t){let e,n;return{c(){e=s("title"),n=i(t[2])},m(t,l){o(t,e,l),a(e,n)},p(t,e){4&e&&c(n,t[2])},d(t){t&&u(e)}}}function Ae(t){let e,n,i,c,w;const k=t[11].default,M=l(k,t,t[10],null),S=M||function(t){let e,n=t[2]&&qe(t);return{c(){n&&n.c(),e=r()},m(t,l){n&&n.m(t,l),o(t,e,l)},p(t,l){t[2]?n?n.p(t,l):(n=qe(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&u(e)}}}(t);let q=[{"data-carbon-icon":"Rotate16"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{width:"16"},{height:"16"},{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},{style:t[3]},{id:t[1]},t[4]],A={};for(let l=0;l<q.length;l+=1)A=d(A,q[l]);return{c(){e=s("svg"),n=s("path"),S&&S.c(),f(n,"d","M17.91 26.82l.35 2a12.9 12.9 0 004.24-1.54l-1-1.73A10.88 10.88 0 0117.91 26.82zM24.42 23.07L26 24.35a13 13 0 002.24-3.91l-1.87-.68A11 11 0 0124.42 23.07zM9.5 27.25a12.9 12.9 0 004.24 1.54l.35-2a10.88 10.88 0 01-3.59-1.3zM5.67 19.76l-1.87.68A13 13 0 006 24.35l.32-.26 1.22-1h0a11 11 0 01-1.91-3.31zM29 16a12.85 12.85 0 00-.8-4.44l-1.87.68A11.18 11.18 0 0127 16zM26 7.65a13 13 0 00-20 0V4H4v8h8V10H6.81A11 11 0 0124.42 8.93z"),$(e,A)},m(l,r){o(l,e,r),a(e,n),S&&S.m(e,null),i=!0,c||(w=[p(e,"click",t[12]),p(e,"mouseover",t[13]),p(e,"mouseenter",t[14]),p(e,"mouseleave",t[15]),p(e,"keyup",t[16]),p(e,"keydown",t[17])],c=!0)},p(t,[n]){M?M.p&&(!i||1024&n)&&m(M,k,t,t[10],i?h(k,t[10],n,null):g(t[10]),null):S&&S.p&&(!i||4&n)&&S.p(t,i?n:-1),$(e,A=v(q,[{"data-carbon-icon":"Rotate16"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{width:"16"},{height:"16"},(!i||1&n)&&{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},(!i||8&n)&&{style:t[3]},(!i||2&n)&&{id:t[1]},16&n&&t[4]]))},i(t){i||(y(S,t),i=!0)},o(t){b(S,t),i=!1},d(t){t&&u(e),S&&S.d(t),c=!1,x(w)}}}function ze(t,e,n){let l,r,o,s,{$$slots:i={},$$scope:a}=e,{class:c}=e,{id:u}=e,{tabindex:f}=e,{focusable:$=!1}=e,{title:p}=e,{style:m}=e;return t.$$set=t=>{n(18,e=d(d({},e),w(t))),"class"in t&&n(0,c=t.class),"id"in t&&n(1,u=t.id),"tabindex"in t&&n(5,f=t.tabindex),"focusable"in t&&n(6,$=t.focusable),"title"in t&&n(2,p=t.title),"style"in t&&n(3,m=t.style),"$$scope"in t&&n(10,a=t.$$scope)},t.$$.update=()=>{n(9,l=e["aria-label"]),n(8,r=e["aria-labelledby"]),772&t.$$.dirty&&n(7,o=l||r||p),992&t.$$.dirty&&n(4,s={"aria-label":l,"aria-labelledby":r,"aria-hidden":!o||void 0,role:o?"img":void 0,focusable:"0"===f||$,tabindex:f})},e=w(e),[c,u,p,m,s,f,$,o,r,l,a,i,function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)}]}var Oe=class extends t{constructor(t){super(),e(this,t,ze,Ae,n,{class:0,id:1,tabindex:5,focusable:6,title:2,style:3})}};function Ce(t){let e,n;return{c(){e=s("title"),n=i(t[2])},m(t,l){o(t,e,l),a(e,n)},p(t,e){4&e&&c(n,t[2])},d(t){t&&u(e)}}}function je(t){let e,n,i,c,w;const k=t[11].default,M=l(k,t,t[10],null),S=M||function(t){let e,n=t[2]&&Ce(t);return{c(){n&&n.c(),e=r()},m(t,l){n&&n.m(t,l),o(t,e,l)},p(t,l){t[2]?n?n.p(t,l):(n=Ce(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&u(e)}}}(t);let q=[{"data-carbon-icon":"WatsonHealthRotate_18016"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{width:"16"},{height:"16"},{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},{style:t[3]},{id:t[1]},t[4]],A={};for(let l=0;l<q.length;l+=1)A=d(A,q[l]);return{c(){e=s("svg"),n=s("path"),S&&S.c(),f(n,"d","M14.0913 26.8235l-.3467 1.968a12.8956 12.8956 0 01-4.24-1.5418l1-1.7307A10.9086 10.9086 0 0014.0913 26.8235zM7.5767 23.0682L6.0449 24.3533a12.9811 12.9811 0 01-2.25-3.9112l1.8775-.6834A10.9808 10.9808 0 007.5767 23.0682zM22.4951 27.25a12.8956 12.8956 0 01-4.24 1.5418l-.3467-1.968a10.9086 10.9086 0 003.5869-1.3045zM26.3271 19.7587l1.8775.6834a12.9811 12.9811 0 01-2.2495 3.9112l-.3115-.2614-1.22-1.0237h0a10.9822 10.9822 0 001.9038-3.3093zM13.6616 5.2559c-.1592.0346-.3144.08-.4712.1215-.2131.0562-.4258.1138-.6335.1822-.1643.0547-.325.1167-.4859.1782-.1926.0742-.3835.1509-.57.2349-.1611.0727-.3193.15-.4763.23q-.2677.1363-.5262.2867c-.153.0893-.3046.18-.4531.2758-.1679.1089-.3308.2242-.4922.3413-.1406.1026-.2817.2037-.417.3125-.1616.1294-.3156.2676-.47.4063-.1225.11-.2478.2168-.3652.332-.1668.1636-.3223.3379-.4785.5117A10.9438 10.9438 0 005 16H3A12.9363 12.9363 0 016.05 7.65l-.0047-.0039c.0918-.1094.197-.2061.2925-.3125.1841-.2051.3672-.41.5635-.603.1382-.1358.2856-.2613.43-.3907.1831-.1645.3657-.3286.5581-.4824.1592-.1279.3244-.2466.4895-.3667.1921-.14.3855-.2768.5854-.4062.1743-.1128.3523-.2188.5322-.3238q.3081-.1786.6253-.3408c.1846-.0942.37-.1846.56-.27.2224-.1.449-.1914.678-.2793.1894-.0723.3777-.1455.5713-.209.2463-.0815.498-.1494.7507-.2163.1848-.0493.3674-.1025.5554-.1431.29-.0634.5865-.1074.8833-.1508.159-.023.3145-.0552.4754-.0728A12.9331 12.9331 0 0126 7.7031V4h2v8H20V10h5.1885A10.961 10.961 0 0016 5a11.1114 11.1114 0 00-1.189.0669c-.1362.0146-.268.042-.4026.0615C14.1575 5.165 13.907 5.2026 13.6616 5.2559z"),$(e,A)},m(l,r){o(l,e,r),a(e,n),S&&S.m(e,null),i=!0,c||(w=[p(e,"click",t[12]),p(e,"mouseover",t[13]),p(e,"mouseenter",t[14]),p(e,"mouseleave",t[15]),p(e,"keyup",t[16]),p(e,"keydown",t[17])],c=!0)},p(t,[n]){M?M.p&&(!i||1024&n)&&m(M,k,t,t[10],i?h(k,t[10],n,null):g(t[10]),null):S&&S.p&&(!i||4&n)&&S.p(t,i?n:-1),$(e,A=v(q,[{"data-carbon-icon":"WatsonHealthRotate_18016"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{width:"16"},{height:"16"},(!i||1&n)&&{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},(!i||8&n)&&{style:t[3]},(!i||2&n)&&{id:t[1]},16&n&&t[4]]))},i(t){i||(y(S,t),i=!0)},o(t){b(S,t),i=!1},d(t){t&&u(e),S&&S.d(t),c=!1,x(w)}}}function Fe(t,e,n){let l,r,o,s,{$$slots:i={},$$scope:a}=e,{class:c}=e,{id:u}=e,{tabindex:f}=e,{focusable:$=!1}=e,{title:p}=e,{style:m}=e;return t.$$set=t=>{n(18,e=d(d({},e),w(t))),"class"in t&&n(0,c=t.class),"id"in t&&n(1,u=t.id),"tabindex"in t&&n(5,f=t.tabindex),"focusable"in t&&n(6,$=t.focusable),"title"in t&&n(2,p=t.title),"style"in t&&n(3,m=t.style),"$$scope"in t&&n(10,a=t.$$scope)},t.$$.update=()=>{n(9,l=e["aria-label"]),n(8,r=e["aria-labelledby"]),772&t.$$.dirty&&n(7,o=l||r||p),992&t.$$.dirty&&n(4,s={"aria-label":l,"aria-labelledby":r,"aria-hidden":!o||void 0,role:o?"img":void 0,focusable:"0"===f||$,tabindex:f})},e=w(e),[c,u,p,m,s,f,$,o,r,l,a,i,function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)}]}var Le=class extends t{constructor(t){super(),e(this,t,Fe,je,n,{class:0,id:1,tabindex:5,focusable:6,title:2,style:3})}};function Ee(t){let e,n,l,r,s,d,$,m,g,h,v,w,k,M,z,C,N,R,H,P,T,V,_,I,J=(100*t[0]).toFixed(0)+"";var W=Oe;W&&(r=new W({}));var X=Le;X&&($=new X({}));var Z=B;Z&&(v=new Z({}));var G=Y;G&&(R=new G({}));var K=Se;return K&&(T=new K({})),{c(){e=S("div"),n=S("div"),l=S("div"),r&&q(r.$$.fragment),s=j(),d=S("div"),$&&q($.$$.fragment),m=j(),g=S("div"),h=S("div"),v&&q(v.$$.fragment),w=j(),k=S("div"),M=i(J),z=i("%"),C=j(),N=S("div"),R&&q(R.$$.fragment),H=j(),P=S("div"),T&&q(T.$$.fragment),f(l,"class","icon-button svelte-1bds2xv"),F(l,"disabled",0===t[1].backward.length),f(d,"class","icon-button svelte-1bds2xv"),F(d,"disabled",0===t[1].forward.length),f(n,"class","history mb-10"),f(h,"class","icon-button svelte-1bds2xv"),f(k,"class","zoom-value svelte-1bds2xv"),f(N,"class","icon-button svelte-1bds2xv"),f(P,"class","icon-button svelte-1bds2xv"),f(g,"class","zoom"),f(e,"class","tool-container absolute inset-0 flex flex-col items-center svelte-1bds2xv")},m(i,c){o(i,e,c),a(e,n),a(n,l),r&&A(r,l,null),a(n,s),a(n,d),$&&A($,d,null),a(e,m),a(e,g),a(g,h),v&&A(v,h,null),a(g,w),a(g,k),a(k,M),a(k,z),a(g,C),a(g,N),R&&A(R,N,null),a(g,H),a(g,P),T&&A(T,P,null),V=!0,_||(I=[p(l,"click",t[6]),p(d,"click",t[7]),p(h,"click",t[8]),p(N,"click",t[9]),p(P,"click",t[10]),p(e,"keydown",Ne)],_=!0)},p(t,[e]){if(W!==(W=Oe)){if(r){L();const t=r;b(t.$$.fragment,1,0,(()=>{O(t,1)})),E()}W?(r=new W({}),q(r.$$.fragment),y(r.$$.fragment,1),A(r,l,null)):r=null}if(2&e&&F(l,"disabled",0===t[1].backward.length),X!==(X=Le)){if($){L();const t=$;b(t.$$.fragment,1,0,(()=>{O(t,1)})),E()}X?($=new X({}),q($.$$.fragment),y($.$$.fragment,1),A($,d,null)):$=null}if(2&e&&F(d,"disabled",0===t[1].forward.length),Z!==(Z=B)){if(v){L();const t=v;b(t.$$.fragment,1,0,(()=>{O(t,1)})),E()}Z?(v=new Z({}),q(v.$$.fragment),y(v.$$.fragment,1),A(v,h,null)):v=null}if((!V||1&e)&&J!==(J=(100*t[0]).toFixed(0)+"")&&c(M,J),G!==(G=Y)){if(R){L();const t=R;b(t.$$.fragment,1,0,(()=>{O(t,1)})),E()}G?(R=new G({}),q(R.$$.fragment),y(R.$$.fragment,1),A(R,N,null)):R=null}if(K!==(K=Se)){if(T){L();const t=T;b(t.$$.fragment,1,0,(()=>{O(t,1)})),E()}K?(T=new K({}),q(T.$$.fragment),y(T.$$.fragment,1),A(T,P,null)):T=null}},i(t){V||(r&&y(r.$$.fragment,t),$&&y($.$$.fragment,t),v&&y(v.$$.fragment,t),R&&y(R.$$.fragment,t),T&&y(T.$$.fragment,t),V=!0)},o(t){r&&b(r.$$.fragment,t),$&&b($.$$.fragment,t),v&&b(v.$$.fragment,t),R&&b(R.$$.fragment,t),T&&b(T.$$.fragment,t),V=!1},d(t){t&&u(e),r&&O(r),$&&O($),v&&O(v),R&&O(R),T&&O(T),_=!1,x(I)}}}const Ne=t=>t.stopPropagation();function Re(t,e,n){let l,r;const{history:o,zoom:s,dispatch:i}=ot((t=>t.editor));function a(t){if(l<=.5&&t<0||l>=5&&t>0)return;const e=t?parseFloat((l+.1*t).toFixed(2)):1;i("updateZoom",e)}P(t,o,(t=>n(1,r=t))),P(t,s,(t=>n(0,l=t)));return[l,r,o,s,i,a,()=>i("backward"),()=>i("forward"),()=>a(1),()=>a(-1),()=>a()]}class He extends t{constructor(t){super(),e(this,t,Re,Ee,n,{})}}function Be(t){let e,n,l,r,s,i,a,c,d,f;return e=new vt({props:{label:"X",$$slots:{default:[Ye]},$$scope:{ctx:t}}}),l=new vt({props:{label:"Y",$$slots:{default:[Pe]},$$scope:{ctx:t}}}),s=new vt({props:{label:"宽度",$$slots:{default:[Te]},$$scope:{ctx:t}}}),a=new vt({props:{label:"高度",$$slots:{default:[Ve]},$$scope:{ctx:t}}}),d=new vt({props:{label:"角度",$$slots:{default:[_e]},$$scope:{ctx:t}}}),{c(){q(e.$$.fragment),n=j(),q(l.$$.fragment),r=j(),q(s.$$.fragment),i=j(),q(a.$$.fragment),c=j(),q(d.$$.fragment)},m(t,u){A(e,t,u),o(t,n,u),A(l,t,u),o(t,r,u),A(s,t,u),o(t,i,u),A(a,t,u),o(t,c,u),A(d,t,u),f=!0},p(t,n){const r={};131073&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r);const o={};131073&n&&(o.$$scope={dirty:n,ctx:t}),l.$set(o);const i={};131073&n&&(i.$$scope={dirty:n,ctx:t}),s.$set(i);const c={};131073&n&&(c.$$scope={dirty:n,ctx:t}),a.$set(c);const u={};131073&n&&(u.$$scope={dirty:n,ctx:t}),d.$set(u)},i(t){f||(y(e.$$.fragment,t),y(l.$$.fragment,t),y(s.$$.fragment,t),y(a.$$.fragment,t),y(d.$$.fragment,t),f=!0)},o(t){b(e.$$.fragment,t),b(l.$$.fragment,t),b(s.$$.fragment,t),b(a.$$.fragment,t),b(d.$$.fragment,t),f=!1},d(t){O(e,t),t&&u(n),O(l,t),t&&u(r),O(s,t),t&&u(i),O(a,t),t&&u(c),O(d,t)}}}function Ye(t){let e,n,l;function r(e){t[4](e)}let o={};return void 0!==t[0].x&&(o.value=t[0].x),e=new T({props:o}),H.push((()=>V(e,"value",r))),e.$on("change",t[3]),{c(){q(e.$$.fragment)},m(t,n){A(e,t,n),l=!0},p(t,l){const r={};!n&&1&l&&(n=!0,r.value=t[0].x,_((()=>n=!1))),e.$set(r)},i(t){l||(y(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Pe(t){let e,n,l;function r(e){t[5](e)}let o={};return void 0!==t[0].y&&(o.value=t[0].y),e=new T({props:o}),H.push((()=>V(e,"value",r))),e.$on("change",t[3]),{c(){q(e.$$.fragment)},m(t,n){A(e,t,n),l=!0},p(t,l){const r={};!n&&1&l&&(n=!0,r.value=t[0].y,_((()=>n=!1))),e.$set(r)},i(t){l||(y(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Te(t){let e,n,l;function r(e){t[6](e)}let o={min:0};return void 0!==t[0].width&&(o.value=t[0].width),e=new T({props:o}),H.push((()=>V(e,"value",r))),e.$on("change",t[3]),{c(){q(e.$$.fragment)},m(t,n){A(e,t,n),l=!0},p(t,l){const r={};!n&&1&l&&(n=!0,r.value=t[0].width,_((()=>n=!1))),e.$set(r)},i(t){l||(y(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Ve(t){let e,n,l;function r(e){t[7](e)}let o={min:0};return void 0!==t[0].height&&(o.value=t[0].height),e=new T({props:o}),H.push((()=>V(e,"value",r))),e.$on("change",t[3]),{c(){q(e.$$.fragment)},m(t,n){A(e,t,n),l=!0},p(t,l){const r={};!n&&1&l&&(n=!0,r.value=t[0].height,_((()=>n=!1))),e.$set(r)},i(t){l||(y(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function _e(t){let e,n,l;function r(e){t[8](e)}let o={};return void 0!==t[0].rotation&&(o.value=t[0].rotation),e=new T({props:o}),H.push((()=>V(e,"value",r))),e.$on("change",t[3]),{c(){q(e.$$.fragment)},m(t,n){A(e,t,n),l=!0},p(t,l){const r={};!n&&1&l&&(n=!0,r.value=t[0].rotation,_((()=>n=!1))),e.$set(r)},i(t){l||(y(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Ie(t){let e,n,l=t[0]&&Be(t);return{c(){l&&l.c(),e=r()},m(t,r){l&&l.m(t,r),o(t,e,r),n=!0},p(t,n){t[0]?l?(l.p(t,n),1&n&&y(l,1)):(l=Be(t),l.c(),y(l,1),l.m(e.parentNode,e)):l&&(L(),b(l,1,1,(()=>{l=null})),E())},i(t){n||(y(l),n=!0)},o(t){b(l),n=!1},d(t){l&&l.d(t),t&&u(e)}}}function Je(t){let e,n;return e=new ht({props:{$$slots:{default:[Ie]},$$scope:{ctx:t}}}),{c(){q(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,[n]){const l={};131073&n&&(l.$$scope={dirty:n,ctx:t}),e.$set(l)},i(t){n||(y(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function We(t,e,n){let l,r;const{selected:o,widgets:s,dispatch:i,stage:a}=ot((t=>t.editor));P(t,o,(t=>n(11,r=t))),P(t,a,(t=>n(10,l=t)));let c,u={width:0,height:0,x:0,y:0,rotation:0};return s.subscribe((t=>{const e=t.find((t=>1===r.length&&t.id===r[0]));c=e,e&&function(){const t=re(Object.keys(u),c.property);JSON.stringify(u)!==JSON.stringify(t)&&n(0,u=t)}()})),[u,o,a,function(){const t=re(Object.keys(u),c.property);JSON.stringify(u)!==JSON.stringify(t)&&(!function(){const[t]=r;if(!t)return;const e=l.findOne(`#${t}`);Object.entries(u).forEach((([t,n])=>{e.getAttr(t)!==n&&e.setAttr(t,n)}))}(),i("updateWidget",{id:c.id,property:Object.assign(Object.assign({},c.property),u)}))},function(e){t.$$.not_equal(u.x,e)&&(u.x=e,n(0,u))},function(e){t.$$.not_equal(u.y,e)&&(u.y=e,n(0,u))},function(e){t.$$.not_equal(u.width,e)&&(u.width=e,n(0,u))},function(e){t.$$.not_equal(u.height,e)&&(u.height=e,n(0,u))},function(e){t.$$.not_equal(u.rotation,e)&&(u.rotation=e,n(0,u))}]}class Xe extends t{constructor(t){super(),e(this,t,We,Je,n,{})}}function Ze(t){let e,n,l,r,s,d,$,m,g,h,v,y,b,w,k,M,q,A,O,C,F,L,E,N,R,H,B,Y,P,T,V,_,I,J,W,X,Z,G,K,Q,U,D,tt,et,nt,lt,rt;return{c(){e=S("div"),n=S("div"),l=S("div"),r=S("div"),s=S("div"),d=j(),$=S("div"),m=j(),g=S("div"),h=S("div"),v=j(),y=S("div"),b=j(),w=S("div"),k=S("div"),M=j(),q=S("div"),A=j(),O=S("div"),C=j(),F=S("div"),L=S("div"),L.innerHTML='<div class="color-picked svelte-1polsdl"></div>',E=j(),N=S("div"),R=S("p"),H=i(t[3]),B=j(),Y=S("div"),P=S("div"),T=S("p"),V=i(t[0]),_=j(),I=S("p"),I.textContent="R",J=j(),W=S("div"),X=S("p"),Z=i(t[1]),G=j(),K=S("p"),K.textContent="G",Q=j(),U=S("div"),D=S("p"),tt=i(t[2]),et=j(),nt=S("p"),nt.textContent="B",f(s,"id","colorsquare-picker"),f(s,"class","svelte-1polsdl"),f($,"id","colorsquare-event"),f($,"class","svelte-1polsdl"),f(r,"class","value-gradient svelte-1polsdl"),f(l,"class","saturation-gradient svelte-1polsdl"),f(n,"class","colorsquare size svelte-1polsdl"),f(h,"id","hue-picker"),f(h,"class","svelte-1polsdl"),f(y,"id","hue-event"),f(y,"class","svelte-1polsdl"),f(g,"class","hue-selector svelte-1polsdl"),f(k,"class","alpha-value svelte-1polsdl"),f(q,"id","alpha-picker"),f(q,"class","svelte-1polsdl"),f(O,"id","alpha-event"),f(O,"class","svelte-1polsdl"),f(w,"class","alpha-selector svelte-1polsdl"),f(L,"class","color-picked-bg svelte-1polsdl"),f(R,"class","text svelte-1polsdl"),f(N,"class","hex-text-block svelte-1polsdl"),f(T,"class","text svelte-1polsdl"),f(I,"class","text-label svelte-1polsdl"),f(P,"class","rgb-text-block svelte-1polsdl"),f(X,"class","text svelte-1polsdl"),f(K,"class","text-label svelte-1polsdl"),f(W,"class","rgb-text-block svelte-1polsdl"),f(D,"class","text svelte-1polsdl"),f(nt,"class","text-label svelte-1polsdl"),f(U,"class","rgb-text-block svelte-1polsdl"),f(Y,"class","rgb-text-div svelte-1polsdl"),f(F,"class","color-info-box svelte-1polsdl"),f(e,"class","main-container svelte-1polsdl")},m(i,c){o(i,e,c),a(e,n),a(n,l),a(l,r),a(r,s),a(r,d),a(r,$),a(e,m),a(e,g),a(g,h),a(g,v),a(g,y),a(e,b),a(e,w),a(w,k),a(w,M),a(w,q),a(w,A),a(w,O),a(e,C),a(e,F),a(F,L),a(F,E),a(F,N),a(N,R),a(R,H),a(F,B),a(F,Y),a(Y,P),a(P,T),a(T,V),a(P,_),a(P,I),a(Y,J),a(Y,W),a(W,X),a(X,Z),a(W,G),a(W,K),a(Y,Q),a(Y,U),a(U,D),a(D,tt),a(U,et),a(U,nt),lt||(rt=[p($,"mousedown",t[4]),p($,"touchstart",t[5]),p(y,"mousedown",t[6]),p(y,"touchstart",t[7]),p(O,"mousedown",t[8]),p(O,"touchstart",t[9])],lt=!0)},p(t,[e]){8&e&&c(H,t[3]),1&e&&c(V,t[0]),2&e&&c(Z,t[1]),4&e&&c(tt,t[2])},i:z,o:z,d(t){t&&u(e),lt=!1,x(rt)}}}function Ge(t,e,n){let l=document.querySelector(t);l&&l.removeEventListener(e,n)}function Ke(t,e,n){var l,r,o,s=Math.floor(6*t),i=6*t-s,a=n*(1-e),c=n*(1-i*e),u=n*(1-(1-i)*e);switch(s%6){case 0:l=n,r=u,o=a;break;case 1:l=c,r=n,o=a;break;case 2:l=a,r=n,o=u;break;case 3:l=a,r=c,o=n;break;case 4:l=u,r=a,o=n;break;case 5:l=n,r=a,o=c}return[Math.round(255*l),Math.round(255*r),Math.round(255*o)]}function Qe(t,e,n){let{startColor:l="#FF0000"}=e;R((()=>{document.addEventListener("mouseup",b),document.addEventListener("touchend",b),document.addEventListener("mousemove",g),document.addEventListener("touchmove",h),document.addEventListener("touchstart",p),document.addEventListener("mousedown",m),function(){let t=l.replace("#","");if(8!==t.length&&6!==t.length&&3!==t.length&&!t.match(/([^A-F0-9])/gi))return void alert("Invalid property value (startColor)");let e="";3===t.length||4===t.length?t.split("").forEach((t=>{e+=t+t})):e=t;n(3,$=e.slice(0,6)),n(0,u=parseInt(e.substring(0,2),16)),n(1,d=parseInt(e.substring(2,4),16)),n(2,f=parseInt(e.substring(4,6),16)),c=parseInt(e.substring(6,8)||"FF",16)/255,function(t,e,n,l){let r,o,c,u,d,f,$,p,m,g;r=t/255,o=e/255,c=n/255,u=Math.max(r,o,c),d=Math.min(r,o,c),f=u-d,g=u,m=0==g?0:f/u;for(let s=0;s<3;s++)if([r,o,c][s]===u){$=s;break}if(0==f)return p=0,l?(s=p,i=m,a=g,void k()):{h:p,s:m,v:g};switch($){case 0:p=(o-c)/f%6*60/360;break;case 1:p=60*((c-r)/f+2)/360;break;case 2:p=60*((r-o)/f+4)/360}p<0&&(p+=6);if(!l)return{h:p,s:m,v:g};s=p,i=m,a=g,k()}(u,d,f,!0),function(){let t=document.querySelector("#colorsquare-picker"),e=100*i,n=100*(1-a);t.style.top=n+"%",t.style.left=e+"%"}(),function(){let t=document.querySelector("#hue-picker"),e=100*s;t.style.left=e+"%"}(),function(){let t=document.querySelector("#alpha-picker"),e=100*c;t.style.left=e+"%"}()}()}));const r=I();let o,s=1,i=1,a=1,c=1,u=255,d=0,f=0,$="#FF0000";function p(){Ge("#alpha-event","mousedown",S),Ge("#colorsquare-event","mousedown",v),Ge("#hue-event","mousedown",x),document.removeEventListener("mouseup",b),document.removeEventListener("mousemove",g),document.removeEventListener("touchstart",p),document.removeEventListener("mousedown",m)}function m(){Ge("#alpha-event","touchstart",q),Ge("#colorsquare-event","touchstart",y),Ge("#hue-event","touchstart",w),document.removeEventListener("touchend",b),document.removeEventListener("touchmove",h),document.removeEventListener("touchstart",p),document.removeEventListener("mousedown",m)}function g(t){if(o){let e,n,l,r=t.clientX,u=t.clientY,d=o.getBoundingClientRect();switch(o.id){case"colorsquare-event":e=(r-d.x)/240*100,n=(u-d.y)/160*100,e>100?e=100:e<0&&(e=0),n>100?n=100:n<0&&(n=0),l=document.querySelector("#colorsquare-picker"),n=n.toFixed(2),e=e.toFixed(2),l.style.top=n+"%",l.style.left=e+"%",i=e/100,a=1-n/100,M();break;case"hue-event":e=(r-10-d.x)/220*100,e>100?e=100:e<0&&(e=0),e=e.toFixed(2),l=document.querySelector("#hue-picker"),l.style.left=e+"%",s=e/100,k();break;case"alpha-event":e=(r-10-d.x)/220*100,e>100?e=100:e<0&&(e=0),e=e.toFixed(2),l=document.querySelector("#alpha-picker"),l.style.left=e+"%",c=e/100,M()}}}function h(t){if(o){let e,n,l,r=t.touches[0].clientX,u=t.touches[0].clientY,d=o.getBoundingClientRect();switch(o.id){case"colorsquare-event":e=(r-d.x)/240*100,n=(u-d.y)/160*100,e>100?e=100:e<0&&(e=0),n>100?n=100:n<0&&(n=0),l=document.querySelector("#colorsquare-picker"),n=n.toFixed(2),e=e.toFixed(2),l.style.top=n+"%",l.style.left=e+"%",i=e/100,a=1-n/100,M();break;case"hue-event":e=(r-10-d.x)/220*100,e>100?e=100:e<0&&(e=0),e=e.toFixed(2),l=document.querySelector("#hue-picker"),l.style.left=e+"%",s=e/100,k();break;case"alpha-event":e=(r-10-d.x)/220*100,e>100?e=100:e<0&&(e=0),e=e.toFixed(2),l=document.querySelector("#alpha-picker"),l.style.left=e+"%",c=e/100,M()}}}function v(t){o=t.currentTarget;let e=(t.offsetX+1)/240*100,n=(t.offsetY+1)/160*100;n=n.toFixed(2),e=e.toFixed(2);let l=document.querySelector("#colorsquare-picker");l.style.top=n+"%",l.style.left=e+"%",i=e/100,a=1-n/100,M()}function y(t){o=t.currentTarget;let e=t.target.getBoundingClientRect(),n=(t.targetTouches[0].clientX-e.left+1)/240*100,l=(t.targetTouches[0].clientY-e.top+1)/160*100;l=l.toFixed(2),n=n.toFixed(2);let r=document.querySelector("#colorsquare-picker");r.style.top=l+"%",r.style.left=n+"%",i=n/100,a=1-l/100,M()}function b(t){o=null}function x(t){o=t.currentTarget;let e=(t.offsetX-9)/220*100;e=e.toFixed(2),document.querySelector("#hue-picker").style.left=e+"%",s=e/100,k()}function w(t){o=t.currentTarget;let e=t.target.getBoundingClientRect(),n=(t.targetTouches[0].clientX-e.left-9)/220*100;n=n.toFixed(2),document.querySelector("#hue-picker").style.left=n+"%",s=n/100,k()}function k(){let t=Ke(s,1,1);document.querySelector(".colorsquare").style.background=`rgba(${t[0]},${t[1]},${t[2]},1)`,M()}function M(){let t=Ke(s,i,a);n(0,u=t[0]),n(1,d=t[1]),n(2,f=t[2]),n(3,$=function(){let t=u.toString(16),e=d.toString(16),n=f.toString(16);1==t.length&&(t="0"+t);1==e.length&&(e="0"+e);1==n.length&&(n="0"+n);return("#"+t+e+n).toUpperCase()}()),document.querySelector(".color-picked").style.background=`rgba(${t[0]},${t[1]},${t[2]},${c})`,r("colorChange",{r:u,g:d,b:f,a:c})}function S(t){o=t.currentTarget;let e=(t.offsetX-9)/220*100;e=e.toFixed(2),document.querySelector("#alpha-picker").style.left=e+"%",c=e/100,M()}function q(t){o=t.currentTarget;let e=t.target.getBoundingClientRect(),n=(t.targetTouches[0].clientX-e.left-9)/220*100;n=n.toFixed(2),document.querySelector("#alpha-picker").style.left=n+"%",c=n/100,M()}return t.$$set=t=>{"startColor"in t&&n(10,l=t.startColor)},[u,d,f,$,v,y,x,w,S,q,l]}class Ue extends t{constructor(t){super(),e(this,t,Qe,Ze,n,{startColor:10})}}function De(t){let e,n,l;function r(e){t[6](e)}let o={};return void 0!==t[0].text&&(o.value=t[0].text),e=new J({props:o}),H.push((()=>V(e,"value",r))),e.$on("change",t[3]),{c(){q(e.$$.fragment)},m(t,n){A(e,t,n),l=!0},p(t,l){const r={};!n&&1&l&&(n=!0,r.value=t[0].text,_((()=>n=!1))),e.$set(r)},i(t){l||(y(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function tn(t){let e,n,l;function r(e){t[7](e)}let o={};return void 0!==t[0].fontSize&&(o.value=t[0].fontSize),e=new T({props:o}),H.push((()=>V(e,"value",r))),e.$on("change",t[3]),{c(){q(e.$$.fragment)},m(t,n){A(e,t,n),l=!0},p(t,l){const r={};!n&&1&l&&(n=!0,r.value=t[0].fontSize,_((()=>n=!1))),e.$set(r)},i(t){l||(y(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function en(t){let e,n,l,r,s,i,c,d,$;function m(e){t[8](e)}let g={readonly:!0};return void 0!==t[0].fill&&(g.value=t[0].fill),n=new W({props:g}),H.push((()=>V(n,"value",m))),n.$on("change",t[3]),{c(){e=S("div"),q(n.$$.fragment),r=j(),s=S("div"),i=S("div"),f(i,"class","indicator svelte-ce0ld0"),X(i,"background-color",t[0].fill),f(s,"class","indicator-container svelte-ce0ld0"),f(e,"class","flex")},m(l,u){o(l,e,u),A(n,e,null),a(e,r),a(e,s),a(s,i),c=!0,d||($=p(s,"click",t[5]),d=!0)},p(t,e){const r={};!l&&1&e&&(l=!0,r.value=t[0].fill,_((()=>l=!1))),n.$set(r),(!c||1&e)&&X(i,"background-color",t[0].fill)},i(t){c||(y(n.$$.fragment,t),c=!0)},o(t){b(n.$$.fragment,t),c=!1},d(t){t&&u(e),O(n),d=!1,$()}}}function nn(t){let e,n,l,r,s,i;return e=new G({props:{text:"左对齐",value:"left"}}),l=new G({props:{text:"居中",value:"center"}}),s=new G({props:{text:"右对齐",value:"right"}}),{c(){q(e.$$.fragment),n=j(),q(l.$$.fragment),r=j(),q(s.$$.fragment)},m(t,a){A(e,t,a),o(t,n,a),A(l,t,a),o(t,r,a),A(s,t,a),i=!0},p:z,i(t){i||(y(e.$$.fragment,t),y(l.$$.fragment,t),y(s.$$.fragment,t),i=!0)},o(t){b(e.$$.fragment,t),b(l.$$.fragment,t),b(s.$$.fragment,t),i=!1},d(t){O(e,t),t&&u(n),O(l,t),t&&u(r),O(s,t)}}}function ln(t){let e,n,l;function r(e){t[10](e)}let o={size:"sm",selectedIndex:gt.findIndex(t[9]),$$slots:{default:[nn]},$$scope:{ctx:t}};return void 0!==t[0].align&&(o.value=t[0].align),e=new Z({props:o}),H.push((()=>V(e,"value",r))),e.$on("change",t[4]),{c(){q(e.$$.fragment)},m(t,n){A(e,t,n),l=!0},p(t,l){const r={};1&l&&(r.selectedIndex=gt.findIndex(t[9])),1048576&l&&(r.$$scope={dirty:l,ctx:t}),!n&&1&l&&(n=!0,r.value=t[0].align,_((()=>n=!1))),e.$set(r)},i(t){l||(y(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function rn(t){let e,n,l,r,s,i,a,c;return e=new vt({props:{label:"文本内容",$$slots:{default:[De]},$$scope:{ctx:t}}}),l=new vt({props:{label:"文本大小",$$slots:{default:[tn]},$$scope:{ctx:t}}}),s=new vt({props:{label:"文本颜色",$$slots:{default:[en]},$$scope:{ctx:t}}}),a=new vt({props:{label:"文本对齐",$$slots:{default:[ln]},$$scope:{ctx:t}}}),{c(){q(e.$$.fragment),n=j(),q(l.$$.fragment),r=j(),q(s.$$.fragment),i=j(),q(a.$$.fragment)},m(t,u){A(e,t,u),o(t,n,u),A(l,t,u),o(t,r,u),A(s,t,u),o(t,i,u),A(a,t,u),c=!0},p(t,n){const r={};1048577&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r);const o={};1048577&n&&(o.$$scope={dirty:n,ctx:t}),l.$set(o);const i={};1048577&n&&(i.$$scope={dirty:n,ctx:t}),s.$set(i);const c={};1048577&n&&(c.$$scope={dirty:n,ctx:t}),a.$set(c)},i(t){c||(y(e.$$.fragment,t),y(l.$$.fragment,t),y(s.$$.fragment,t),y(a.$$.fragment,t),c=!0)},o(t){b(e.$$.fragment,t),b(l.$$.fragment,t),b(s.$$.fragment,t),b(a.$$.fragment,t),c=!1},d(t){O(e,t),t&&u(n),O(l,t),t&&u(r),O(s,t),t&&u(i),O(a,t)}}}function on(t){let e,n;return e=new ht({props:{labelWidth:80,layout:"float",$$slots:{default:[rn]},$$scope:{ctx:t}}}),{c(){q(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,[n]){const l={};1048577&n&&(l.$$scope={dirty:n,ctx:t}),e.$set(l)},i(t){n||(y(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function sn(t,e,n){let l,r;const o=C(),{selected:s,widgets:i,dispatch:a,stage:c}=ot((t=>t.editor));let u;P(t,s,(t=>n(13,r=t))),P(t,c,(t=>n(12,l=t)));let d={fontSize:12,fontFamily:"",fontStyle:"",text:"",align:"",fill:""};function f(){const t=re(Object.keys(d),u.property);JSON.stringify(d)!==JSON.stringify(t)&&(!function(){const[t]=r;if(!t)return;const e=l.findOne(`#${t}`);Object.entries(d).forEach((([t,n])=>{e.getAttr(t)!==n&&e.setAttr(t,n)}))}(),a("updateWidget",{id:u.id,textProperty:Object.assign(Object.assign({},u.textProperty),d)}))}i.subscribe((t=>{const e=t.find((t=>1===r.length&&t.id===r[0]));u=e,e&&function(){const t=re(Object.keys(d),u.textProperty);JSON.stringify(d)!==JSON.stringify(t)&&n(0,d=t)}()}));return[d,s,c,f,function({detail:t}){n(0,d.align=gt[t].value,d),f()},function(){o.open({component:Ue,header:!1,title:"选择颜色",maskClosable:!0,props:{startColor:d.fill},event:{colorChange:({detail:{r:t,g:e,b:l,a:r}})=>{const o=t=>t.toString(16).padStart(2,"0"),s=o(t),i=o(e),a=o(l),c=o(Math.round(255*r));n(0,d.fill=`#${s}${i}${a}${c}`,d),f()}}})},function(e){t.$$.not_equal(d.text,e)&&(d.text=e,n(0,d))},function(e){t.$$.not_equal(d.fontSize,e)&&(d.fontSize=e,n(0,d))},function(e){t.$$.not_equal(d.fill,e)&&(d.fill=e,n(0,d))},t=>t.value===d.align,function(e){t.$$.not_equal(d.align,e)&&(d.align=e,n(0,d))}]}class an extends t{constructor(t){super(),e(this,t,sn,on,n,{})}}function cn(t){let e,n,r,s,i,c,d,$,v;const x=t[4].default,w=l(x,t,t[3],null);return{c(){e=S("div"),n=S("div"),r=S("input"),i=j(),c=S("div"),w&&w.c(),f(r,"class","upload-input svelte-1qfj8ms"),f(r,"type","file"),f(r,"accept",t[1]),r.multiple=s="multiple"===t[0],f(n,"class","upload-wrapper svelte-1qfj8ms"),f(c,"class","upload-content"),f(e,"class","upload svelte-1qfj8ms")},m(l,s){o(l,e,s),a(e,n),a(n,r),a(e,i),a(e,c),w&&w.m(c,null),d=!0,$||(v=p(r,"change",t[2]),$=!0)},p(t,[e]){(!d||2&e)&&f(r,"accept",t[1]),(!d||1&e&&s!==(s="multiple"===t[0]))&&(r.multiple=s),w&&w.p&&(!d||8&e)&&m(w,x,t,t[3],d?h(x,t[3],e,null):g(t[3]),null)},i(t){d||(y(w,t),d=!0)},o(t){b(w,t),d=!1},d(t){t&&u(e),w&&w.d(t),$=!1,v()}}}function un(t,e,n){let{$$slots:l={},$$scope:r}=e,{mode:o="single"}=e,{type:s="image/*"}=e;const i=I();return t.$$set=t=>{"mode"in t&&n(0,o=t.mode),"type"in t&&n(1,s=t.type),"$$scope"in t&&n(3,r=t.$$scope)},[o,s,function({target:t}){let e=t.files;if("single"===o){const[t]=e;e=t}i("upload",e)},r,l]}class dn extends t{constructor(t){super(),e(this,t,un,cn,n,{mode:0,type:1})}}function fn(t){let e,n;return{c(){e=S("img"),f(e,"class","w-full"),f(e,"alt",""),K(e.src,n=t[0].url)||f(e,"src",n)},m(t,n){o(t,e,n)},p(t,l){1&l&&!K(e.src,n=t[0].url)&&f(e,"src",n)},d(t){t&&u(e)}}}function $n(t){let e,n;return e=new dn({props:{$$slots:{default:[fn]},$$scope:{ctx:t}}}),e.$on("upload",t[3]),{c(){q(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,n){const l={};32769&n&&(l.$$scope={dirty:n,ctx:t}),e.$set(l)},i(t){n||(y(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function pn(t){let e,n;return e=new vt({props:{label:"图片",$$slots:{default:[$n]},$$scope:{ctx:t}}}),{c(){q(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,n){const l={};32769&n&&(l.$$scope={dirty:n,ctx:t}),e.$set(l)},i(t){n||(y(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function mn(t){let e,n;return e=new ht({props:{labelWidth:80,layout:"float",$$slots:{default:[pn]},$$scope:{ctx:t}}}),{c(){q(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,[n]){const l={};32769&n&&(l.$$scope={dirty:n,ctx:t}),e.$set(l)},i(t){n||(y(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function gn(t,e,n){let l,r;C();const{selected:o,widgets:s,dispatch:i,stage:a}=ot((t=>t.editor));let c;P(t,o,(t=>n(6,r=t))),P(t,a,(t=>n(5,l=t)));let u={url:""};function d(){const t=re(Object.keys(u),c.property);JSON.stringify(u)!==JSON.stringify(t)&&(!function(){const t={url:f},[e]=r;if(!e)return;const n=l.findOne(`#${e}`);Object.entries(u).forEach((([e,l])=>{const r=t[e];r?r(n,l):n.getAttr(e)!==l&&n.setAttr(e,l)}))}(),i("updateWidget",{id:c.id,imageProperty:Object.assign(Object.assign({},c.imageProperty),u)}))}function f(t,e){const n=new Image;n.onload=()=>{t.image(n),t.width(n.width),t.height(n.height),i("updateWidget",{id:c.id,property:Object.assign(Object.assign({},c.property),{width:n.width,height:n.height})})},n.src=e}return s.subscribe((t=>{const e=t.find((t=>1===r.length&&t.id===r[0]));c=e,e&&function(){const t=re(Object.keys(u),c.imageProperty);JSON.stringify(u)!==JSON.stringify(t)&&n(0,u=t)}()})),[u,o,a,function({detail:t}){rt.get().uploadFile({cloudPath:`images/${t.name}`,filePath:t}).then((({download_url:t})=>{n(0,u.url=t,u),d()}))}]}class hn extends t{constructor(t){super(),e(this,t,gn,mn,n,{})}}function vn(t,e,n){const l=t.slice();return l[6]=e[n],l[8]=n,l}function yn(t){let e,n,l;var r=t[6].component;return r&&(e=new r({})),{c(){e&&q(e.$$.fragment),n=j()},m(t,r){e&&A(e,t,r),o(t,n,r),l=!0},p(t,l){if(r!==(r=t[6].component)){if(e){L();const t=e;b(t.$$.fragment,1,0,(()=>{O(t,1)})),E()}r?(e=new r({}),q(e.$$.fragment),y(e.$$.fragment,1),A(e,n.parentNode,n)):e=null}},i(t){l||(e&&y(e.$$.fragment,t),l=!0)},o(t){e&&b(e.$$.fragment,t),l=!1},d(t){e&&O(e,t),t&&u(n)}}}function bn(t){let e,n,l=t[6].filter(),s=l&&function(t){let e,n;return e=new U({props:{title:t[6].label,open:!0,$$slots:{default:[yn]},$$scope:{ctx:t}}}),{c(){q(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,n){const l={};512&n&&(l.$$scope={dirty:n,ctx:t}),e.$set(l)},i(t){n||(y(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}(t);return{c(){s&&s.c(),e=r()},m(t,l){s&&s.m(t,l),o(t,e,l),n=!0},p(t,e){l&&s.p(t,e)},i(t){n||(y(s),n=!0)},o(t){b(s),n=!1},d(t){s&&s.d(t),t&&u(e)}}}function xn(t){let e,n,l=t[2],s=[];for(let r=0;r<l.length;r+=1)s[r]=bn(vn(t,l,r));const i=t=>b(s[t],1,1,(()=>{s[t]=null}));return{c(){for(let t=0;t<s.length;t+=1)s[t].c();e=r()},m(t,l){for(let e=0;e<s.length;e+=1)s[e].m(t,l);o(t,e,l),n=!0},p(t,n){if(4&n){let r;for(l=t[2],r=0;r<l.length;r+=1){const o=vn(t,l,r);s[r]?(s[r].p(o,n),y(s[r],1)):(s[r]=bn(o),s[r].c(),y(s[r],1),s[r].m(e.parentNode,e))}for(L(),r=l.length;r<s.length;r+=1)i(r);E()}},i(t){if(!n){for(let t=0;t<l.length;t+=1)y(s[t]);n=!0}},o(t){s=s.filter(Boolean);for(let e=0;e<s.length;e+=1)b(s[e]);n=!1},d(t){N(s,t),t&&u(e)}}}function wn(t){let e,n,l;return n=new Q({props:{size:"sm",$$slots:{default:[xn]},$$scope:{ctx:t}}}),{c(){e=S("div"),q(n.$$.fragment),f(e,"class","widget-property")},m(t,r){o(t,e,r),A(n,e,null),l=!0},p(t,[e]){const l={};512&e&&(l.$$scope={dirty:e,ctx:t}),n.$set(l)},i(t){l||(y(n.$$.fragment,t),l=!0)},o(t){b(n.$$.fragment,t),l=!1},d(t){t&&u(e),O(n)}}}function kn(t,e,n){let l,r;const{selected:o,stage:s}=ot((t=>t.editor));P(t,o,(t=>n(4,r=t))),P(t,s,(t=>n(3,l=t)));function i(){const[t]=r;if(t)return l.findOne(`#${t}`).getClassName()}return[o,s,[{label:"基础属性",component:Xe,filter:()=>!0},{label:"文本属性",component:an,filter:()=>"Text"===i()},{label:"图片属性",component:hn,filter:()=>"Image"===i()}]]}class Mn extends t{constructor(t){super(),e(this,t,kn,wn,n,{})}}class Sn extends t{constructor(t){super(),e(this,t,null,null,n,{})}}function qn(t){let e,n,l,r,s,i;return e=new tt({props:{label:"属性"}}),l=new tt({props:{label:"页面"}}),s=new tt({props:{label:"行为"}}),{c(){q(e.$$.fragment),n=j(),q(l.$$.fragment),r=j(),q(s.$$.fragment)},m(t,a){A(e,t,a),o(t,n,a),A(l,t,a),o(t,r,a),A(s,t,a),i=!0},p:z,i(t){i||(y(e.$$.fragment,t),y(l.$$.fragment,t),y(s.$$.fragment,t),i=!0)},o(t){b(e.$$.fragment,t),b(l.$$.fragment,t),b(s.$$.fragment,t),i=!1},d(t){O(e,t),t&&u(n),O(l,t),t&&u(r),O(s,t)}}}function An(t){let e,n;return e=new Mn({}),{c(){q(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},i(t){n||(y(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function zn(t){let e,n,l=1===t[0].length&&An();return{c(){l&&l.c(),e=r()},m(t,r){l&&l.m(t,r),o(t,e,r),n=!0},p(t,n){1===t[0].length?l?1&n&&y(l,1):(l=An(),l.c(),y(l,1),l.m(e.parentNode,e)):l&&(L(),b(l,1,1,(()=>{l=null})),E())},i(t){n||(y(l),n=!0)},o(t){b(l),n=!1},d(t){l&&l.d(t),t&&u(e)}}}function On(t){let e,n;return e=new Sn({}),{c(){q(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},i(t){n||(y(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function Cn(t){let e,n;return e=new Sn({}),{c(){q(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},i(t){n||(y(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function jn(t){let e,n,l,r,s,i,c;return n=new et({props:{$$slots:{default:[zn]},$$scope:{ctx:t}}}),r=new et({props:{$$slots:{default:[On]},$$scope:{ctx:t}}}),i=new et({props:{$$slots:{default:[Cn]},$$scope:{ctx:t}}}),{c(){e=S("div"),q(n.$$.fragment),l=j(),q(r.$$.fragment),s=j(),q(i.$$.fragment),f(e,"slot","content")},m(t,u){o(t,e,u),A(n,e,null),a(e,l),A(r,e,null),a(e,s),A(i,e,null),c=!0},p(t,e){const l={};5&e&&(l.$$scope={dirty:e,ctx:t}),n.$set(l);const o={};4&e&&(o.$$scope={dirty:e,ctx:t}),r.$set(o);const s={};4&e&&(s.$$scope={dirty:e,ctx:t}),i.$set(s)},i(t){c||(y(n.$$.fragment,t),y(r.$$.fragment,t),y(i.$$.fragment,t),c=!0)},o(t){b(n.$$.fragment,t),b(r.$$.fragment,t),b(i.$$.fragment,t),c=!1},d(t){t&&u(e),O(n),O(r),O(i)}}}function Fn(t){let e,n,l,r,s;return n=new D({props:{$$slots:{content:[jn],default:[qn]},$$scope:{ctx:t}}}),{c(){e=S("div"),q(n.$$.fragment),f(e,"class","property-container")},m(t,i){o(t,e,i),A(n,e,null),l=!0,r||(s=p(e,"keydown",Ln),r=!0)},p(t,[e]){const l={};5&e&&(l.$$scope={dirty:e,ctx:t}),n.$set(l)},i(t){l||(y(n.$$.fragment,t),l=!0)},o(t){b(n.$$.fragment,t),l=!1},d(t){t&&u(e),O(n),r=!1,s()}}}const Ln=t=>t.stopPropagation();function En(t,e,n){let l;const{selected:r}=ot((t=>t.editor));return P(t,r,(t=>n(0,l=t))),[l,r]}class Nn extends t{constructor(t){super(),e(this,t,En,Fn,n,{})}}function Rn(t){let e,n,l,r,s,i,c,d,$,p,m,g,h;return l=new ge({}),i=new xe({}),$=new He({}),g=new Nn({}),{c(){e=S("div"),n=S("div"),q(l.$$.fragment),r=j(),s=S("div"),q(i.$$.fragment),c=j(),d=S("div"),q($.$$.fragment),p=j(),m=S("div"),q(g.$$.fragment),f(n,"class","editor-sidebar relative svelte-evxple"),f(s,"class","editor-content relative svelte-evxple"),f(d,"class","editor-tool relative svelte-evxple"),f(m,"class","editor-property relative svelte-evxple"),f(e,"class","editor-container absolute inset-0 svelte-evxple")},m(t,u){o(t,e,u),a(e,n),A(l,n,null),a(e,r),a(e,s),A(i,s,null),a(e,c),a(e,d),A($,d,null),a(e,p),a(e,m),A(g,m,null),h=!0},i(t){h||(y(l.$$.fragment,t),y(i.$$.fragment,t),y($.$$.fragment,t),y(g.$$.fragment,t),h=!0)},o(t){b(l.$$.fragment,t),b(i.$$.fragment,t),b($.$$.fragment,t),b(g.$$.fragment,t),h=!1},d(t){t&&u(e),O(l),O(i),O($),O(g)}}}function Hn(t){let e;return{c(){e=i("保存")},m(t,n){o(t,e,n)},d(t){t&&u(e)}}}function Bn(t){let e,n;return e=new nt({props:{size:"small",$$slots:{default:[Hn]},$$scope:{ctx:t}}}),{c(){q(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,n){const l={};1&n&&(l.$$scope={dirty:n,ctx:t}),e.$set(l)},i(t){n||(y(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function Yn(t){let e,n;return e=new lt({props:{title:"编辑中心",layout:"default",$$slots:{action:[Bn],default:[Rn]},$$scope:{ctx:t}}}),{c(){q(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,[n]){const l={};1&n&&(l.$$scope={dirty:n,ctx:t}),e.$set(l)},i(t){n||(y(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}class Pn extends t{constructor(t){super(),e(this,t,null,Yn,n,{})}}export{Pn as default};
