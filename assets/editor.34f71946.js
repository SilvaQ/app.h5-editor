import{S as t,i as e,s as n,a0 as l,W as r,I as i,k as s,G as a,J as o,Y as c,q as u,j as f,r as d,v as $,L as p,Z as m,_ as g,$ as h,y as v,t as b,g as y,a6 as w,z as x,a7 as M,D as k,f as A,F as z,H,m as R,M as j,h as B,N as C,O as N,n as V,a8 as L,a2 as O,a9 as S,aa as Y,U as _,ab as q,a3 as E,a4 as W,ac as Z,ad as F,ae as J,af as P,ag as T,X as I}from"./vendor.e6f185d8.js";import{P as X}from"./page-container.9ef15cc6.js";import{u as D,W as G,g as K,s as U,c as Q,a as tt,b as et,d as nt,e as lt,f as rt}from"./index.ff24cbf9.js";function it(t){let e,n;return{c(){e=s("title"),n=a(t[2])},m(t,l){i(t,e,l),o(e,n)},p(t,e){4&e&&c(n,t[2])},d(t){t&&u(e)}}}function st(t){let e,n,a,c,x;const M=t[11].default,k=l(M,t,t[10],null),A=k||function(t){let e,n=t[2]&&it(t);return{c(){n&&n.c(),e=r()},m(t,l){n&&n.m(t,l),i(t,e,l)},p(t,l){t[2]?n?n.p(t,l):(n=it(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&u(e)}}}(t);let z=[{"data-carbon-icon":"SettingsAdjust24"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{width:"24"},{height:"24"},{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},{style:t[3]},{id:t[1]},t[4]],H={};for(let l=0;l<z.length;l+=1)H=f(H,z[l]);return{c(){e=s("svg"),n=s("path"),A&&A.c(),d(n,"d","M30 8h-4.1c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2v2h14.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30V8zM21 12c-1.7 0-3-1.3-3-3s1.3-3 3-3 3 1.3 3 3S22.7 12 21 12zM2 24h4.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30v-2H15.9c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2V24zM11 20c1.7 0 3 1.3 3 3s-1.3 3-3 3-3-1.3-3-3S9.3 20 11 20z"),$(e,H)},m(l,r){i(l,e,r),o(e,n),A&&A.m(e,null),a=!0,c||(x=[p(e,"click",t[12]),p(e,"mouseover",t[13]),p(e,"mouseenter",t[14]),p(e,"mouseleave",t[15]),p(e,"keyup",t[16]),p(e,"keydown",t[17])],c=!0)},p(t,[n]){k?k.p&&(!a||1024&n)&&m(k,M,t,t[10],a?h(M,t[10],n,null):g(t[10]),null):A&&A.p&&(!a||4&n)&&A.p(t,a?n:-1),$(e,H=v(z,[{"data-carbon-icon":"SettingsAdjust24"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{width:"24"},{height:"24"},(!a||1&n)&&{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},(!a||8&n)&&{style:t[3]},(!a||2&n)&&{id:t[1]},16&n&&t[4]]))},i(t){a||(b(A,t),a=!0)},o(t){y(A,t),a=!1},d(t){t&&u(e),A&&A.d(t),c=!1,w(x)}}}function at(t,e,n){let l,r,i,s,{$$slots:a={},$$scope:o}=e,{class:c}=e,{id:u}=e,{tabindex:d}=e,{focusable:$=!1}=e,{title:p}=e,{style:m}=e;return t.$$set=t=>{n(18,e=f(f({},e),x(t))),"class"in t&&n(0,c=t.class),"id"in t&&n(1,u=t.id),"tabindex"in t&&n(5,d=t.tabindex),"focusable"in t&&n(6,$=t.focusable),"title"in t&&n(2,p=t.title),"style"in t&&n(3,m=t.style),"$$scope"in t&&n(10,o=t.$$scope)},t.$$.update=()=>{n(9,l=e["aria-label"]),n(8,r=e["aria-labelledby"]),772&t.$$.dirty&&n(7,i=l||r||p),992&t.$$.dirty&&n(4,s={"aria-label":l,"aria-labelledby":r,"aria-hidden":!i||void 0,role:i?"img":void 0,focusable:"0"===d||$,tabindex:d})},e=x(e),[c,u,p,m,s,d,$,i,r,l,o,a,function(e){M.call(this,t,e)},function(e){M.call(this,t,e)},function(e){M.call(this,t,e)},function(e){M.call(this,t,e)},function(e){M.call(this,t,e)},function(e){M.call(this,t,e)}]}var ot=class extends t{constructor(t){super(),e(this,t,at,st,n,{class:0,id:1,tabindex:5,focusable:6,title:2,style:3})}};function ct(t){let e,n;return{c(){e=s("title"),n=a(t[2])},m(t,l){i(t,e,l),o(e,n)},p(t,e){4&e&&c(n,t[2])},d(t){t&&u(e)}}}function ut(t){let e,n,a,c,x,M;const k=t[11].default,A=l(k,t,t[10],null),z=A||function(t){let e,n=t[2]&&ct(t);return{c(){n&&n.c(),e=r()},m(t,l){n&&n.m(t,l),i(t,e,l)},p(t,l){t[2]?n?n.p(t,l):(n=ct(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&u(e)}}}(t);let H=[{"data-carbon-icon":"MediaLibrary24"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{width:"24"},{height:"24"},{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},{style:t[3]},{id:t[1]},t[4]],R={};for(let l=0;l<H.length;l+=1)R=f(R,H[l]);return{c(){e=s("svg"),n=s("path"),a=s("path"),z&&z.c(),d(n,"d","M13 15L13 23 13 23 20 19 13 15z"),d(a,"d","M26 28H6a2.0021 2.0021 0 01-2-2V12a2.0021 2.0021 0 012-2H26a2.0021 2.0021 0 012 2V26A2.0021 2.0021 0 0126 28zM6 12V26H26V12zM6 6H26V8H6zM8 2H24V4H8z"),$(e,R)},m(l,r){i(l,e,r),o(e,n),o(e,a),z&&z.m(e,null),c=!0,x||(M=[p(e,"click",t[12]),p(e,"mouseover",t[13]),p(e,"mouseenter",t[14]),p(e,"mouseleave",t[15]),p(e,"keyup",t[16]),p(e,"keydown",t[17])],x=!0)},p(t,[n]){A?A.p&&(!c||1024&n)&&m(A,k,t,t[10],c?h(k,t[10],n,null):g(t[10]),null):z&&z.p&&(!c||4&n)&&z.p(t,c?n:-1),$(e,R=v(H,[{"data-carbon-icon":"MediaLibrary24"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{width:"24"},{height:"24"},(!c||1&n)&&{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},(!c||8&n)&&{style:t[3]},(!c||2&n)&&{id:t[1]},16&n&&t[4]]))},i(t){c||(b(z,t),c=!0)},o(t){y(z,t),c=!1},d(t){t&&u(e),z&&z.d(t),x=!1,w(M)}}}function ft(t,e,n){let l,r,i,s,{$$slots:a={},$$scope:o}=e,{class:c}=e,{id:u}=e,{tabindex:d}=e,{focusable:$=!1}=e,{title:p}=e,{style:m}=e;return t.$$set=t=>{n(18,e=f(f({},e),x(t))),"class"in t&&n(0,c=t.class),"id"in t&&n(1,u=t.id),"tabindex"in t&&n(5,d=t.tabindex),"focusable"in t&&n(6,$=t.focusable),"title"in t&&n(2,p=t.title),"style"in t&&n(3,m=t.style),"$$scope"in t&&n(10,o=t.$$scope)},t.$$.update=()=>{n(9,l=e["aria-label"]),n(8,r=e["aria-labelledby"]),772&t.$$.dirty&&n(7,i=l||r||p),992&t.$$.dirty&&n(4,s={"aria-label":l,"aria-labelledby":r,"aria-hidden":!i||void 0,role:i?"img":void 0,focusable:"0"===d||$,tabindex:d})},e=x(e),[c,u,p,m,s,d,$,i,r,l,o,a,function(e){M.call(this,t,e)},function(e){M.call(this,t,e)},function(e){M.call(this,t,e)},function(e){M.call(this,t,e)},function(e){M.call(this,t,e)},function(e){M.call(this,t,e)}]}var dt=class extends t{constructor(t){super(),e(this,t,ft,ut,n,{class:0,id:1,tabindex:5,focusable:6,title:2,style:3})}};function $t(t){let e,n;return{c(){e=s("title"),n=a(t[2])},m(t,l){i(t,e,l),o(e,n)},p(t,e){4&e&&c(n,t[2])},d(t){t&&u(e)}}}function pt(t){let e,n,a,c,x,M;const k=t[11].default,A=l(k,t,t[10],null),z=A||function(t){let e,n=t[2]&&$t(t);return{c(){n&&n.c(),e=r()},m(t,l){n&&n.m(t,l),i(t,e,l)},p(t,l){t[2]?n?n.p(t,l):(n=$t(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&u(e)}}}(t);let H=[{"data-carbon-icon":"TextScale20"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{width:"20"},{height:"20"},{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},{style:t[3]},{id:t[1]},t[4]],R={};for(let l=0;l<H.length;l+=1)R=f(R,H[l]);return{c(){e=s("svg"),n=s("path"),a=s("path"),z&&z.c(),d(n,"d","M30 5L30 8 22 8 22 26 19 26 19 8 11 8 11 5 30 5z"),d(a,"d","M7 26L7 14 2 14 2 12 14 12 14 14 9 14 9 26 7 26z"),$(e,R)},m(l,r){i(l,e,r),o(e,n),o(e,a),z&&z.m(e,null),c=!0,x||(M=[p(e,"click",t[12]),p(e,"mouseover",t[13]),p(e,"mouseenter",t[14]),p(e,"mouseleave",t[15]),p(e,"keyup",t[16]),p(e,"keydown",t[17])],x=!0)},p(t,[n]){A?A.p&&(!c||1024&n)&&m(A,k,t,t[10],c?h(k,t[10],n,null):g(t[10]),null):z&&z.p&&(!c||4&n)&&z.p(t,c?n:-1),$(e,R=v(H,[{"data-carbon-icon":"TextScale20"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{width:"20"},{height:"20"},(!c||1&n)&&{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},(!c||8&n)&&{style:t[3]},(!c||2&n)&&{id:t[1]},16&n&&t[4]]))},i(t){c||(b(z,t),c=!0)},o(t){y(z,t),c=!1},d(t){t&&u(e),z&&z.d(t),x=!1,w(M)}}}function mt(t,e,n){let l,r,i,s,{$$slots:a={},$$scope:o}=e,{class:c}=e,{id:u}=e,{tabindex:d}=e,{focusable:$=!1}=e,{title:p}=e,{style:m}=e;return t.$$set=t=>{n(18,e=f(f({},e),x(t))),"class"in t&&n(0,c=t.class),"id"in t&&n(1,u=t.id),"tabindex"in t&&n(5,d=t.tabindex),"focusable"in t&&n(6,$=t.focusable),"title"in t&&n(2,p=t.title),"style"in t&&n(3,m=t.style),"$$scope"in t&&n(10,o=t.$$scope)},t.$$.update=()=>{n(9,l=e["aria-label"]),n(8,r=e["aria-labelledby"]),772&t.$$.dirty&&n(7,i=l||r||p),992&t.$$.dirty&&n(4,s={"aria-label":l,"aria-labelledby":r,"aria-hidden":!i||void 0,role:i?"img":void 0,focusable:"0"===d||$,tabindex:d})},e=x(e),[c,u,p,m,s,d,$,i,r,l,o,a,function(e){M.call(this,t,e)},function(e){M.call(this,t,e)},function(e){M.call(this,t,e)},function(e){M.call(this,t,e)},function(e){M.call(this,t,e)},function(e){M.call(this,t,e)}]}var gt=class extends t{constructor(t){super(),e(this,t,mt,pt,n,{class:0,id:1,tabindex:5,focusable:6,title:2,style:3})}};function ht(t){let e,n;return{c(){e=s("title"),n=a(t[2])},m(t,l){i(t,e,l),o(e,n)},p(t,e){4&e&&c(n,t[2])},d(t){t&&u(e)}}}function vt(t){let e,n,a,c,x,M;const k=t[11].default,A=l(k,t,t[10],null),z=A||function(t){let e,n=t[2]&&ht(t);return{c(){n&&n.c(),e=r()},m(t,l){n&&n.m(t,l),i(t,e,l)},p(t,l){t[2]?n?n.p(t,l):(n=ht(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&u(e)}}}(t);let H=[{"data-carbon-icon":"Image20"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{width:"20"},{height:"20"},{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},{style:t[3]},{id:t[1]},t[4]],R={};for(let l=0;l<H.length;l+=1)R=f(R,H[l]);return{c(){e=s("svg"),n=s("path"),a=s("path"),z&&z.c(),d(n,"d","M19,14a3,3,0,1,0-3-3A3,3,0,0,0,19,14Zm0-4a1,1,0,1,1-1,1A1,1,0,0,1,19,10Z"),d(a,"d","M26,4H6A2,2,0,0,0,4,6V26a2,2,0,0,0,2,2H26a2,2,0,0,0,2-2V6A2,2,0,0,0,26,4Zm0,22H6V20l5-5,5.59,5.59a2,2,0,0,0,2.82,0L21,19l5,5Zm0-4.83-3.59-3.59a2,2,0,0,0-2.82,0L18,19.17l-5.59-5.59a2,2,0,0,0-2.82,0L6,17.17V6H26Z"),$(e,R)},m(l,r){i(l,e,r),o(e,n),o(e,a),z&&z.m(e,null),c=!0,x||(M=[p(e,"click",t[12]),p(e,"mouseover",t[13]),p(e,"mouseenter",t[14]),p(e,"mouseleave",t[15]),p(e,"keyup",t[16]),p(e,"keydown",t[17])],x=!0)},p(t,[n]){A?A.p&&(!c||1024&n)&&m(A,k,t,t[10],c?h(k,t[10],n,null):g(t[10]),null):z&&z.p&&(!c||4&n)&&z.p(t,c?n:-1),$(e,R=v(H,[{"data-carbon-icon":"Image20"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{width:"20"},{height:"20"},(!c||1&n)&&{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},(!c||8&n)&&{style:t[3]},(!c||2&n)&&{id:t[1]},16&n&&t[4]]))},i(t){c||(b(z,t),c=!0)},o(t){y(z,t),c=!1},d(t){t&&u(e),z&&z.d(t),x=!1,w(M)}}}function bt(t,e,n){let l,r,i,s,{$$slots:a={},$$scope:o}=e,{class:c}=e,{id:u}=e,{tabindex:d}=e,{focusable:$=!1}=e,{title:p}=e,{style:m}=e;return t.$$set=t=>{n(18,e=f(f({},e),x(t))),"class"in t&&n(0,c=t.class),"id"in t&&n(1,u=t.id),"tabindex"in t&&n(5,d=t.tabindex),"focusable"in t&&n(6,$=t.focusable),"title"in t&&n(2,p=t.title),"style"in t&&n(3,m=t.style),"$$scope"in t&&n(10,o=t.$$scope)},t.$$.update=()=>{n(9,l=e["aria-label"]),n(8,r=e["aria-labelledby"]),772&t.$$.dirty&&n(7,i=l||r||p),992&t.$$.dirty&&n(4,s={"aria-label":l,"aria-labelledby":r,"aria-hidden":!i||void 0,role:i?"img":void 0,focusable:"0"===d||$,tabindex:d})},e=x(e),[c,u,p,m,s,d,$,i,r,l,o,a,function(e){M.call(this,t,e)},function(e){M.call(this,t,e)},function(e){M.call(this,t,e)},function(e){M.call(this,t,e)},function(e){M.call(this,t,e)},function(e){M.call(this,t,e)}]}var yt=class extends t{constructor(t){super(),e(this,t,bt,vt,n,{class:0,id:1,tabindex:5,focusable:6,title:2,style:3})}};function wt(t,e,n){const l=t.slice();return l[8]=e[n],l}function xt(t,e,n){const l=t.slice();return l[11]=e[n],l}function Mt(t){let e,n,l,r,s,c,f,$,m,g=t[11].label+"";var h=t[11].icon;function v(){return t[4](t[11])}return h&&(n=new h({})),{c(){e=k("div"),n&&A(n.$$.fragment),l=z(),r=k("div"),s=a(g),c=z(),d(r,"class","pt-2 text-xs"),d(e,"class","menu-item flex flex-col justify-center items-center py-3 hover:text-blue-500 cursor-pointer svelte-5xo7rr"),H(e,"active",t[0]==t[11].name)},m(t,a){i(t,e,a),n&&R(n,e,null),o(e,l),o(e,r),o(r,s),o(e,c),f=!0,$||(m=p(e,"click",v),$=!0)},p(r,i){if(h!==(h=(t=r)[11].icon)){if(n){j();const t=n;y(t.$$.fragment,1,0,(()=>{B(t,1)})),C()}h?(n=new h({}),A(n.$$.fragment),b(n.$$.fragment,1),R(n,e,l)):n=null}9&i&&H(e,"active",t[0]==t[11].name)},i(t){f||(n&&b(n.$$.fragment,t),f=!0)},o(t){n&&y(n.$$.fragment,t),f=!1},d(t){t&&u(e),n&&B(n),$=!1,m()}}}function kt(t){let e,n,l,r,s,f,$,m,g,h=t[8].label+"";var v=t[8].icon;function w(){return t[5](t[8])}return v&&(n=new v({})),{c(){e=k("div"),n&&A(n.$$.fragment),l=z(),r=k("div"),s=a(h),f=z(),d(r,"class","pt-2 text-xs"),d(e,"class","widget bg-gray-100 hover:bg-gray-50 hover:text-blue-500 cursor-pointer svelte-5xo7rr")},m(t,a){i(t,e,a),n&&R(n,e,null),o(e,l),o(e,r),o(r,s),o(e,f),$=!0,m||(g=p(e,"click",w),m=!0)},p(r,i){if(v!==(v=(t=r)[8].icon)){if(n){j();const t=n;y(t.$$.fragment,1,0,(()=>{B(t,1)})),C()}v?(n=new v({}),A(n.$$.fragment),b(n.$$.fragment,1),R(n,e,l)):n=null}(!$||2&i)&&h!==(h=t[8].label+"")&&c(s,h)},i(t){$||(n&&b(n.$$.fragment,t),$=!0)},o(t){n&&y(n.$$.fragment,t),$=!1},d(t){t&&u(e),n&&B(n),m=!1,g()}}}function At(t){let e,n,l,r,s,a=t[3],c=[];for(let i=0;i<a.length;i+=1)c[i]=Mt(xt(t,a,i));const f=t=>y(c[t],1,1,(()=>{c[t]=null}));let $=t[1],p=[];for(let i=0;i<$.length;i+=1)p[i]=kt(wt(t,$,i));const m=t=>y(p[t],1,1,(()=>{p[t]=null}));return{c(){e=k("div"),n=k("div");for(let t=0;t<c.length;t+=1)c[t].c();l=z(),r=k("div");for(let t=0;t<p.length;t+=1)p[t].c();d(n,"class","menu svelte-5xo7rr"),d(r,"class","widget-panel flex flex-auto flex-wrap svelte-5xo7rr"),d(e,"class","absolute inset-0 flex flex-column")},m(t,a){i(t,e,a),o(e,n);for(let e=0;e<c.length;e+=1)c[e].m(n,null);o(e,l),o(e,r);for(let e=0;e<p.length;e+=1)p[e].m(r,null);s=!0},p(t,[e]){if(9&e){let l;for(a=t[3],l=0;l<a.length;l+=1){const r=xt(t,a,l);c[l]?(c[l].p(r,e),b(c[l],1)):(c[l]=Mt(r),c[l].c(),b(c[l],1),c[l].m(n,null))}for(j(),l=a.length;l<c.length;l+=1)f(l);C()}if(6&e){let n;for($=t[1],n=0;n<$.length;n+=1){const l=wt(t,$,n);p[n]?(p[n].p(l,e),b(p[n],1)):(p[n]=kt(l),p[n].c(),b(p[n],1),p[n].m(r,null))}for(j(),n=$.length;n<p.length;n+=1)m(n);C()}},i(t){if(!s){for(let t=0;t<a.length;t+=1)b(c[t]);for(let t=0;t<$.length;t+=1)b(p[t]);s=!0}},o(t){c=c.filter(Boolean);for(let e=0;e<c.length;e+=1)y(c[e]);p=p.filter(Boolean);for(let e=0;e<p.length;e+=1)y(p[e]);s=!1},d(t){t&&u(e),N(c,t),N(p,t)}}}function zt(t,e,n){let l;const{dispatch:r}=D((t=>t.editor));let i="base";const s=[{label:"文字",event:G.text,icon:gt},{label:"图片",event:G.image,icon:yt}],a=[{label:"基础",name:"base",icon:ot,widgets:s},{label:"引用",name:"quote",icon:dt,widgets:[]}];return t.$$.update=()=>{1&t.$$.dirty&&n(1,l=a.find((t=>t.name===i)).widgets)},[i,l,r,a,t=>n(0,i=t.name),t=>r("createWidget",t.event)]}class Ht extends t{constructor(t){super(),e(this,t,zt,At,n,{})}}function Rt(t){window.addEventListener("keydown",(e=>{e.ctrlKey&&("c"===e.key&&function(t){const e=K(t);if(!e)return;const n=e.getNodes().filter((t=>t.visible()));U.dispatch("updateCopied",[...n])}(t),"v"===e.key&&function(){const{widgets:t,copied:e}=U.get();if(0===e.length)return;const n=t.filter((t=>e.map((t=>t.id())).includes(t.id)));n.length&&n.map((t=>Q(t))).forEach((t=>U.dispatch("createWidget",t)))}())}))}function jt(t){return null!=t&&"object"==typeof t&&!0===t["@@functional/placeholder"]}function Bt(t){return function e(n){return 0===arguments.length||jt(n)?e:t.apply(this,arguments)}}function Ct(t){return function e(n,l){switch(arguments.length){case 0:return e;case 1:return jt(n)?e:Bt((function(e){return t(n,e)}));default:return jt(n)&&jt(l)?e:jt(n)?Bt((function(e){return t(e,l)})):jt(l)?Bt((function(e){return t(n,e)})):t(n,l)}}}function Nt(t,e){switch(t){case 0:return function(){return e.apply(this,arguments)};case 1:return function(t){return e.apply(this,arguments)};case 2:return function(t,n){return e.apply(this,arguments)};case 3:return function(t,n,l){return e.apply(this,arguments)};case 4:return function(t,n,l,r){return e.apply(this,arguments)};case 5:return function(t,n,l,r,i){return e.apply(this,arguments)};case 6:return function(t,n,l,r,i,s){return e.apply(this,arguments)};case 7:return function(t,n,l,r,i,s,a){return e.apply(this,arguments)};case 8:return function(t,n,l,r,i,s,a,o){return e.apply(this,arguments)};case 9:return function(t,n,l,r,i,s,a,o,c){return e.apply(this,arguments)};case 10:return function(t,n,l,r,i,s,a,o,c,u){return e.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}function Vt(t){return function e(n,l,r){switch(arguments.length){case 0:return e;case 1:return jt(n)?e:Ct((function(e,l){return t(n,e,l)}));case 2:return jt(n)&&jt(l)?e:jt(n)?Ct((function(e,n){return t(e,l,n)})):jt(l)?Ct((function(e,l){return t(n,e,l)})):Bt((function(e){return t(n,l,e)}));default:return jt(n)&&jt(l)&&jt(r)?e:jt(n)&&jt(l)?Ct((function(e,n){return t(e,n,r)})):jt(n)&&jt(r)?Ct((function(e,n){return t(e,l,n)})):jt(l)&&jt(r)?Ct((function(e,l){return t(n,e,l)})):jt(n)?Bt((function(e){return t(e,l,r)})):jt(l)?Bt((function(e){return t(n,e,r)})):jt(r)?Bt((function(e){return t(n,l,e)})):t(n,l,r)}}}var Lt=Array.isArray||function(t){return null!=t&&t.length>=0&&"[object Array]"===Object.prototype.toString.call(t)};function Ot(t){return null!=t&&"function"==typeof t["@@transducer/step"]}function St(t,e,n){return function(){if(0===arguments.length)return n();var l=Array.prototype.slice.call(arguments,0),r=l.pop();if(!Lt(r)){for(var i=0;i<t.length;){if("function"==typeof r[t[i]])return r[t[i]].apply(r,l);i+=1}if(Ot(r)){var s=e.apply(null,l);return s(r)}}return n.apply(this,arguments)}}var Yt=function(){return this.xf["@@transducer/init"]()},_t=function(t){return this.xf["@@transducer/result"](t)};var qt=Bt((function(t){return!!Lt(t)||!!t&&("object"==typeof t&&(!function(t){return"[object String]"===Object.prototype.toString.call(t)}(t)&&(1===t.nodeType?!!t.length:0===t.length||t.length>0&&(t.hasOwnProperty(0)&&t.hasOwnProperty(t.length-1)))))})),Et=function(){function t(t){this.f=t}return t.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},t.prototype["@@transducer/result"]=function(t){return t},t.prototype["@@transducer/step"]=function(t,e){return this.f(t,e)},t}();var Wt=Ct((function(t,e){return Nt(t.length,(function(){return t.apply(e,arguments)}))}));function Zt(t,e,n){for(var l=n.next();!l.done;){if((e=t["@@transducer/step"](e,l.value))&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}l=n.next()}return t["@@transducer/result"](e)}function Ft(t,e,n,l){return t["@@transducer/result"](n[l](Wt(t["@@transducer/step"],t),e))}var Jt="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";function Pt(t,e,n){if("function"==typeof t&&(t=function(t){return new Et(t)}(t)),qt(n))return function(t,e,n){for(var l=0,r=n.length;l<r;){if((e=t["@@transducer/step"](e,n[l]))&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}l+=1}return t["@@transducer/result"](e)}(t,e,n);if("function"==typeof n["fantasy-land/reduce"])return Ft(t,e,n,"fantasy-land/reduce");if(null!=n[Jt])return Zt(t,e,n[Jt]());if("function"==typeof n.next)return Zt(t,e,n);if("function"==typeof n.reduce)return Ft(t,e,n,"reduce");throw new TypeError("reduce: list must be array or iterable")}var Tt=Vt(Pt);function It(t,e){return function(){return e.call(this,t.apply(this,arguments))}}function Xt(t,e){return function(){var n=arguments.length;if(0===n)return e();var l=arguments[n-1];return Lt(l)||"function"!=typeof l[t]?e.apply(this,arguments):l[t].apply(l,Array.prototype.slice.call(arguments,0,n-1))}}var Dt=Bt(Xt("tail",Vt(Xt("slice",(function(t,e,n){return Array.prototype.slice.call(n,t,e)})))(1,1/0)));var Gt=Ct((function(t,e){for(var n={},l=0;l<t.length;)t[l]in e&&(n[t[l]]=e[t[l]]),l+=1;return n})),Kt=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype["@@transducer/init"]=Yt,t.prototype["@@transducer/result"]=_t,t.prototype["@@transducer/step"]=function(t,e){return this.f(e),this.xf["@@transducer/step"](t,e)},t}(),Ut=Ct(St([],Ct((function(t,e){return new Kt(t,e)})),(function(t,e){return t(e),e})));function Qt(t){window.addEventListener("keydown",(e=>{if("Backspace"!==e.key)return;tt(t).forEach((t=>{U.dispatch("deleteWidget",t.id())}))}))}function te(t){let e;return{c(){e=k("div"),d(e,"id","convas-container"),d(e,"class","content-container absolute inset-0 svelte-1lg75l6")},m(n,l){i(n,e,l),t[1](e)},p:V,i:V,o:V,d(n){n&&u(e),t[1](null)}}}function ee(t,e,n){let l;function r(t){window.addEventListener("resize",(()=>nt(t)))}return L((()=>{const t=et(l);!function(){if(0===arguments.length)throw new Error("pipe requires at least one argument");return Nt(arguments[0].length,Tt(It,arguments[0],Dt(arguments)))}(Ut(rt),Ut(lt),Ut(Rt),Ut(r),Ut(nt),Ut(Qt))(t)})),[l,function(t){O[t?"unshift":"push"]((()=>{l=t,n(0,l)}))}]}class ne extends t{constructor(t){super(),e(this,t,ee,te,n,{})}}function le(t){let e,n;return{c(){e=s("title"),n=a(t[2])},m(t,l){i(t,e,l),o(e,n)},p(t,e){4&e&&c(n,t[2])},d(t){t&&u(e)}}}function re(t){let e,n,a,c,x;const M=t[11].default,k=l(M,t,t[10],null),A=k||function(t){let e,n=t[2]&&le(t);return{c(){n&&n.c(),e=r()},m(t,l){n&&n.m(t,l),i(t,e,l)},p(t,l){t[2]?n?n.p(t,l):(n=le(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&u(e)}}}(t);let z=[{"data-carbon-icon":"Reset16"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{width:"16"},{height:"16"},{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},{style:t[3]},{id:t[1]},t[4]],H={};for(let l=0;l<z.length;l+=1)H=f(H,z[l]);return{c(){e=s("svg"),n=s("path"),A&&A.c(),d(n,"d","M18,28A12,12,0,1,0,6,16v6.2L2.4,18.6,1,20l6,6,6-6-1.4-1.4L8,22.2V16H8A10,10,0,1,1,18,26Z"),$(e,H)},m(l,r){i(l,e,r),o(e,n),A&&A.m(e,null),a=!0,c||(x=[p(e,"click",t[12]),p(e,"mouseover",t[13]),p(e,"mouseenter",t[14]),p(e,"mouseleave",t[15]),p(e,"keyup",t[16]),p(e,"keydown",t[17])],c=!0)},p(t,[n]){k?k.p&&(!a||1024&n)&&m(k,M,t,t[10],a?h(M,t[10],n,null):g(t[10]),null):A&&A.p&&(!a||4&n)&&A.p(t,a?n:-1),$(e,H=v(z,[{"data-carbon-icon":"Reset16"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{width:"16"},{height:"16"},(!a||1&n)&&{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},(!a||8&n)&&{style:t[3]},(!a||2&n)&&{id:t[1]},16&n&&t[4]]))},i(t){a||(b(A,t),a=!0)},o(t){y(A,t),a=!1},d(t){t&&u(e),A&&A.d(t),c=!1,w(x)}}}function ie(t,e,n){let l,r,i,s,{$$slots:a={},$$scope:o}=e,{class:c}=e,{id:u}=e,{tabindex:d}=e,{focusable:$=!1}=e,{title:p}=e,{style:m}=e;return t.$$set=t=>{n(18,e=f(f({},e),x(t))),"class"in t&&n(0,c=t.class),"id"in t&&n(1,u=t.id),"tabindex"in t&&n(5,d=t.tabindex),"focusable"in t&&n(6,$=t.focusable),"title"in t&&n(2,p=t.title),"style"in t&&n(3,m=t.style),"$$scope"in t&&n(10,o=t.$$scope)},t.$$.update=()=>{n(9,l=e["aria-label"]),n(8,r=e["aria-labelledby"]),772&t.$$.dirty&&n(7,i=l||r||p),992&t.$$.dirty&&n(4,s={"aria-label":l,"aria-labelledby":r,"aria-hidden":!i||void 0,role:i?"img":void 0,focusable:"0"===d||$,tabindex:d})},e=x(e),[c,u,p,m,s,d,$,i,r,l,o,a,function(e){M.call(this,t,e)},function(e){M.call(this,t,e)},function(e){M.call(this,t,e)},function(e){M.call(this,t,e)},function(e){M.call(this,t,e)},function(e){M.call(this,t,e)}]}var se=class extends t{constructor(t){super(),e(this,t,ie,re,n,{class:0,id:1,tabindex:5,focusable:6,title:2,style:3})}};function ae(t){let e,n;return{c(){e=s("title"),n=a(t[2])},m(t,l){i(t,e,l),o(e,n)},p(t,e){4&e&&c(n,t[2])},d(t){t&&u(e)}}}function oe(t){let e,n,a,c,x;const M=t[11].default,k=l(M,t,t[10],null),A=k||function(t){let e,n=t[2]&&ae(t);return{c(){n&&n.c(),e=r()},m(t,l){n&&n.m(t,l),i(t,e,l)},p(t,l){t[2]?n?n.p(t,l):(n=ae(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&u(e)}}}(t);let z=[{"data-carbon-icon":"Rotate16"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{width:"16"},{height:"16"},{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},{style:t[3]},{id:t[1]},t[4]],H={};for(let l=0;l<z.length;l+=1)H=f(H,z[l]);return{c(){e=s("svg"),n=s("path"),A&&A.c(),d(n,"d","M17.91 26.82l.35 2a12.9 12.9 0 004.24-1.54l-1-1.73A10.88 10.88 0 0117.91 26.82zM24.42 23.07L26 24.35a13 13 0 002.24-3.91l-1.87-.68A11 11 0 0124.42 23.07zM9.5 27.25a12.9 12.9 0 004.24 1.54l.35-2a10.88 10.88 0 01-3.59-1.3zM5.67 19.76l-1.87.68A13 13 0 006 24.35l.32-.26 1.22-1h0a11 11 0 01-1.91-3.31zM29 16a12.85 12.85 0 00-.8-4.44l-1.87.68A11.18 11.18 0 0127 16zM26 7.65a13 13 0 00-20 0V4H4v8h8V10H6.81A11 11 0 0124.42 8.93z"),$(e,H)},m(l,r){i(l,e,r),o(e,n),A&&A.m(e,null),a=!0,c||(x=[p(e,"click",t[12]),p(e,"mouseover",t[13]),p(e,"mouseenter",t[14]),p(e,"mouseleave",t[15]),p(e,"keyup",t[16]),p(e,"keydown",t[17])],c=!0)},p(t,[n]){k?k.p&&(!a||1024&n)&&m(k,M,t,t[10],a?h(M,t[10],n,null):g(t[10]),null):A&&A.p&&(!a||4&n)&&A.p(t,a?n:-1),$(e,H=v(z,[{"data-carbon-icon":"Rotate16"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{width:"16"},{height:"16"},(!a||1&n)&&{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},(!a||8&n)&&{style:t[3]},(!a||2&n)&&{id:t[1]},16&n&&t[4]]))},i(t){a||(b(A,t),a=!0)},o(t){y(A,t),a=!1},d(t){t&&u(e),A&&A.d(t),c=!1,w(x)}}}function ce(t,e,n){let l,r,i,s,{$$slots:a={},$$scope:o}=e,{class:c}=e,{id:u}=e,{tabindex:d}=e,{focusable:$=!1}=e,{title:p}=e,{style:m}=e;return t.$$set=t=>{n(18,e=f(f({},e),x(t))),"class"in t&&n(0,c=t.class),"id"in t&&n(1,u=t.id),"tabindex"in t&&n(5,d=t.tabindex),"focusable"in t&&n(6,$=t.focusable),"title"in t&&n(2,p=t.title),"style"in t&&n(3,m=t.style),"$$scope"in t&&n(10,o=t.$$scope)},t.$$.update=()=>{n(9,l=e["aria-label"]),n(8,r=e["aria-labelledby"]),772&t.$$.dirty&&n(7,i=l||r||p),992&t.$$.dirty&&n(4,s={"aria-label":l,"aria-labelledby":r,"aria-hidden":!i||void 0,role:i?"img":void 0,focusable:"0"===d||$,tabindex:d})},e=x(e),[c,u,p,m,s,d,$,i,r,l,o,a,function(e){M.call(this,t,e)},function(e){M.call(this,t,e)},function(e){M.call(this,t,e)},function(e){M.call(this,t,e)},function(e){M.call(this,t,e)},function(e){M.call(this,t,e)}]}var ue=class extends t{constructor(t){super(),e(this,t,ce,oe,n,{class:0,id:1,tabindex:5,focusable:6,title:2,style:3})}};function fe(t){let e,n;return{c(){e=s("title"),n=a(t[2])},m(t,l){i(t,e,l),o(e,n)},p(t,e){4&e&&c(n,t[2])},d(t){t&&u(e)}}}function de(t){let e,n,a,c,x;const M=t[11].default,k=l(M,t,t[10],null),A=k||function(t){let e,n=t[2]&&fe(t);return{c(){n&&n.c(),e=r()},m(t,l){n&&n.m(t,l),i(t,e,l)},p(t,l){t[2]?n?n.p(t,l):(n=fe(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&u(e)}}}(t);let z=[{"data-carbon-icon":"WatsonHealthRotate_18016"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{width:"16"},{height:"16"},{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},{style:t[3]},{id:t[1]},t[4]],H={};for(let l=0;l<z.length;l+=1)H=f(H,z[l]);return{c(){e=s("svg"),n=s("path"),A&&A.c(),d(n,"d","M14.0913 26.8235l-.3467 1.968a12.8956 12.8956 0 01-4.24-1.5418l1-1.7307A10.9086 10.9086 0 0014.0913 26.8235zM7.5767 23.0682L6.0449 24.3533a12.9811 12.9811 0 01-2.25-3.9112l1.8775-.6834A10.9808 10.9808 0 007.5767 23.0682zM22.4951 27.25a12.8956 12.8956 0 01-4.24 1.5418l-.3467-1.968a10.9086 10.9086 0 003.5869-1.3045zM26.3271 19.7587l1.8775.6834a12.9811 12.9811 0 01-2.2495 3.9112l-.3115-.2614-1.22-1.0237h0a10.9822 10.9822 0 001.9038-3.3093zM13.6616 5.2559c-.1592.0346-.3144.08-.4712.1215-.2131.0562-.4258.1138-.6335.1822-.1643.0547-.325.1167-.4859.1782-.1926.0742-.3835.1509-.57.2349-.1611.0727-.3193.15-.4763.23q-.2677.1363-.5262.2867c-.153.0893-.3046.18-.4531.2758-.1679.1089-.3308.2242-.4922.3413-.1406.1026-.2817.2037-.417.3125-.1616.1294-.3156.2676-.47.4063-.1225.11-.2478.2168-.3652.332-.1668.1636-.3223.3379-.4785.5117A10.9438 10.9438 0 005 16H3A12.9363 12.9363 0 016.05 7.65l-.0047-.0039c.0918-.1094.197-.2061.2925-.3125.1841-.2051.3672-.41.5635-.603.1382-.1358.2856-.2613.43-.3907.1831-.1645.3657-.3286.5581-.4824.1592-.1279.3244-.2466.4895-.3667.1921-.14.3855-.2768.5854-.4062.1743-.1128.3523-.2188.5322-.3238q.3081-.1786.6253-.3408c.1846-.0942.37-.1846.56-.27.2224-.1.449-.1914.678-.2793.1894-.0723.3777-.1455.5713-.209.2463-.0815.498-.1494.7507-.2163.1848-.0493.3674-.1025.5554-.1431.29-.0634.5865-.1074.8833-.1508.159-.023.3145-.0552.4754-.0728A12.9331 12.9331 0 0126 7.7031V4h2v8H20V10h5.1885A10.961 10.961 0 0016 5a11.1114 11.1114 0 00-1.189.0669c-.1362.0146-.268.042-.4026.0615C14.1575 5.165 13.907 5.2026 13.6616 5.2559z"),$(e,H)},m(l,r){i(l,e,r),o(e,n),A&&A.m(e,null),a=!0,c||(x=[p(e,"click",t[12]),p(e,"mouseover",t[13]),p(e,"mouseenter",t[14]),p(e,"mouseleave",t[15]),p(e,"keyup",t[16]),p(e,"keydown",t[17])],c=!0)},p(t,[n]){k?k.p&&(!a||1024&n)&&m(k,M,t,t[10],a?h(M,t[10],n,null):g(t[10]),null):A&&A.p&&(!a||4&n)&&A.p(t,a?n:-1),$(e,H=v(z,[{"data-carbon-icon":"WatsonHealthRotate_18016"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{width:"16"},{height:"16"},(!a||1&n)&&{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},(!a||8&n)&&{style:t[3]},(!a||2&n)&&{id:t[1]},16&n&&t[4]]))},i(t){a||(b(A,t),a=!0)},o(t){y(A,t),a=!1},d(t){t&&u(e),A&&A.d(t),c=!1,w(x)}}}function $e(t,e,n){let l,r,i,s,{$$slots:a={},$$scope:o}=e,{class:c}=e,{id:u}=e,{tabindex:d}=e,{focusable:$=!1}=e,{title:p}=e,{style:m}=e;return t.$$set=t=>{n(18,e=f(f({},e),x(t))),"class"in t&&n(0,c=t.class),"id"in t&&n(1,u=t.id),"tabindex"in t&&n(5,d=t.tabindex),"focusable"in t&&n(6,$=t.focusable),"title"in t&&n(2,p=t.title),"style"in t&&n(3,m=t.style),"$$scope"in t&&n(10,o=t.$$scope)},t.$$.update=()=>{n(9,l=e["aria-label"]),n(8,r=e["aria-labelledby"]),772&t.$$.dirty&&n(7,i=l||r||p),992&t.$$.dirty&&n(4,s={"aria-label":l,"aria-labelledby":r,"aria-hidden":!i||void 0,role:i?"img":void 0,focusable:"0"===d||$,tabindex:d})},e=x(e),[c,u,p,m,s,d,$,i,r,l,o,a,function(e){M.call(this,t,e)},function(e){M.call(this,t,e)},function(e){M.call(this,t,e)},function(e){M.call(this,t,e)},function(e){M.call(this,t,e)},function(e){M.call(this,t,e)}]}var pe=class extends t{constructor(t){super(),e(this,t,$e,de,n,{class:0,id:1,tabindex:5,focusable:6,title:2,style:3})}};function me(t){let e,n,l,r,s,f,$,m,g,h,v,x,M,N,V,L,O,_,q,E,W,Z,F,J,P=(100*t[0]).toFixed(0)+"";var T=ue;T&&(r=new T({}));var I=pe;I&&($=new I({}));var X=S;X&&(v=new X({}));var D=Y;D&&(_=new D({}));var G=se;return G&&(W=new G({})),{c(){e=k("div"),n=k("div"),l=k("div"),r&&A(r.$$.fragment),s=z(),f=k("div"),$&&A($.$$.fragment),m=z(),g=k("div"),h=k("div"),v&&A(v.$$.fragment),x=z(),M=k("div"),N=a(P),V=a("%"),L=z(),O=k("div"),_&&A(_.$$.fragment),q=z(),E=k("div"),W&&A(W.$$.fragment),d(l,"class","icon-button svelte-1bds2xv"),H(l,"disabled",0===t[1].backward.length),d(f,"class","icon-button svelte-1bds2xv"),H(f,"disabled",0===t[1].forward.length),d(n,"class","history mb-10"),d(h,"class","icon-button svelte-1bds2xv"),d(M,"class","zoom-value svelte-1bds2xv"),d(O,"class","icon-button svelte-1bds2xv"),d(E,"class","icon-button svelte-1bds2xv"),d(g,"class","zoom"),d(e,"class","tool-container absolute inset-0 flex flex-col items-center svelte-1bds2xv")},m(a,c){i(a,e,c),o(e,n),o(n,l),r&&R(r,l,null),o(n,s),o(n,f),$&&R($,f,null),o(e,m),o(e,g),o(g,h),v&&R(v,h,null),o(g,x),o(g,M),o(M,N),o(M,V),o(g,L),o(g,O),_&&R(_,O,null),o(g,q),o(g,E),W&&R(W,E,null),Z=!0,F||(J=[p(l,"click",t[6]),p(f,"click",t[7]),p(h,"click",t[8]),p(O,"click",t[9]),p(E,"click",t[10]),p(e,"keydown",ge)],F=!0)},p(t,[e]){if(T!==(T=ue)){if(r){j();const t=r;y(t.$$.fragment,1,0,(()=>{B(t,1)})),C()}T?(r=new T({}),A(r.$$.fragment),b(r.$$.fragment,1),R(r,l,null)):r=null}if(2&e&&H(l,"disabled",0===t[1].backward.length),I!==(I=pe)){if($){j();const t=$;y(t.$$.fragment,1,0,(()=>{B(t,1)})),C()}I?($=new I({}),A($.$$.fragment),b($.$$.fragment,1),R($,f,null)):$=null}if(2&e&&H(f,"disabled",0===t[1].forward.length),X!==(X=S)){if(v){j();const t=v;y(t.$$.fragment,1,0,(()=>{B(t,1)})),C()}X?(v=new X({}),A(v.$$.fragment),b(v.$$.fragment,1),R(v,h,null)):v=null}if((!Z||1&e)&&P!==(P=(100*t[0]).toFixed(0)+"")&&c(N,P),D!==(D=Y)){if(_){j();const t=_;y(t.$$.fragment,1,0,(()=>{B(t,1)})),C()}D?(_=new D({}),A(_.$$.fragment),b(_.$$.fragment,1),R(_,O,null)):_=null}if(G!==(G=se)){if(W){j();const t=W;y(t.$$.fragment,1,0,(()=>{B(t,1)})),C()}G?(W=new G({}),A(W.$$.fragment),b(W.$$.fragment,1),R(W,E,null)):W=null}},i(t){Z||(r&&b(r.$$.fragment,t),$&&b($.$$.fragment,t),v&&b(v.$$.fragment,t),_&&b(_.$$.fragment,t),W&&b(W.$$.fragment,t),Z=!0)},o(t){r&&y(r.$$.fragment,t),$&&y($.$$.fragment,t),v&&y(v.$$.fragment,t),_&&y(_.$$.fragment,t),W&&y(W.$$.fragment,t),Z=!1},d(t){t&&u(e),r&&B(r),$&&B($),v&&B(v),_&&B(_),W&&B(W),F=!1,w(J)}}}const ge=t=>t.stopPropagation();function he(t,e,n){let l,r;const{history:i,zoom:s,dispatch:a}=D((t=>t.editor));function o(t){if(l<=.5&&t<0||l>=5&&t>0)return;const e=t?parseFloat((l+.1*t).toFixed(2)):1;a("updateZoom",e)}_(t,i,(t=>n(1,r=t))),_(t,s,(t=>n(0,l=t)));return[l,r,i,s,a,o,()=>a("backward"),()=>a("forward"),()=>o(1),()=>o(-1),()=>o()]}class ve extends t{constructor(t){super(),e(this,t,he,me,n,{})}}function be(t){let e,n,r,s,f,$,p,v;const w=t[2].default,x=l(w,t,t[1],null);return{c(){e=k("div"),n=k("div"),r=a(t[0]),s=z(),f=k("div"),f.textContent=":",$=z(),p=k("div"),x&&x.c(),d(n,"class","form-item_label svelte-10we51w"),d(f,"class","form-item_split svelte-10we51w"),d(p,"class","form-item_content"),d(e,"class","form-item flex")},m(t,l){i(t,e,l),o(e,n),o(n,r),o(e,s),o(e,f),o(e,$),o(e,p),x&&x.m(p,null),v=!0},p(t,[e]){(!v||1&e)&&c(r,t[0]),x&&x.p&&(!v||2&e)&&m(x,w,t,t[1],v?h(w,t[1],e,null):g(t[1]),null)},i(t){v||(b(x,t),v=!0)},o(t){y(x,t),v=!1},d(t){t&&u(e),x&&x.d(t)}}}function ye(t,e,n){let{$$slots:l={},$$scope:r}=e,{label:i}=e;return t.$$set=t=>{"label"in t&&n(0,i=t.label),"$$scope"in t&&n(1,r=t.$$scope)},[i,r,l]}class we extends t{constructor(t){super(),e(this,t,ye,be,n,{label:0})}}function xe(t){let e,n;const r=t[1].default,s=l(r,t,t[0],null);return{c(){e=k("div"),s&&s.c(),d(e,"class","form")},m(t,l){i(t,e,l),s&&s.m(e,null),n=!0},p(t,[e]){s&&s.p&&(!n||1&e)&&m(s,r,t,t[0],n?h(r,t[0],e,null):g(t[0]),null)},i(t){n||(b(s,t),n=!0)},o(t){y(s,t),n=!1},d(t){t&&u(e),s&&s.d(t)}}}function Me(t,e,n){let{$$slots:l={},$$scope:r}=e;return t.$$set=t=>{"$$scope"in t&&n(0,r=t.$$scope)},[r,l]}class ke extends t{constructor(t){super(),e(this,t,Me,xe,n,{})}}function Ae(t){let e,n,l,r,s,a,o,c,f,d;return e=new we({props:{label:"X",$$slots:{default:[ze]},$$scope:{ctx:t}}}),l=new we({props:{label:"Y",$$slots:{default:[He]},$$scope:{ctx:t}}}),s=new we({props:{label:"宽度",$$slots:{default:[Re]},$$scope:{ctx:t}}}),o=new we({props:{label:"高度",$$slots:{default:[je]},$$scope:{ctx:t}}}),f=new we({props:{label:"角度",$$slots:{default:[Be]},$$scope:{ctx:t}}}),{c(){A(e.$$.fragment),n=z(),A(l.$$.fragment),r=z(),A(s.$$.fragment),a=z(),A(o.$$.fragment),c=z(),A(f.$$.fragment)},m(t,u){R(e,t,u),i(t,n,u),R(l,t,u),i(t,r,u),R(s,t,u),i(t,a,u),R(o,t,u),i(t,c,u),R(f,t,u),d=!0},p(t,n){const r={};131073&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r);const i={};131073&n&&(i.$$scope={dirty:n,ctx:t}),l.$set(i);const a={};131073&n&&(a.$$scope={dirty:n,ctx:t}),s.$set(a);const c={};131073&n&&(c.$$scope={dirty:n,ctx:t}),o.$set(c);const u={};131073&n&&(u.$$scope={dirty:n,ctx:t}),f.$set(u)},i(t){d||(b(e.$$.fragment,t),b(l.$$.fragment,t),b(s.$$.fragment,t),b(o.$$.fragment,t),b(f.$$.fragment,t),d=!0)},o(t){y(e.$$.fragment,t),y(l.$$.fragment,t),y(s.$$.fragment,t),y(o.$$.fragment,t),y(f.$$.fragment,t),d=!1},d(t){B(e,t),t&&u(n),B(l,t),t&&u(r),B(s,t),t&&u(a),B(o,t),t&&u(c),B(f,t)}}}function ze(t){let e,n,l;function r(e){t[4](e)}let i={};return void 0!==t[0].x&&(i.value=t[0].x),e=new q({props:i}),O.push((()=>E(e,"value",r))),e.$on("change",t[3]),{c(){A(e.$$.fragment)},m(t,n){R(e,t,n),l=!0},p(t,l){const r={};!n&&1&l&&(n=!0,r.value=t[0].x,W((()=>n=!1))),e.$set(r)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){y(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function He(t){let e,n,l;function r(e){t[5](e)}let i={};return void 0!==t[0].y&&(i.value=t[0].y),e=new q({props:i}),O.push((()=>E(e,"value",r))),e.$on("change",t[3]),{c(){A(e.$$.fragment)},m(t,n){R(e,t,n),l=!0},p(t,l){const r={};!n&&1&l&&(n=!0,r.value=t[0].y,W((()=>n=!1))),e.$set(r)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){y(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function Re(t){let e,n,l;function r(e){t[6](e)}let i={min:0};return void 0!==t[0].width&&(i.value=t[0].width),e=new q({props:i}),O.push((()=>E(e,"value",r))),e.$on("change",t[3]),{c(){A(e.$$.fragment)},m(t,n){R(e,t,n),l=!0},p(t,l){const r={};!n&&1&l&&(n=!0,r.value=t[0].width,W((()=>n=!1))),e.$set(r)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){y(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function je(t){let e,n,l;function r(e){t[7](e)}let i={min:0};return void 0!==t[0].height&&(i.value=t[0].height),e=new q({props:i}),O.push((()=>E(e,"value",r))),e.$on("change",t[3]),{c(){A(e.$$.fragment)},m(t,n){R(e,t,n),l=!0},p(t,l){const r={};!n&&1&l&&(n=!0,r.value=t[0].height,W((()=>n=!1))),e.$set(r)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){y(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function Be(t){let e,n,l;function r(e){t[8](e)}let i={};return void 0!==t[0].rotation&&(i.value=t[0].rotation),e=new q({props:i}),O.push((()=>E(e,"value",r))),e.$on("change",t[3]),{c(){A(e.$$.fragment)},m(t,n){R(e,t,n),l=!0},p(t,l){const r={};!n&&1&l&&(n=!0,r.value=t[0].rotation,W((()=>n=!1))),e.$set(r)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){y(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function Ce(t){let e,n,l=t[0]&&Ae(t);return{c(){l&&l.c(),e=r()},m(t,r){l&&l.m(t,r),i(t,e,r),n=!0},p(t,n){t[0]?l?(l.p(t,n),1&n&&b(l,1)):(l=Ae(t),l.c(),b(l,1),l.m(e.parentNode,e)):l&&(j(),y(l,1,1,(()=>{l=null})),C())},i(t){n||(b(l),n=!0)},o(t){y(l),n=!1},d(t){l&&l.d(t),t&&u(e)}}}function Ne(t){let e,n;return e=new ke({props:{$$slots:{default:[Ce]},$$scope:{ctx:t}}}),{c(){A(e.$$.fragment)},m(t,l){R(e,t,l),n=!0},p(t,[n]){const l={};131073&n&&(l.$$scope={dirty:n,ctx:t}),e.$set(l)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){B(e,t)}}}function Ve(t,e,n){let l,r;const{selected:i,widgets:s,dispatch:a,stage:o}=D((t=>t.editor));_(t,i,(t=>n(11,r=t))),_(t,o,(t=>n(10,l=t)));let c,u={width:0,height:0,x:0,y:0,rotation:0};return s.subscribe((t=>{const e=t.find((t=>1===r.length&&t.id===r[0]));c=e,e&&function(){const t=Gt(Object.keys(u),c.property);JSON.stringify(u)!==JSON.stringify(t)&&n(0,u=t)}()})),[u,i,o,function(){const t=Gt(Object.keys(u),c.property);JSON.stringify(u)!==JSON.stringify(t)&&(!function(){const[t]=r;if(!t)return;const e=l.findOne(`#${t}`);Object.entries(u).forEach((([t,n])=>{e.getAttr(t)!==n&&e.setAttr(t,n)}))}(),a("updateWidget",c.property=Object.assign(Object.assign({},c.property),u)))},function(e){t.$$.not_equal(u.x,e)&&(u.x=e,n(0,u))},function(e){t.$$.not_equal(u.y,e)&&(u.y=e,n(0,u))},function(e){t.$$.not_equal(u.width,e)&&(u.width=e,n(0,u))},function(e){t.$$.not_equal(u.height,e)&&(u.height=e,n(0,u))},function(e){t.$$.not_equal(u.rotation,e)&&(u.rotation=e,n(0,u))}]}class Le extends t{constructor(t){super(),e(this,t,Ve,Ne,n,{})}}function Oe(t){let e;return{c(){e=a("2")},m(t,n){i(t,e,n)},p:V,i:V,o:V,d(t){t&&u(e)}}}class Se extends t{constructor(t){super(),e(this,t,null,Oe,n,{})}}function Ye(t){let e;return{c(){e=a("1")},m(t,n){i(t,e,n)},p:V,i:V,o:V,d(t){t&&u(e)}}}class _e extends t{constructor(t){super(),e(this,t,null,Ye,n,{})}}function qe(t,e,n){const l=t.slice();return l[6]=e[n],l[8]=n,l}function Ee(t){let e,n,l;var r=t[6].component;return r&&(e=new r({})),{c(){e&&A(e.$$.fragment),n=z()},m(t,r){e&&R(e,t,r),i(t,n,r),l=!0},p(t,l){if(r!==(r=t[6].component)){if(e){j();const t=e;y(t.$$.fragment,1,0,(()=>{B(t,1)})),C()}r?(e=new r({}),A(e.$$.fragment),b(e.$$.fragment,1),R(e,n.parentNode,n)):e=null}},i(t){l||(e&&b(e.$$.fragment,t),l=!0)},o(t){e&&y(e.$$.fragment,t),l=!1},d(t){e&&B(e,t),t&&u(n)}}}function We(t){let e,n,l=t[6].filter(),s=l&&function(t){let e,n;return e=new F({props:{title:t[6].label,open:!0,$$slots:{default:[Ee]},$$scope:{ctx:t}}}),{c(){A(e.$$.fragment)},m(t,l){R(e,t,l),n=!0},p(t,n){const l={};512&n&&(l.$$scope={dirty:n,ctx:t}),e.$set(l)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){B(e,t)}}}(t);return{c(){s&&s.c(),e=r()},m(t,l){s&&s.m(t,l),i(t,e,l),n=!0},p(t,e){l&&s.p(t,e)},i(t){n||(b(s),n=!0)},o(t){y(s),n=!1},d(t){s&&s.d(t),t&&u(e)}}}function Ze(t){let e,n,l=t[2],s=[];for(let r=0;r<l.length;r+=1)s[r]=We(qe(t,l,r));const a=t=>y(s[t],1,1,(()=>{s[t]=null}));return{c(){for(let t=0;t<s.length;t+=1)s[t].c();e=r()},m(t,l){for(let e=0;e<s.length;e+=1)s[e].m(t,l);i(t,e,l),n=!0},p(t,n){if(4&n){let r;for(l=t[2],r=0;r<l.length;r+=1){const i=qe(t,l,r);s[r]?(s[r].p(i,n),b(s[r],1)):(s[r]=We(i),s[r].c(),b(s[r],1),s[r].m(e.parentNode,e))}for(j(),r=l.length;r<s.length;r+=1)a(r);C()}},i(t){if(!n){for(let t=0;t<l.length;t+=1)b(s[t]);n=!0}},o(t){s=s.filter(Boolean);for(let e=0;e<s.length;e+=1)y(s[e]);n=!1},d(t){N(s,t),t&&u(e)}}}function Fe(t){let e,n,l;return n=new Z({props:{size:"sm",$$slots:{default:[Ze]},$$scope:{ctx:t}}}),{c(){e=k("div"),A(n.$$.fragment),d(e,"class","widget-property")},m(t,r){i(t,e,r),R(n,e,null),l=!0},p(t,[e]){const l={};512&e&&(l.$$scope={dirty:e,ctx:t}),n.$set(l)},i(t){l||(b(n.$$.fragment,t),l=!0)},o(t){y(n.$$.fragment,t),l=!1},d(t){t&&u(e),B(n)}}}function Je(t,e,n){let l,r;const{selected:i,stage:s}=D((t=>t.editor));_(t,i,(t=>n(4,r=t))),_(t,s,(t=>n(3,l=t)));function a(){const[t]=r;if(t)return l.findOne(`#${t}`).getClassName()}return[i,s,[{label:"基础属性",component:Le,filter:()=>!0},{label:"文本属性",component:Se,filter:()=>"Text"===a()},{label:"图片属性",component:_e,filter:()=>"Image"===a()}]]}class Pe extends t{constructor(t){super(),e(this,t,Je,Fe,n,{})}}class Te extends t{constructor(t){super(),e(this,t,null,null,n,{})}}function Ie(t){let e,n,l,r,s,a;return e=new P({props:{label:"属性"}}),l=new P({props:{label:"页面"}}),s=new P({props:{label:"行为"}}),{c(){A(e.$$.fragment),n=z(),A(l.$$.fragment),r=z(),A(s.$$.fragment)},m(t,o){R(e,t,o),i(t,n,o),R(l,t,o),i(t,r,o),R(s,t,o),a=!0},p:V,i(t){a||(b(e.$$.fragment,t),b(l.$$.fragment,t),b(s.$$.fragment,t),a=!0)},o(t){y(e.$$.fragment,t),y(l.$$.fragment,t),y(s.$$.fragment,t),a=!1},d(t){B(e,t),t&&u(n),B(l,t),t&&u(r),B(s,t)}}}function Xe(t){let e,n;return e=new Pe({}),{c(){A(e.$$.fragment)},m(t,l){R(e,t,l),n=!0},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){B(e,t)}}}function De(t){let e,n,l=1===t[0].length&&Xe();return{c(){l&&l.c(),e=r()},m(t,r){l&&l.m(t,r),i(t,e,r),n=!0},p(t,n){1===t[0].length?l?1&n&&b(l,1):(l=Xe(),l.c(),b(l,1),l.m(e.parentNode,e)):l&&(j(),y(l,1,1,(()=>{l=null})),C())},i(t){n||(b(l),n=!0)},o(t){y(l),n=!1},d(t){l&&l.d(t),t&&u(e)}}}function Ge(t){let e,n;return e=new Te({}),{c(){A(e.$$.fragment)},m(t,l){R(e,t,l),n=!0},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){B(e,t)}}}function Ke(t){let e,n;return e=new Te({}),{c(){A(e.$$.fragment)},m(t,l){R(e,t,l),n=!0},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){B(e,t)}}}function Ue(t){let e,n,l,r,s,a,c;return n=new T({props:{$$slots:{default:[De]},$$scope:{ctx:t}}}),r=new T({props:{$$slots:{default:[Ge]},$$scope:{ctx:t}}}),a=new T({props:{$$slots:{default:[Ke]},$$scope:{ctx:t}}}),{c(){e=k("div"),A(n.$$.fragment),l=z(),A(r.$$.fragment),s=z(),A(a.$$.fragment),d(e,"slot","content")},m(t,u){i(t,e,u),R(n,e,null),o(e,l),R(r,e,null),o(e,s),R(a,e,null),c=!0},p(t,e){const l={};5&e&&(l.$$scope={dirty:e,ctx:t}),n.$set(l);const i={};4&e&&(i.$$scope={dirty:e,ctx:t}),r.$set(i);const s={};4&e&&(s.$$scope={dirty:e,ctx:t}),a.$set(s)},i(t){c||(b(n.$$.fragment,t),b(r.$$.fragment,t),b(a.$$.fragment,t),c=!0)},o(t){y(n.$$.fragment,t),y(r.$$.fragment,t),y(a.$$.fragment,t),c=!1},d(t){t&&u(e),B(n),B(r),B(a)}}}function Qe(t){let e,n,l,r,s;return n=new J({props:{$$slots:{content:[Ue],default:[Ie]},$$scope:{ctx:t}}}),{c(){e=k("div"),A(n.$$.fragment),d(e,"class","property-container")},m(t,a){i(t,e,a),R(n,e,null),l=!0,r||(s=p(e,"keydown",tn),r=!0)},p(t,[e]){const l={};5&e&&(l.$$scope={dirty:e,ctx:t}),n.$set(l)},i(t){l||(b(n.$$.fragment,t),l=!0)},o(t){y(n.$$.fragment,t),l=!1},d(t){t&&u(e),B(n),r=!1,s()}}}const tn=t=>t.stopPropagation();function en(t,e,n){let l;const{selected:r}=D((t=>t.editor));return _(t,r,(t=>n(0,l=t))),[l,r]}class nn extends t{constructor(t){super(),e(this,t,en,Qe,n,{})}}function ln(t){let e,n,l,r,s,a,c,f,$,p,m,g,h;return l=new Ht({}),a=new ne({}),$=new ve({}),g=new nn({}),{c(){e=k("div"),n=k("div"),A(l.$$.fragment),r=z(),s=k("div"),A(a.$$.fragment),c=z(),f=k("div"),A($.$$.fragment),p=z(),m=k("div"),A(g.$$.fragment),d(n,"class","editor-sidebar relative svelte-evxple"),d(s,"class","editor-content relative svelte-evxple"),d(f,"class","editor-tool relative svelte-evxple"),d(m,"class","editor-property relative svelte-evxple"),d(e,"class","editor-container absolute inset-0 svelte-evxple")},m(t,u){i(t,e,u),o(e,n),R(l,n,null),o(e,r),o(e,s),R(a,s,null),o(e,c),o(e,f),R($,f,null),o(e,p),o(e,m),R(g,m,null),h=!0},i(t){h||(b(l.$$.fragment,t),b(a.$$.fragment,t),b($.$$.fragment,t),b(g.$$.fragment,t),h=!0)},o(t){y(l.$$.fragment,t),y(a.$$.fragment,t),y($.$$.fragment,t),y(g.$$.fragment,t),h=!1},d(t){t&&u(e),B(l),B(a),B($),B(g)}}}function rn(t){let e;return{c(){e=a("保存")},m(t,n){i(t,e,n)},d(t){t&&u(e)}}}function sn(t){let e,n;return e=new I({props:{size:"small",$$slots:{default:[rn]},$$scope:{ctx:t}}}),{c(){A(e.$$.fragment)},m(t,l){R(e,t,l),n=!0},p(t,n){const l={};1&n&&(l.$$scope={dirty:n,ctx:t}),e.$set(l)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){B(e,t)}}}function an(t){let e,n;return e=new X({props:{title:"编辑中心",layout:"default",$$slots:{action:[sn],default:[ln]},$$scope:{ctx:t}}}),{c(){A(e.$$.fragment)},m(t,l){R(e,t,l),n=!0},p(t,[n]){const l={};1&n&&(l.$$scope={dirty:n,ctx:t}),e.$set(l)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){B(e,t)}}}class on extends t{constructor(t){super(),e(this,t,null,an,n,{})}}export{on as default};
