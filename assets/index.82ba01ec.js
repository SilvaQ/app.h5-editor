var t=Object.defineProperty,e=Object.defineProperties,n=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,a=(e,n,r)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r,i=(t,e)=>{for(var n in e||(e={}))o.call(e,n)&&a(t,n,e[n]);if(r)for(var n of r(e))s.call(e,n)&&a(t,n,e[n]);return t},c=(t,r)=>e(t,n(r));import{T as d,c as l,K as u,a as f,p,b as h,d as g,u as m,e as y,S as w,i as $,s as b,R as v,f as x,m as k,n as E,t as O,g as P,h as j,j as S,k as _,l as L,o as M,q as T,r as z,v as A,w as C,x as X,y as I,z as D,E as W,A as Y,B,C as R,D as V,F as N,G as U,H,I as F,J as K,L as q,M as Z,N as G,O as J,P as Q,Q as tt,U as et,V as nt,W as rt,X as ot,Y as st,Z as at,_ as it,$ as ct,a0 as dt}from"./vendor.46162738.js";const lt={ready:!1,layout:"default"},ut={keys:Object.keys(lt),module:t=>{t.on("@init",(()=>lt)),t.on("ready",(()=>({ready:!0}))),t.on("updateLayout",((t,e)=>c(i({},t),{layout:e})))}};var ft,pt,ht,gt,mt,yt;(pt=ft||(ft={})).image="IMAGE",pt.text="TEXT",(ht||(ht={})).username="USERNAME",(gt||(gt={})).input="input",(yt=mt||(mt={})).stage="stage",yt.widget="widget";const wt=[{label:"左对齐",value:"left"},{label:"居中",value:"center"},{label:"右对齐",value:"right"}];class $t{}class bt{}var vt=Object.defineProperty,xt=Object.getOwnPropertyDescriptor;class kt{get id(){return this.property.id}}((t,e,n,r)=>{for(var o,s=r>1?void 0:r?xt(e,n):e,a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r?o(e,n,s):o(s))||s);r&&s&&vt(e,n,s)})([d((()=>bt))],kt.prototype,"property",2);var Et=Object.defineProperty,Ot=Object.getOwnPropertyDescriptor;class Pt extends kt{constructor(){super(...arguments),this.widgetType=ft.image}}((t,e,n,r)=>{for(var o,s=r>1?void 0:r?Ot(e,n):e,a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r?o(e,n,s):o(s))||s);r&&s&&Et(e,n,s)})([d((()=>$t))],Pt.prototype,"imageProperty",2);class jt{}var St=Object.defineProperty,_t=Object.getOwnPropertyDescriptor;class Lt extends kt{constructor(){super(...arguments),this.widgetType=ft.text}}((t,e,n,r)=>{for(var o,s=r>1?void 0:r?_t(e,n):e,a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r?o(e,n,s):o(s))||s);r&&s&&St(e,n,s)})([d((()=>jt))],Lt.prototype,"textProperty",2);const Mt={[ft.text]:function(t="请输入文本"){const e=new Lt;return e.property=function(){const t=new bt;return t.id=Math.random().toString(32).slice(2),t.height=60,t.width=200,t.opacity=1,t.rotation=0,t.scaleX=1,t.scaleY=1,t.x=0,t.y=0,t}(),e.textProperty=function(t){const e=new jt;return e.fill="#000",e.fontFamily="Arial",e.align="left",e.fontSize=32,e.fontStyle="",e.text=t,e}(t),e},[ft.image]:function(t){const e=new Pt;return e.property=function(){const t=new bt;return t.id=Math.random().toString(32).slice(2),t.height=100,t.width=100,t.opacity=1,t.rotation=0,t.scaleX=1,t.scaleY=1,t.x=0,t.y=0,t}(),e.imageProperty=function(t){const e=new $t;return e.url=t,e}(t),e}};function Tt(t,e){const n=Mt[t];if(!n)throw Error("不存在该组件类型");return n(e)}function zt(t){const e=l(t);return e.property.id=Math.random().toString(32).slice(2),e}const At={env:"test-4glnlr77348551c8",region:"ap-shanghai"},Ct={content:{scale:3,width:1080,height:1920}},Xt={Text:function(t){t.on(gt.input,(()=>{!function(t,e){const{widgets:n}=he.get(),r=n.find((e=>e.id===t.id()));if(!r)return;he.dispatch("updateWidget",{id:r.id,textProperty:i(i({},r.textProperty),e)})}(t,{text:t.text()})}))},Image:function(){}};function It(t,e){const{widgets:n}=he.get(),r=n.find((e=>e.id===t.id()));r&&he.dispatch("updateWidget",{id:r.id,property:i(i({},r.property),e)})}function Dt(t){const e=t.container(),{content:n}=Yt(),{width:r,height:o}=Ct.content;t.width(e.offsetWidth),t.height(e.offsetHeight),n.x(e.offsetWidth/2-r*n.scaleX()/2),n.y(e.offsetHeight/2-o*n.scaleY()/2),n.draw()}function Wt(t){const e=t.clientWidth,n=t.clientHeight,r=new u.Stage({container:t,width:e,height:n}),{content:o,background:s}=function(t){const{width:e,height:n,scale:r}=Ct.content,o=new u.Layer({name:"content",x:t.width()/2-e/2,y:t.height()/2-n/2,scaleX:1/r,scaleY:1/r,clip:{x:0,y:0,width:e,height:n}});he.dispatch("updateSize",{width:e,height:n});const s=new u.Layer({name:"background"});return{content:o,background:s}}(r);return r.add(o),r.add(s),o.draw(),s.draw(),he.dispatch("updateStage",r),r}function Yt(){const{stage:t}=he.get();if(!t)throw"请初始化Stage";const e=t.getLayers();return{content:e.find((t=>"content"===t.name())),background:e.find((t=>"background"===t.name()))}}const Bt=["background"],Rt={Text:["top-center","bottom-center","middle-right","middle-left"],Image:["top-left","top-right","bottom-left","bottom-right"],default:["top-left","top-right","bottom-left","bottom-right"]};function Vt(t){return t.find("Transformer").find((t=>"selected"===t.name()))}function Nt(t,e){return t.find("Transformer").find((t=>t.nodes().includes(e)))}function Ut(t,e,n=!1){const r=new u.Transformer({keepRatio:!0,resizeEnabled:n,rotateEnabled:n});if(1===e.length){const[t]=e;r.enabledAnchors((o=t.getClassName(),Rt[o]||Rt.default))}var o;return r.nodes(e),t.add(r),t.draw(),(n||e.length>1)&&r.name("selected"),r}function Ht(t){t.find("Transformer").forEach((t=>t.destroy())),t.draw()}function Ft(t){const{content:e}=Yt();t.on("mousedown",(n=>{if(n.target===t)return Ht(t),void he.dispatch("updateSelected",[]);return e.findOne((t=>Bt.includes(n.target.name())))?(Ht(t),void he.dispatch("updateSelected",[])):void 0}))}function Kt(t){const e=t.getLayer(),n=e.getLayer(),r=n.offsetX()+t.absolutePosition().x,o=n.offsetY()+t.absolutePosition().y,s=document.createElement("textarea");document.getElementById("convas-container").appendChild(s),s.value=t.text(),s.style.position="absolute",s.style.top=o+"px",s.style.left=r+"px",s.style.width=t.width()-2*t.padding()+"px",s.style.height=t.height()-2*t.padding()+5+"px",s.style.fontSize=`${t.fontSize()}px`,s.style.border="none",s.style.padding="0px",s.style.margin="0px",s.style.overflow="hidden",s.style.background="none",s.style.outline="none",s.style.resize="none",s.style.wordBreak="break-all",s.style.fontFamily=t.fontFamily(),s.style.transformOrigin="left top",s.style.textAlign=t.align(),s.style.color=t.fill(),s.style.transform=`rotateZ(${t.rotation()}deg) scale(${e.scaleX()})`,s.focus(),s.addEventListener("keydown",(function(t){"Enter"!==t.key||t.shiftKey||s.blur()})),s.addEventListener("blur",(function(e){t.text(s.value),t.fire(gt.input),s.parentNode.removeChild(s),t.show()}))}const qt={[ft.text]:function(t){const e=new u.Text(i(i({},t.property),t.textProperty));return function(t){t.on("dblclick dbltap",(()=>{t.hide(),Kt(t)}))}(e),function(t){t.on("transform",(e=>{t.setAttrs({width:Math.max(t.width()*t.scaleX(),100),height:Math.max(t.height()*t.scaleY(),50),scaleX:1,scaleY:1})}))}(e),e},[ft.image]:function(t){const e=new Image,n=new u.Image(c(i({},t.property),{image:e}));return e.onload=()=>{n.draw()},e.src=t.imageProperty.url,function(t){t.on("transform",(e=>{t.setAttrs({width:Math.max(t.width()*t.scaleX()),height:Math.max(t.height()*t.scaleY()),scaleX:1,scaleY:1})}))}(n),n}};function Zt(t){const e=qt[t.widgetType];if(!e)throw Error("组件类型不存在");const n=e(t);return n.draggable(!0),n}function Gt(t,e,n=!0){const{content:r,background:o}=Yt();!function(t,e){const{background:n}=Yt();e.on("mouseenter",(r=>{Nt(t,e)||Ut(n,[e],!1)})),e.on("mouseout",(n=>{const r=Nt(t,e);r&&"selected"!==r.name()&&r.destroy()})),e.on("mousedown",(r=>{const o=Vt(t),s=Nt(t,e);if(s&&s===o)return;const a=r.evt.ctrlKey&&o?[...o.nodes(),e]:[e];Ht(t),Ut(n,a,1===a.length),he.dispatch("updateSelected",a.map((t=>t.id())))}))}(t,e),Ht(t),n&&Ut(o,[e],!0),function(t){t.on("transformend",(()=>{It(t,{x:Math.round(t.x()),y:Math.round(t.y()),width:Math.round(t.width()),height:Math.round(t.height()),scaleX:Math.round(t.scaleX()),scaleY:Math.round(t.scaleY()),rotation:Math.round(t.rotation())})})),t.on("dragend",(()=>{It(t,{x:Math.round(t.x()),y:Math.round(t.y())})}));const e=Xt[t.getClassName()];e&&e(t)}(e),r.add(e)}function Jt(t){const e=Vt(t);if(!e)return;return e.getNodes().filter((t=>t.visible()))}function Qt(){const{content:t}=Yt(),{width:e,height:n}=Ct.content,r=new u.Rect({width:e,height:n,fill:"#fff",name:"background"});t.add(r)}function te(t){return{widgets:f(t.widgets),size:{width:t.stage.width(),height:t.stage.height()},selected:[...t.selected]}}function ee(t){return{widgets:p(kt,t.widgets),size:t.size,selected:t.selected}}function ne(t){return t.history.forward=[],t.history.backward.push(te(t)),{history:{forward:t.history.forward,backward:t.history.backward}}}function re(t){const e=t.history.backward.pop();if(e)return c(i({},ee(e)),{history:{backward:[...t.history.backward],forward:[...t.history.forward,te(t)]}})}function oe(t){const e=t.history.forward.pop();if(e)return c(i({},ee(e)),{history:{backward:[...t.history.backward,te(t)],forward:[...t.history.forward]}})}const se={stage:void 0,size:void 0,selected:[],copied:[],zoom:1,widgets:[],history:{backward:[],forward:[]}},ae={keys:Object.keys(se),module:t=>{t.on("@init",(()=>se)),t.on("updateStage",((t,e)=>c(i({},t),{stage:e}))),t.on("updateSize",((t,e)=>c(i({},t),{size:e}))),t.on("updateWidgets",((t,e)=>c(i({},t),{widget:e}))),t.on("updateSelected",((t,e)=>c(i({},t),{selected:e}))),t.on("updateCopied",((t,e)=>c(i({},t),{copied:e}))),t.on("updateWidget",me(ce,{before:[ne]})),t.on("updateZoom",me(ie)),t.on("backward",me(re,{after:[ue]})),t.on("forward",me(oe,{after:[ue]})),t.on("createWidget",me(de,{before:[ne]})),t.on("deleteWidget",me(le,{before:[ne]}))}};function ie(t,e){const{scale:n}=Ct.content,{content:r}=Yt();return r.scaleX(1/n*e),r.scaleY(1/n*e),Dt(t.stage),{zoom:e}}function ce(t,e){const n=t.widgets.find((t=>t.id===e.id));return n&&Object.entries(e).forEach((([t,r])=>{"id"!==t&&(n[t]=i(i({},n[t]),e[t]))})),{widgets:t.widgets}}function de(t,e){const{stage:n,widgets:r}=t,o=e instanceof kt?e:Tt(e),s=Zt(o);return Gt(n,s),{widgets:[...r,o],selected:[s.id()]}}function le(t,e){const{stage:n}=t;return function(t,e){const{content:n}=Yt(),[r]=n.getChildren((t=>t.id()===e));r&&(r.destroy(),Ht(t))}(n,e),{widgets:t.widgets.filter((t=>t.property.id!==e))}}function ue(t){const{stage:e,widgets:n,selected:r}=t,{content:o,background:s}=Yt();var a;o.destroyChildren(),Ht(e),Qt(),(a=n,a.map((t=>Zt(t)))).forEach((t=>Gt(e,t,!1))),r.length&&Ut(s,r.map((t=>e.findOne(`#${t}`))),1===r.length)}const fe={userid:"",username:""},pe={user:{keys:Object.keys(fe),module:t=>{t.on("@init",(()=>fe)),t.on("login",((t,e)=>c(i({},t),{userid:e,username:e+":name"})))},persist:["userid"]},app:ut,editor:ae},he=h([...Object.values(pe).map((t=>t.module)),g(Object.values(pe).filter((t=>t.persist)).map((t=>t.persist)).flat())]);function ge(t){return m(...t(pe).keys)}function me(t,e={after:[],before:[]}){return(n,r)=>{const{before:o=[],after:s=[]}=e,a=o.reduce(((t,e)=>i(i({},t),e(t)||{})),n),c=i(i({},n),t(n,r)),d=s.reduce(((t,e)=>i(i({},t),e(t)||{})),c);return i(i(i({},a),c),d)}}const ye={"interactive-01":"#1890ff","interactive-04":"#1890ff","layer-selected-inverse":"#1890ff"};function we(t){let e,n;return e=new v({}),{c(){x(e.$$.fragment)},m(t,r){k(e,t,r),n=!0},p:E,i(t){n||(O(e.$$.fragment,t),n=!0)},o(t){P(e.$$.fragment,t),n=!1},d(t){j(e,t)}}}let $e;const be={},ve=function(t,e){if(!e||0===e.length)return t();if(void 0===$e){const t=document.createElement("link").relList;$e=t&&t.supports&&t.supports("modulepreload")?"modulepreload":"preload"}return Promise.all(e.map((t=>{if((t=`/app.h5-editor/${t}`)in be)return;be[t]=!0;const e=t.endsWith(".css"),n=e?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${t}"]${n}`))return;const r=document.createElement("link");return r.rel=e?"stylesheet":$e,e||(r.as="script",r.crossOrigin=""),r.href=t,document.head.appendChild(r),e?new Promise(((t,e)=>{r.addEventListener("load",t),r.addEventListener("error",e)})):void 0}))).then((()=>t()))};function xe(t){let e,n,r=[{class:"icon"},{viewBox:"0 0 1024 1024"},{xmlns:"http://www.w3.org/2000/svg"},{width:"200"},{height:"200"},t[0]],o={};for(let s=0;s<r.length;s+=1)o=S(o,r[s]);return{c(){e=_("svg"),n=_("path"),this.h()},l(t){e=L(t,"svg",{class:!0,viewBox:!0,xmlns:!0,width:!0,height:!0},1);var r=M(e);n=L(r,"path",{d:!0,fill:!0},1),M(n).forEach(T),r.forEach(T),this.h()},h(){z(n,"d","m544 82.464 323.968 187.072a64 64 0 0 1 32 55.424v374.08a64 64 0 0 1-32 55.424L544 941.536a64 64 0 0 1-64 0L156.032 754.464a64 64 0 0 1-32-55.424V324.96a64 64 0 0 1 32-55.424L480 82.464a64 64 0 0 1 64 0zM810.56 336a32 32 0 0 0-40.384-13.408l-3.328 1.696L512 471.392 257.184 324.288a32 32 0 0 0-35.136 53.376l3.136 2.048L480 526.848V816a32 32 0 0 0 63.776 3.744L544 816V526.848l254.848-147.136A32 32 0 0 0 810.56 336z"),z(n,"fill","#B19C4A"),A(e,o)},m(t,r){C(t,e,r),X(e,n)},p(t,[n]){A(e,o=I(r,[{class:"icon"},{viewBox:"0 0 1024 1024"},{xmlns:"http://www.w3.org/2000/svg"},{width:"200"},{height:"200"},1&n&&t[0]]))},i:E,o:E,d(t){t&&T(e)}}}function ke(t,e,n){return t.$$set=t=>{n(0,e=S(S({},e),D(t)))},[e=D(e)]}class Ee extends w{constructor(t){super(),$(this,t,ke,xe,b,{})}}const Oe=[{path:"/",component:()=>ve((()=>import("./login.d7fe2bb0.js")),["assets/login.d7fe2bb0.js","assets/login.0a1b7451.css","assets/vendor.46162738.js","assets/vendor.11618b7d.css","assets/page-container.89a6c437.js","assets/page-container.3a1c8316.css","assets/form-item.a67decc1.js","assets/form-item.a0cf0e49.css"]),name:"login",auth:!1},{path:"/dashboard",component:()=>ve((()=>import("./dashboard.16839303.js")),["assets/dashboard.16839303.js","assets/vendor.46162738.js","assets/vendor.11618b7d.css","assets/page-container.89a6c437.js","assets/page-container.3a1c8316.css"]),name:"dashboard",meta:{menu:{title:"仪表盘",icon:Ee}}},{path:"/poster",component:()=>ve((()=>import("./poster-center.5daa1fa6.js")),["assets/poster-center.5daa1fa6.js","assets/vendor.46162738.js","assets/vendor.11618b7d.css","assets/page-container.89a6c437.js","assets/page-container.3a1c8316.css"]),name:"poster-center",meta:{menu:{title:"海报中心",icon:Ee}}},{path:"/editor",component:()=>ve((()=>import("./editor.0289b813.js")),["assets/editor.0289b813.js","assets/editor.69d7d26e.css","assets/vendor.46162738.js","assets/vendor.11618b7d.css","assets/page-container.89a6c437.js","assets/page-container.3a1c8316.css","assets/form-item.a67decc1.js","assets/form-item.a0cf0e49.css"]),name:"editor"},{path:"/h5",component:()=>ve((()=>import("./h5-center.add7fe61.js")),["assets/h5-center.add7fe61.js","assets/vendor.46162738.js","assets/vendor.11618b7d.css"]),name:"h5-center",meta:{menu:{title:"H5中心",icon:Ee}}}];class Pe extends W{constructor(){super(...arguments),this.before=t=>{t.options.header=t.options.header||{},t.options.header["X-UserID"]="001"},this.after=(t,e)=>{}}}class je{static init(){je.app||(je.app=B.init({env:At.env,region:At.region}),console.log("CLOUDBASE SDK 初始化成功"))}static get(){return je.app||je.init(),je.app}static getUser(){return je.get().auth({persistence:"local"}).currentUser}}async function Se(){je.init()}async function _e(){Y.setConfig({server:"http://api.test.com/",timeout:3e3}),Y.interceptors.status.use((t=>!0)),Y.interceptors.success.use((t=>t.data)),Y.interceptors.error.use((t=>t)),Y.requestCatchHandle=t=>{t&&((t.data||{}).message||t.status,403===t.status&&console.error(t.data))},Y.installExtendService(new Pe),await Promise.all([Promise.resolve(),Se()])}const Le=new R({mode:V,omitTrailingSlash:!0,base:"/app.h5-editor/",routes:Oe});Le.beforeEach((async(t,e,n)=>{const{ready:r}=he.get();r||(await _e(),he.dispatch("ready")),!t.meta.auth||je.getUser()?n():n("/login")}));function Me(t,e,n){const r=t.slice();return r[4]=e[n],r}function Te(t){let e,n,r,o,s,a,i,c,d,l=t[4].title+"";var u=t[4].icon;function f(){return t[3](t[4])}return u&&(n=new u({props:{width:28,height:28}})),{c(){e=N("div"),n&&x(n.$$.fragment),r=U(),o=N("div"),s=H(l),a=U(),z(o,"class","title text-xs pt-1"),z(e,"class","menu-item m-3 py-2 cursor-pointer active:bg-gray-100 hover:bg-gray-200 flex flex-col justify-center items-center rounded svelte-6ff0y4"),F(e,"active",t[4].name===t[0])},m(t,l){K(t,e,l),n&&k(n,e,null),q(e,r),q(e,o),q(o,s),q(e,a),i=!0,c||(d=Z(e,"click",f),c=!0)},p(o,s){if(u!==(u=(t=o)[4].icon)){if(n){G();const t=n;P(t.$$.fragment,1,0,(()=>{j(t,1)})),J()}u?(n=new u({props:{width:28,height:28}}),x(n.$$.fragment),O(n.$$.fragment,1),k(n,e,r)):n=null}3&s&&F(e,"active",t[4].name===t[0])},i(t){i||(n&&O(n.$$.fragment,t),i=!0)},o(t){n&&P(n.$$.fragment,t),i=!1},d(t){t&&T(e),n&&j(n),c=!1,d()}}}function ze(t){let e,n,r,o,s,a,i,c=t[1],d=[];for(let u=0;u<c.length;u+=1)d[u]=Te(Me(t,c,u));const l=t=>P(d[t],1,1,(()=>{d[t]=null}));return{c(){e=N("section"),n=N("div");for(let t=0;t<d.length;t+=1)d[t].c();r=U(),o=N("div"),o.textContent="2",s=U(),a=N("div"),a.textContent="3",z(n,"class","menu flex-auto svelte-6ff0y4"),z(o,"class","toolbar svelte-6ff0y4"),z(a,"class","user"),z(e,"class","shadow-lg absolute inset-0 flex flex-col")},m(t,c){K(t,e,c),q(e,n);for(let e=0;e<d.length;e+=1)d[e].m(n,null);q(e,r),q(e,o),q(e,s),q(e,a),i=!0},p(t,[e]){if(7&e){let r;for(c=t[1],r=0;r<c.length;r+=1){const o=Me(t,c,r);d[r]?(d[r].p(o,e),O(d[r],1)):(d[r]=Te(o),d[r].c(),O(d[r],1),d[r].m(n,null))}for(G(),r=c.length;r<d.length;r+=1)l(r);J()}},i(t){if(!i){for(let t=0;t<c.length;t+=1)O(d[t]);i=!0}},o(t){d=d.filter(Boolean);for(let e=0;e<d.length;e+=1)P(d[e]);i=!1},d(t){t&&T(e),Q(d,t)}}}function Ae(t,e,n){let r;const o=Oe.filter((t=>{var e;return null===(e=null==t?void 0:t.meta)||void 0===e?void 0:e.menu})).map((t=>({name:t.name,path:t.path,title:t.meta.menu.title,icon:t.meta.menu.icon})));function s(t){Le.push(t)}Le.currentMatched.subscribe((t=>{if(t&&t.length){const[e]=t;n(0,r=e.name)}}));return[r,o,s,t=>s(t.path)]}class Ce extends w{constructor(t){super(),$(this,t,Ae,ze,b,{})}}function Xe(t){let e,n,r,o,s,a,i;return r=new Ce({}),a=new v({}),{c(){e=N("main"),n=N("div"),x(r.$$.fragment),o=U(),s=N("div"),x(a.$$.fragment),z(n,"class","sidebar relative"),z(s,"class","content relative"),z(e,"class","absolute inset-0 grid grid-cols-2 svelte-15go9i5")},m(t,c){K(t,e,c),q(e,n),k(r,n,null),q(e,o),q(e,s),k(a,s,null),i=!0},p:E,i(t){i||(O(r.$$.fragment,t),O(a.$$.fragment,t),i=!0)},o(t){P(r.$$.fragment,t),P(a.$$.fragment,t),i=!1},d(t){t&&T(e),j(r),j(a)}}}const Ie={default:class extends w{constructor(t){super(),$(this,t,null,we,b,{})}},workspace:class extends w{constructor(t){super(),$(this,t,null,Xe,b,{})}}};function De(t,e,n){const r=t.slice();return r[1]=e[n],r}function We(t,e){let n,r,o;return r=new rt({props:{kind:e[1].type,title:e[1].title+":",subtitle:e[1].message,timeout:e[1].timeout}}),r.$on("close",(function(){ot(Ne(e[1]))&&Ne(e[1]).apply(this,arguments)})),{key:t,first:null,c(){n=tt(),x(r.$$.fragment),this.first=n},m(t,e){K(t,n,e),k(r,t,e),o=!0},p(t,n){e=t;const o={};1&n&&(o.kind=e[1].type),1&n&&(o.title=e[1].title+":"),1&n&&(o.subtitle=e[1].message),1&n&&(o.timeout=e[1].timeout),r.$set(o)},i(t){o||(O(r.$$.fragment,t),o=!0)},o(t){P(r.$$.fragment,t),o=!1},d(t){t&&T(n),j(r,t)}}}function Ye(t){let e,n,r=[],o=new Map,s=t[0];const a=t=>t[1].id;for(let i=0;i<s.length;i+=1){let e=De(t,s,i),n=a(e);o.set(n,r[i]=We(n,e))}return{c(){e=N("div");for(let t=0;t<r.length;t+=1)r[t].c();z(e,"class","toast-container flex flex-col items-center")},m(t,o){K(t,e,o);for(let n=0;n<r.length;n+=1)r[n].m(e,null);n=!0},p(t,[n]){1&n&&(s=t[0],G(),r=et(r,n,a,1,t,s,o,e,st,We,null,De),J())},i(t){if(!n){for(let t=0;t<s.length;t+=1)O(r[t]);n=!0}},o(t){for(let e=0;e<r.length;e+=1)P(r[e]);n=!1},d(t){t&&T(e);for(let e=0;e<r.length;e+=1)r[e].d()}}}const Be=at([]),Re={success:"成功",warning:"警告",error:"错误"};function Ve(t){Be.update((e=>[...e,{id:Math.random().toString(32).slice(2),title:Re[t.type],type:t.type,message:t.message,timeout:t.timeout||2e3}]))}function Ne(t){return()=>{Be.update((e=>e.filter((e=>e.id!==t.id))))}}function Ue(t,e,n){let r;return nt(t,Be,(t=>n(0,r=t))),[r]}class He extends w{constructor(t){super(),$(this,t,Ue,Ye,b,{})}}function Fe(t){let e,n,r;var o=t[0];return o&&(e=new o({})),{c(){e&&x(e.$$.fragment),n=tt()},m(t,o){e&&k(e,t,o),K(t,n,o),r=!0},p(t,r){if(o!==(o=t[0])){if(e){G();const t=e;P(t.$$.fragment,1,0,(()=>{j(t,1)})),J()}o?(e=new o({}),x(e.$$.fragment),O(e.$$.fragment,1),k(e,n.parentNode,n)):e=null}},i(t){r||(e&&O(e.$$.fragment,t),r=!0)},o(t){e&&P(e.$$.fragment,t),r=!1},d(t){t&&T(n),e&&j(e,t)}}}function Ke(t){let e,n;return e=new dt({props:{minWidth:100,$$slots:{default:[Fe]},$$scope:{ctx:t}}}),{c(){x(e.$$.fragment)},m(t,r){k(e,t,r),n=!0},p(t,n){const r={};17&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(O(e.$$.fragment,t),n=!0)},o(t){P(e.$$.fragment,t),n=!1},d(t){j(e,t)}}}function qe(t){let e,n,r,o,s,a;return e=new it({props:{router:Le,$$slots:{default:[Ke]},$$scope:{ctx:t}}}),r=new He({}),s=new ct({props:{theme:"white",tokens:t[1]}}),{c(){x(e.$$.fragment),n=U(),x(r.$$.fragment),o=U(),x(s.$$.fragment)},m(t,i){k(e,t,i),K(t,n,i),k(r,t,i),K(t,o,i),k(s,t,i),a=!0},p(t,[n]){const r={};17&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){a||(O(e.$$.fragment,t),O(r.$$.fragment,t),O(s.$$.fragment,t),a=!0)},o(t){P(e.$$.fragment,t),P(r.$$.fragment,t),P(s.$$.fragment,t),a=!1},d(t){j(e,t),t&&T(n),j(r,t),t&&T(o),j(s,t)}}}function Ze(t,e,n){let r,o;y(he);const s=ye,{layout:a}=ge((t=>t.app));return nt(t,a,(t=>n(3,o=t))),t.$$.update=()=>{8&t.$$.dirty&&n(0,r=Ie[o])},[r,s,a,o]}new class extends w{constructor(t){super(),$(this,t,Ze,qe,b,{})}}({target:document.getElementById("app")});export{je as C,ft as W,zt as a,Jt as b,Tt as c,Wt as d,Dt as e,Ft as f,Vt as g,Qt as h,Ve as o,Le as r,he as s,wt as t,ge as u};
