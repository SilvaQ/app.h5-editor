import{S as t,i as e,s as n,ag as l,Q as r,J as i,k as s,H as o,L as a,ac as c,q as u,j as d,r as f,v as $,M as p,ad as m,ae as g,af as h,y as v,t as b,g as y,am as x,z as w,an as k,ao as M,F as A,f as S,m as q,n as z,h as C,ap as O,G as j,I as H,N as L,O as F,P as N,a4 as R,a7 as B,aq as E,ar as V,V as Y,as as T,a9 as I,aa as P,at as _,au as W,a8 as J,ai as X,ak as Z,al as D,a1 as U,av as G,aw as K,ax as Q,ay as tt,az as et,a6 as nt}from"./vendor.46162738.js";import{P as lt}from"./page-container.bab9bcd1.js";import{C as rt,u as it,W as st,c as ot,g as at,s as ct,a as ut,b as dt,d as ft,e as $t,f as pt,h as mt,t as gt}from"./index.74ac4ad2.js";import{F as ht,a as vt}from"./form-item.a67decc1.js";function bt(t){let e,n;return{c(){e=s("title"),n=o(t[2])},m(t,l){i(t,e,l),a(e,n)},p(t,e){4&e&&c(n,t[2])},d(t){t&&u(e)}}}function yt(t){let e,n,o,c,w;const k=t[11].default,M=l(k,t,t[10],null),A=M||function(t){let e,n=t[2]&&bt(t);return{c(){n&&n.c(),e=r()},m(t,l){n&&n.m(t,l),i(t,e,l)},p(t,l){t[2]?n?n.p(t,l):(n=bt(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&u(e)}}}(t);let S=[{"data-carbon-icon":"SettingsAdjust24"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{width:"24"},{height:"24"},{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},{style:t[3]},{id:t[1]},t[4]],q={};for(let l=0;l<S.length;l+=1)q=d(q,S[l]);return{c(){e=s("svg"),n=s("path"),A&&A.c(),f(n,"d","M30 8h-4.1c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2v2h14.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30V8zM21 12c-1.7 0-3-1.3-3-3s1.3-3 3-3 3 1.3 3 3S22.7 12 21 12zM2 24h4.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30v-2H15.9c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2V24zM11 20c1.7 0 3 1.3 3 3s-1.3 3-3 3-3-1.3-3-3S9.3 20 11 20z"),$(e,q)},m(l,r){i(l,e,r),a(e,n),A&&A.m(e,null),o=!0,c||(w=[p(e,"click",t[12]),p(e,"mouseover",t[13]),p(e,"mouseenter",t[14]),p(e,"mouseleave",t[15]),p(e,"keyup",t[16]),p(e,"keydown",t[17])],c=!0)},p(t,[n]){M?M.p&&(!o||1024&n)&&m(M,k,t,t[10],o?h(k,t[10],n,null):g(t[10]),null):A&&A.p&&(!o||4&n)&&A.p(t,o?n:-1),$(e,q=v(S,[{"data-carbon-icon":"SettingsAdjust24"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{width:"24"},{height:"24"},(!o||1&n)&&{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},(!o||8&n)&&{style:t[3]},(!o||2&n)&&{id:t[1]},16&n&&t[4]]))},i(t){o||(b(A,t),o=!0)},o(t){y(A,t),o=!1},d(t){t&&u(e),A&&A.d(t),c=!1,x(w)}}}function xt(t,e,n){let l,r,i,s,{$$slots:o={},$$scope:a}=e,{class:c}=e,{id:u}=e,{tabindex:f}=e,{focusable:$=!1}=e,{title:p}=e,{style:m}=e;return t.$$set=t=>{n(18,e=d(d({},e),w(t))),"class"in t&&n(0,c=t.class),"id"in t&&n(1,u=t.id),"tabindex"in t&&n(5,f=t.tabindex),"focusable"in t&&n(6,$=t.focusable),"title"in t&&n(2,p=t.title),"style"in t&&n(3,m=t.style),"$$scope"in t&&n(10,a=t.$$scope)},t.$$.update=()=>{n(9,l=e["aria-label"]),n(8,r=e["aria-labelledby"]),772&t.$$.dirty&&n(7,i=l||r||p),992&t.$$.dirty&&n(4,s={"aria-label":l,"aria-labelledby":r,"aria-hidden":!i||void 0,role:i?"img":void 0,focusable:"0"===f||$,tabindex:f})},e=w(e),[c,u,p,m,s,f,$,i,r,l,a,o,function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)}]}var wt=class extends t{constructor(t){super(),e(this,t,xt,yt,n,{class:0,id:1,tabindex:5,focusable:6,title:2,style:3})}};function kt(t){let e,n;return{c(){e=s("title"),n=o(t[2])},m(t,l){i(t,e,l),a(e,n)},p(t,e){4&e&&c(n,t[2])},d(t){t&&u(e)}}}function Mt(t){let e,n,o,c,w,k;const M=t[11].default,A=l(M,t,t[10],null),S=A||function(t){let e,n=t[2]&&kt(t);return{c(){n&&n.c(),e=r()},m(t,l){n&&n.m(t,l),i(t,e,l)},p(t,l){t[2]?n?n.p(t,l):(n=kt(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&u(e)}}}(t);let q=[{"data-carbon-icon":"MediaLibrary24"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{width:"24"},{height:"24"},{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},{style:t[3]},{id:t[1]},t[4]],z={};for(let l=0;l<q.length;l+=1)z=d(z,q[l]);return{c(){e=s("svg"),n=s("path"),o=s("path"),S&&S.c(),f(n,"d","M13 15L13 23 13 23 20 19 13 15z"),f(o,"d","M26 28H6a2.0021 2.0021 0 01-2-2V12a2.0021 2.0021 0 012-2H26a2.0021 2.0021 0 012 2V26A2.0021 2.0021 0 0126 28zM6 12V26H26V12zM6 6H26V8H6zM8 2H24V4H8z"),$(e,z)},m(l,r){i(l,e,r),a(e,n),a(e,o),S&&S.m(e,null),c=!0,w||(k=[p(e,"click",t[12]),p(e,"mouseover",t[13]),p(e,"mouseenter",t[14]),p(e,"mouseleave",t[15]),p(e,"keyup",t[16]),p(e,"keydown",t[17])],w=!0)},p(t,[n]){A?A.p&&(!c||1024&n)&&m(A,M,t,t[10],c?h(M,t[10],n,null):g(t[10]),null):S&&S.p&&(!c||4&n)&&S.p(t,c?n:-1),$(e,z=v(q,[{"data-carbon-icon":"MediaLibrary24"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{width:"24"},{height:"24"},(!c||1&n)&&{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},(!c||8&n)&&{style:t[3]},(!c||2&n)&&{id:t[1]},16&n&&t[4]]))},i(t){c||(b(S,t),c=!0)},o(t){y(S,t),c=!1},d(t){t&&u(e),S&&S.d(t),w=!1,x(k)}}}function At(t,e,n){let l,r,i,s,{$$slots:o={},$$scope:a}=e,{class:c}=e,{id:u}=e,{tabindex:f}=e,{focusable:$=!1}=e,{title:p}=e,{style:m}=e;return t.$$set=t=>{n(18,e=d(d({},e),w(t))),"class"in t&&n(0,c=t.class),"id"in t&&n(1,u=t.id),"tabindex"in t&&n(5,f=t.tabindex),"focusable"in t&&n(6,$=t.focusable),"title"in t&&n(2,p=t.title),"style"in t&&n(3,m=t.style),"$$scope"in t&&n(10,a=t.$$scope)},t.$$.update=()=>{n(9,l=e["aria-label"]),n(8,r=e["aria-labelledby"]),772&t.$$.dirty&&n(7,i=l||r||p),992&t.$$.dirty&&n(4,s={"aria-label":l,"aria-labelledby":r,"aria-hidden":!i||void 0,role:i?"img":void 0,focusable:"0"===f||$,tabindex:f})},e=w(e),[c,u,p,m,s,f,$,i,r,l,a,o,function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)}]}var St=class extends t{constructor(t){super(),e(this,t,At,Mt,n,{class:0,id:1,tabindex:5,focusable:6,title:2,style:3})}};function qt(t){let e,n;return{c(){e=s("title"),n=o(t[2])},m(t,l){i(t,e,l),a(e,n)},p(t,e){4&e&&c(n,t[2])},d(t){t&&u(e)}}}function zt(t){let e,n,o,c,w,k;const M=t[11].default,A=l(M,t,t[10],null),S=A||function(t){let e,n=t[2]&&qt(t);return{c(){n&&n.c(),e=r()},m(t,l){n&&n.m(t,l),i(t,e,l)},p(t,l){t[2]?n?n.p(t,l):(n=qt(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&u(e)}}}(t);let q=[{"data-carbon-icon":"TextScale20"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{width:"20"},{height:"20"},{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},{style:t[3]},{id:t[1]},t[4]],z={};for(let l=0;l<q.length;l+=1)z=d(z,q[l]);return{c(){e=s("svg"),n=s("path"),o=s("path"),S&&S.c(),f(n,"d","M30 5L30 8 22 8 22 26 19 26 19 8 11 8 11 5 30 5z"),f(o,"d","M7 26L7 14 2 14 2 12 14 12 14 14 9 14 9 26 7 26z"),$(e,z)},m(l,r){i(l,e,r),a(e,n),a(e,o),S&&S.m(e,null),c=!0,w||(k=[p(e,"click",t[12]),p(e,"mouseover",t[13]),p(e,"mouseenter",t[14]),p(e,"mouseleave",t[15]),p(e,"keyup",t[16]),p(e,"keydown",t[17])],w=!0)},p(t,[n]){A?A.p&&(!c||1024&n)&&m(A,M,t,t[10],c?h(M,t[10],n,null):g(t[10]),null):S&&S.p&&(!c||4&n)&&S.p(t,c?n:-1),$(e,z=v(q,[{"data-carbon-icon":"TextScale20"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{width:"20"},{height:"20"},(!c||1&n)&&{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},(!c||8&n)&&{style:t[3]},(!c||2&n)&&{id:t[1]},16&n&&t[4]]))},i(t){c||(b(S,t),c=!0)},o(t){y(S,t),c=!1},d(t){t&&u(e),S&&S.d(t),w=!1,x(k)}}}function Ct(t,e,n){let l,r,i,s,{$$slots:o={},$$scope:a}=e,{class:c}=e,{id:u}=e,{tabindex:f}=e,{focusable:$=!1}=e,{title:p}=e,{style:m}=e;return t.$$set=t=>{n(18,e=d(d({},e),w(t))),"class"in t&&n(0,c=t.class),"id"in t&&n(1,u=t.id),"tabindex"in t&&n(5,f=t.tabindex),"focusable"in t&&n(6,$=t.focusable),"title"in t&&n(2,p=t.title),"style"in t&&n(3,m=t.style),"$$scope"in t&&n(10,a=t.$$scope)},t.$$.update=()=>{n(9,l=e["aria-label"]),n(8,r=e["aria-labelledby"]),772&t.$$.dirty&&n(7,i=l||r||p),992&t.$$.dirty&&n(4,s={"aria-label":l,"aria-labelledby":r,"aria-hidden":!i||void 0,role:i?"img":void 0,focusable:"0"===f||$,tabindex:f})},e=w(e),[c,u,p,m,s,f,$,i,r,l,a,o,function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)}]}var Ot=class extends t{constructor(t){super(),e(this,t,Ct,zt,n,{class:0,id:1,tabindex:5,focusable:6,title:2,style:3})}};function jt(t){let e,n;return{c(){e=s("title"),n=o(t[2])},m(t,l){i(t,e,l),a(e,n)},p(t,e){4&e&&c(n,t[2])},d(t){t&&u(e)}}}function Ht(t){let e,n,o,c,w,k;const M=t[11].default,A=l(M,t,t[10],null),S=A||function(t){let e,n=t[2]&&jt(t);return{c(){n&&n.c(),e=r()},m(t,l){n&&n.m(t,l),i(t,e,l)},p(t,l){t[2]?n?n.p(t,l):(n=jt(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&u(e)}}}(t);let q=[{"data-carbon-icon":"Image20"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{width:"20"},{height:"20"},{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},{style:t[3]},{id:t[1]},t[4]],z={};for(let l=0;l<q.length;l+=1)z=d(z,q[l]);return{c(){e=s("svg"),n=s("path"),o=s("path"),S&&S.c(),f(n,"d","M19,14a3,3,0,1,0-3-3A3,3,0,0,0,19,14Zm0-4a1,1,0,1,1-1,1A1,1,0,0,1,19,10Z"),f(o,"d","M26,4H6A2,2,0,0,0,4,6V26a2,2,0,0,0,2,2H26a2,2,0,0,0,2-2V6A2,2,0,0,0,26,4Zm0,22H6V20l5-5,5.59,5.59a2,2,0,0,0,2.82,0L21,19l5,5Zm0-4.83-3.59-3.59a2,2,0,0,0-2.82,0L18,19.17l-5.59-5.59a2,2,0,0,0-2.82,0L6,17.17V6H26Z"),$(e,z)},m(l,r){i(l,e,r),a(e,n),a(e,o),S&&S.m(e,null),c=!0,w||(k=[p(e,"click",t[12]),p(e,"mouseover",t[13]),p(e,"mouseenter",t[14]),p(e,"mouseleave",t[15]),p(e,"keyup",t[16]),p(e,"keydown",t[17])],w=!0)},p(t,[n]){A?A.p&&(!c||1024&n)&&m(A,M,t,t[10],c?h(M,t[10],n,null):g(t[10]),null):S&&S.p&&(!c||4&n)&&S.p(t,c?n:-1),$(e,z=v(q,[{"data-carbon-icon":"Image20"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{width:"20"},{height:"20"},(!c||1&n)&&{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},(!c||8&n)&&{style:t[3]},(!c||2&n)&&{id:t[1]},16&n&&t[4]]))},i(t){c||(b(S,t),c=!0)},o(t){y(S,t),c=!1},d(t){t&&u(e),S&&S.d(t),w=!1,x(k)}}}function Lt(t,e,n){let l,r,i,s,{$$slots:o={},$$scope:a}=e,{class:c}=e,{id:u}=e,{tabindex:f}=e,{focusable:$=!1}=e,{title:p}=e,{style:m}=e;return t.$$set=t=>{n(18,e=d(d({},e),w(t))),"class"in t&&n(0,c=t.class),"id"in t&&n(1,u=t.id),"tabindex"in t&&n(5,f=t.tabindex),"focusable"in t&&n(6,$=t.focusable),"title"in t&&n(2,p=t.title),"style"in t&&n(3,m=t.style),"$$scope"in t&&n(10,a=t.$$scope)},t.$$.update=()=>{n(9,l=e["aria-label"]),n(8,r=e["aria-labelledby"]),772&t.$$.dirty&&n(7,i=l||r||p),992&t.$$.dirty&&n(4,s={"aria-label":l,"aria-labelledby":r,"aria-hidden":!i||void 0,role:i?"img":void 0,focusable:"0"===f||$,tabindex:f})},e=w(e),[c,u,p,m,s,f,$,i,r,l,a,o,function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)}]}var Ft=class extends t{constructor(t){super(),e(this,t,Lt,Ht,n,{class:0,id:1,tabindex:5,focusable:6,title:2,style:3})}};function Nt(t){return null!=t&&"object"==typeof t&&!0===t["@@functional/placeholder"]}function Rt(t){return function e(n){return 0===arguments.length||Nt(n)?e:t.apply(this,arguments)}}function Bt(t){return function e(n,l){switch(arguments.length){case 0:return e;case 1:return Nt(n)?e:Rt((function(e){return t(n,e)}));default:return Nt(n)&&Nt(l)?e:Nt(n)?Rt((function(e){return t(e,l)})):Nt(l)?Rt((function(e){return t(n,e)})):t(n,l)}}}function Et(t,e){switch(t){case 0:return function(){return e.apply(this,arguments)};case 1:return function(t){return e.apply(this,arguments)};case 2:return function(t,n){return e.apply(this,arguments)};case 3:return function(t,n,l){return e.apply(this,arguments)};case 4:return function(t,n,l,r){return e.apply(this,arguments)};case 5:return function(t,n,l,r,i){return e.apply(this,arguments)};case 6:return function(t,n,l,r,i,s){return e.apply(this,arguments)};case 7:return function(t,n,l,r,i,s,o){return e.apply(this,arguments)};case 8:return function(t,n,l,r,i,s,o,a){return e.apply(this,arguments)};case 9:return function(t,n,l,r,i,s,o,a,c){return e.apply(this,arguments)};case 10:return function(t,n,l,r,i,s,o,a,c,u){return e.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}function Vt(t){return function e(n,l,r){switch(arguments.length){case 0:return e;case 1:return Nt(n)?e:Bt((function(e,l){return t(n,e,l)}));case 2:return Nt(n)&&Nt(l)?e:Nt(n)?Bt((function(e,n){return t(e,l,n)})):Nt(l)?Bt((function(e,l){return t(n,e,l)})):Rt((function(e){return t(n,l,e)}));default:return Nt(n)&&Nt(l)&&Nt(r)?e:Nt(n)&&Nt(l)?Bt((function(e,n){return t(e,n,r)})):Nt(n)&&Nt(r)?Bt((function(e,n){return t(e,l,n)})):Nt(l)&&Nt(r)?Bt((function(e,l){return t(n,e,l)})):Nt(n)?Rt((function(e){return t(e,l,r)})):Nt(l)?Rt((function(e){return t(n,e,r)})):Nt(r)?Rt((function(e){return t(n,l,e)})):t(n,l,r)}}}var Yt=Array.isArray||function(t){return null!=t&&t.length>=0&&"[object Array]"===Object.prototype.toString.call(t)};function Tt(t){return null!=t&&"function"==typeof t["@@transducer/step"]}function It(t,e,n){return function(){if(0===arguments.length)return n();var l=Array.prototype.slice.call(arguments,0),r=l.pop();if(!Yt(r)){for(var i=0;i<t.length;){if("function"==typeof r[t[i]])return r[t[i]].apply(r,l);i+=1}if(Tt(r)){var s=e.apply(null,l);return s(r)}}return n.apply(this,arguments)}}var Pt=function(){return this.xf["@@transducer/init"]()},_t=function(t){return this.xf["@@transducer/result"](t)};var Wt=Rt((function(t){return!!Yt(t)||!!t&&("object"==typeof t&&(!function(t){return"[object String]"===Object.prototype.toString.call(t)}(t)&&(1===t.nodeType?!!t.length:0===t.length||t.length>0&&(t.hasOwnProperty(0)&&t.hasOwnProperty(t.length-1)))))})),Jt=function(){function t(t){this.f=t}return t.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},t.prototype["@@transducer/result"]=function(t){return t},t.prototype["@@transducer/step"]=function(t,e){return this.f(t,e)},t}();var Xt=Bt((function(t,e){return Et(t.length,(function(){return t.apply(e,arguments)}))}));function Zt(t,e,n){for(var l=n.next();!l.done;){if((e=t["@@transducer/step"](e,l.value))&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}l=n.next()}return t["@@transducer/result"](e)}function Dt(t,e,n,l){return t["@@transducer/result"](n[l](Xt(t["@@transducer/step"],t),e))}var Ut="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";function Gt(t,e,n){if("function"==typeof t&&(t=function(t){return new Jt(t)}(t)),Wt(n))return function(t,e,n){for(var l=0,r=n.length;l<r;){if((e=t["@@transducer/step"](e,n[l]))&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}l+=1}return t["@@transducer/result"](e)}(t,e,n);if("function"==typeof n["fantasy-land/reduce"])return Dt(t,e,n,"fantasy-land/reduce");if(null!=n[Ut])return Zt(t,e,n[Ut]());if("function"==typeof n.next)return Zt(t,e,n);if("function"==typeof n.reduce)return Dt(t,e,n,"reduce");throw new TypeError("reduce: list must be array or iterable")}var Kt=Vt(Gt);function Qt(t,e){return function(){return e.call(this,t.apply(this,arguments))}}function te(t,e){return function(){var n=arguments.length;if(0===n)return e();var l=arguments[n-1];return Yt(l)||"function"!=typeof l[t]?e.apply(this,arguments):l[t].apply(l,Array.prototype.slice.call(arguments,0,n-1))}}var ee=Rt(te("tail",Vt(te("slice",(function(t,e,n){return Array.prototype.slice.call(n,t,e)})))(1,1/0)));function ne(t){return t}var le=Rt(ne),re=Bt((function(t,e){for(var n={},l=0;l<t.length;)t[l]in e&&(n[t[l]]=e[t[l]]),l+=1;return n})),ie=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype["@@transducer/init"]=Pt,t.prototype["@@transducer/result"]=_t,t.prototype["@@transducer/step"]=function(t,e){return this.f(e),this.xf["@@transducer/step"](t,e)},t}(),se=Bt(It([],Bt((function(t,e){return new ie(t,e)})),(function(t,e){return t(e),e})));function oe(t){let e,n,l;return n=new M({props:{labelText:"拖放文件或者通过单击进行上传"}}),n.$on("change",t[0]),{c(){e=A("div"),S(n.$$.fragment),f(e,"class","upload-card")},m(t,r){i(t,e,r),q(n,e,null),l=!0},p:z,i(t){l||(b(n.$$.fragment,t),l=!0)},o(t){y(n.$$.fragment,t),l=!1},d(t){t&&u(e),C(n)}}}function ae(t){const e=O();return[function({target:{files:t}}){const[n]=t;rt.get().uploadFile({cloudPath:`images/${n.name}`,filePath:n}).then((({download_url:t})=>{e.close({url:t})}))}]}class ce extends t{constructor(t){super(),e(this,t,ae,oe,n,{})}}function ue(t,e,n){const l=t.slice();return l[12]=e[n],l}function de(t,e,n){const l=t.slice();return l[15]=e[n],l}function fe(t){let e,n,l,r,s,c,d,$,m,g=t[15].label+"";var h=t[15].icon;function v(){return t[4](t[15])}return h&&(n=new h({})),{c(){e=A("div"),n&&S(n.$$.fragment),l=j(),r=A("div"),s=o(g),c=j(),f(r,"class","pt-2 text-xs"),f(e,"class","menu-item flex flex-col justify-center items-center py-3 hover:text-blue-500 cursor-pointer svelte-5xo7rr"),H(e,"active",t[0]==t[15].name)},m(t,o){i(t,e,o),n&&q(n,e,null),a(e,l),a(e,r),a(r,s),a(e,c),d=!0,$||(m=p(e,"click",v),$=!0)},p(r,i){if(h!==(h=(t=r)[15].icon)){if(n){L();const t=n;y(t.$$.fragment,1,0,(()=>{C(t,1)})),F()}h?(n=new h({}),S(n.$$.fragment),b(n.$$.fragment,1),q(n,e,l)):n=null}5&i&&H(e,"active",t[0]==t[15].name)},i(t){d||(n&&b(n.$$.fragment,t),d=!0)},o(t){n&&y(n.$$.fragment,t),d=!1},d(t){t&&u(e),n&&C(n),$=!1,m()}}}function $e(t){let e,n,l,r,s,d,$,m,g,h=t[12].label+"";var v=t[12].icon;function x(){return t[5](t[12])}return v&&(n=new v({})),{c(){e=A("div"),n&&S(n.$$.fragment),l=j(),r=A("div"),s=o(h),d=j(),f(r,"class","pt-2 text-xs"),f(e,"class","widget bg-gray-100 hover:bg-gray-50 hover:text-blue-500 cursor-pointer svelte-5xo7rr")},m(t,o){i(t,e,o),n&&q(n,e,null),a(e,l),a(e,r),a(r,s),a(e,d),$=!0,m||(g=p(e,"click",x),m=!0)},p(r,i){if(v!==(v=(t=r)[12].icon)){if(n){L();const t=n;y(t.$$.fragment,1,0,(()=>{C(t,1)})),F()}v?(n=new v({}),S(n.$$.fragment),b(n.$$.fragment,1),q(n,e,l)):n=null}(!$||2&i)&&h!==(h=t[12].label+"")&&c(s,h)},i(t){$||(n&&b(n.$$.fragment,t),$=!0)},o(t){n&&y(n.$$.fragment,t),$=!1},d(t){t&&u(e),n&&C(n),m=!1,g()}}}function pe(t){let e,n,l,r,s,o=t[2],c=[];for(let i=0;i<o.length;i+=1)c[i]=fe(de(t,o,i));const d=t=>y(c[t],1,1,(()=>{c[t]=null}));let $=t[1],p=[];for(let i=0;i<$.length;i+=1)p[i]=$e(ue(t,$,i));const m=t=>y(p[t],1,1,(()=>{p[t]=null}));return{c(){e=A("div"),n=A("div");for(let t=0;t<c.length;t+=1)c[t].c();l=j(),r=A("div");for(let t=0;t<p.length;t+=1)p[t].c();f(n,"class","menu svelte-5xo7rr"),f(r,"class","widget-panel flex flex-auto flex-wrap svelte-5xo7rr"),f(e,"class","absolute inset-0 flex flex-column")},m(t,o){i(t,e,o),a(e,n);for(let e=0;e<c.length;e+=1)c[e].m(n,null);a(e,l),a(e,r);for(let e=0;e<p.length;e+=1)p[e].m(r,null);s=!0},p(t,[e]){if(5&e){let l;for(o=t[2],l=0;l<o.length;l+=1){const r=de(t,o,l);c[l]?(c[l].p(r,e),b(c[l],1)):(c[l]=fe(r),c[l].c(),b(c[l],1),c[l].m(n,null))}for(L(),l=o.length;l<c.length;l+=1)d(l);F()}if(10&e){let n;for($=t[1],n=0;n<$.length;n+=1){const l=ue(t,$,n);p[n]?(p[n].p(l,e),b(p[n],1)):(p[n]=$e(l),p[n].c(),b(p[n],1),p[n].m(r,null))}for(L(),n=$.length;n<p.length;n+=1)m(n);F()}},i(t){if(!s){for(let t=0;t<o.length;t+=1)b(c[t]);for(let t=0;t<$.length;t+=1)b(p[t]);s=!0}},o(t){c=c.filter(Boolean);for(let e=0;e<c.length;e+=1)y(c[e]);p=p.filter(Boolean);for(let e=0;e<p.length;e+=1)y(p[e]);s=!1},d(t){t&&u(e),N(c,t),N(p,t)}}}function me(t,e,n){let l;var r=this&&this.__awaiter||function(t,e,n,l){return new(n||(n=Promise))((function(r,i){function s(t){try{a(l.next(t))}catch(e){i(e)}}function o(t){try{a(l.throw(t))}catch(e){i(e)}}function a(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,o)}a((l=l.apply(t,e||[])).next())}))};const i=O(),{dispatch:s}=it((t=>t.editor));let o="base";const a=[{label:"文字",event:st.text,icon:Ot},{label:"图片",event:st.image,icon:Ft,before:function(){return r(this,void 0,void 0,(function*(){return i.open({component:ce,width:500,props:{labelText:"拖放文件或者通过点击进行上传"},title:"上传"}).then((({url:t})=>{const e=ot(st.image,t),n=new Image;return new Promise((l=>{n.onload=()=>{e.property.width=n.width,e.property.height=n.height,l(e)},n.src=t}))}))}))}}],c=[{label:"基础",name:"base",icon:wt,widgets:a},{label:"引用",name:"quote",icon:St,widgets:[]}];function u(t,e){return r(this,void 0,void 0,(function*(){const n=e||le,l=yield n(t);l&&s("createWidget",l)}))}return t.$$.update=()=>{1&t.$$.dirty&&n(1,l=c.find((t=>t.name===o)).widgets)},[o,l,c,u,t=>n(0,o=t.name),t=>u(t.event,t.before)]}class ge extends t{constructor(t){super(),e(this,t,me,pe,n,{})}}function he(t){window.addEventListener("keydown",(e=>{e.ctrlKey&&("c"===e.key&&function(t){const e=at(t);if(!e)return;const n=e.getNodes().filter((t=>t.visible()));ct.dispatch("updateCopied",[...n])}(t),"v"===e.key&&function(){const{widgets:t,copied:e}=ct.get();if(0===e.length)return;const n=t.filter((t=>e.map((t=>t.id())).includes(t.id)));n.length&&n.map((t=>ut(t))).forEach((t=>ct.dispatch("createWidget",t)))}())}))}function ve(t){window.addEventListener("keydown",(e=>{if("Backspace"!==e.key)return;const n=dt(t);ct.dispatch("deleteWidget",n.map((t=>t.id())))}))}function be(t){let e;return{c(){e=A("div"),f(e,"id","convas-container"),f(e,"class","content-container absolute inset-0 svelte-1lg75l6")},m(n,l){i(n,e,l),t[1](e)},p:z,i:z,o:z,d(n){n&&u(e),t[1](null)}}}function ye(t,e,n){let l;function r(t){window.addEventListener("resize",(()=>$t(t)))}return R((()=>{const t=ft(l);!function(){if(0===arguments.length)throw new Error("pipe requires at least one argument");return Et(arguments[0].length,Kt(Qt,arguments[0],ee(arguments)))}(se(mt),se(pt),se(he),se(r),se($t),se(ve))(t)})),[l,function(t){B[t?"unshift":"push"]((()=>{l=t,n(0,l)}))}]}class xe extends t{constructor(t){super(),e(this,t,ye,be,n,{})}}function we(t){let e,n;return{c(){e=s("title"),n=o(t[2])},m(t,l){i(t,e,l),a(e,n)},p(t,e){4&e&&c(n,t[2])},d(t){t&&u(e)}}}function ke(t){let e,n,o,c,w;const k=t[11].default,M=l(k,t,t[10],null),A=M||function(t){let e,n=t[2]&&we(t);return{c(){n&&n.c(),e=r()},m(t,l){n&&n.m(t,l),i(t,e,l)},p(t,l){t[2]?n?n.p(t,l):(n=we(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&u(e)}}}(t);let S=[{"data-carbon-icon":"Reset16"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{width:"16"},{height:"16"},{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},{style:t[3]},{id:t[1]},t[4]],q={};for(let l=0;l<S.length;l+=1)q=d(q,S[l]);return{c(){e=s("svg"),n=s("path"),A&&A.c(),f(n,"d","M18,28A12,12,0,1,0,6,16v6.2L2.4,18.6,1,20l6,6,6-6-1.4-1.4L8,22.2V16H8A10,10,0,1,1,18,26Z"),$(e,q)},m(l,r){i(l,e,r),a(e,n),A&&A.m(e,null),o=!0,c||(w=[p(e,"click",t[12]),p(e,"mouseover",t[13]),p(e,"mouseenter",t[14]),p(e,"mouseleave",t[15]),p(e,"keyup",t[16]),p(e,"keydown",t[17])],c=!0)},p(t,[n]){M?M.p&&(!o||1024&n)&&m(M,k,t,t[10],o?h(k,t[10],n,null):g(t[10]),null):A&&A.p&&(!o||4&n)&&A.p(t,o?n:-1),$(e,q=v(S,[{"data-carbon-icon":"Reset16"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{width:"16"},{height:"16"},(!o||1&n)&&{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},(!o||8&n)&&{style:t[3]},(!o||2&n)&&{id:t[1]},16&n&&t[4]]))},i(t){o||(b(A,t),o=!0)},o(t){y(A,t),o=!1},d(t){t&&u(e),A&&A.d(t),c=!1,x(w)}}}function Me(t,e,n){let l,r,i,s,{$$slots:o={},$$scope:a}=e,{class:c}=e,{id:u}=e,{tabindex:f}=e,{focusable:$=!1}=e,{title:p}=e,{style:m}=e;return t.$$set=t=>{n(18,e=d(d({},e),w(t))),"class"in t&&n(0,c=t.class),"id"in t&&n(1,u=t.id),"tabindex"in t&&n(5,f=t.tabindex),"focusable"in t&&n(6,$=t.focusable),"title"in t&&n(2,p=t.title),"style"in t&&n(3,m=t.style),"$$scope"in t&&n(10,a=t.$$scope)},t.$$.update=()=>{n(9,l=e["aria-label"]),n(8,r=e["aria-labelledby"]),772&t.$$.dirty&&n(7,i=l||r||p),992&t.$$.dirty&&n(4,s={"aria-label":l,"aria-labelledby":r,"aria-hidden":!i||void 0,role:i?"img":void 0,focusable:"0"===f||$,tabindex:f})},e=w(e),[c,u,p,m,s,f,$,i,r,l,a,o,function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)}]}var Ae=class extends t{constructor(t){super(),e(this,t,Me,ke,n,{class:0,id:1,tabindex:5,focusable:6,title:2,style:3})}};function Se(t){let e,n;return{c(){e=s("title"),n=o(t[2])},m(t,l){i(t,e,l),a(e,n)},p(t,e){4&e&&c(n,t[2])},d(t){t&&u(e)}}}function qe(t){let e,n,o,c,w;const k=t[11].default,M=l(k,t,t[10],null),A=M||function(t){let e,n=t[2]&&Se(t);return{c(){n&&n.c(),e=r()},m(t,l){n&&n.m(t,l),i(t,e,l)},p(t,l){t[2]?n?n.p(t,l):(n=Se(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&u(e)}}}(t);let S=[{"data-carbon-icon":"Rotate16"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{width:"16"},{height:"16"},{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},{style:t[3]},{id:t[1]},t[4]],q={};for(let l=0;l<S.length;l+=1)q=d(q,S[l]);return{c(){e=s("svg"),n=s("path"),A&&A.c(),f(n,"d","M17.91 26.82l.35 2a12.9 12.9 0 004.24-1.54l-1-1.73A10.88 10.88 0 0117.91 26.82zM24.42 23.07L26 24.35a13 13 0 002.24-3.91l-1.87-.68A11 11 0 0124.42 23.07zM9.5 27.25a12.9 12.9 0 004.24 1.54l.35-2a10.88 10.88 0 01-3.59-1.3zM5.67 19.76l-1.87.68A13 13 0 006 24.35l.32-.26 1.22-1h0a11 11 0 01-1.91-3.31zM29 16a12.85 12.85 0 00-.8-4.44l-1.87.68A11.18 11.18 0 0127 16zM26 7.65a13 13 0 00-20 0V4H4v8h8V10H6.81A11 11 0 0124.42 8.93z"),$(e,q)},m(l,r){i(l,e,r),a(e,n),A&&A.m(e,null),o=!0,c||(w=[p(e,"click",t[12]),p(e,"mouseover",t[13]),p(e,"mouseenter",t[14]),p(e,"mouseleave",t[15]),p(e,"keyup",t[16]),p(e,"keydown",t[17])],c=!0)},p(t,[n]){M?M.p&&(!o||1024&n)&&m(M,k,t,t[10],o?h(k,t[10],n,null):g(t[10]),null):A&&A.p&&(!o||4&n)&&A.p(t,o?n:-1),$(e,q=v(S,[{"data-carbon-icon":"Rotate16"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{width:"16"},{height:"16"},(!o||1&n)&&{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},(!o||8&n)&&{style:t[3]},(!o||2&n)&&{id:t[1]},16&n&&t[4]]))},i(t){o||(b(A,t),o=!0)},o(t){y(A,t),o=!1},d(t){t&&u(e),A&&A.d(t),c=!1,x(w)}}}function ze(t,e,n){let l,r,i,s,{$$slots:o={},$$scope:a}=e,{class:c}=e,{id:u}=e,{tabindex:f}=e,{focusable:$=!1}=e,{title:p}=e,{style:m}=e;return t.$$set=t=>{n(18,e=d(d({},e),w(t))),"class"in t&&n(0,c=t.class),"id"in t&&n(1,u=t.id),"tabindex"in t&&n(5,f=t.tabindex),"focusable"in t&&n(6,$=t.focusable),"title"in t&&n(2,p=t.title),"style"in t&&n(3,m=t.style),"$$scope"in t&&n(10,a=t.$$scope)},t.$$.update=()=>{n(9,l=e["aria-label"]),n(8,r=e["aria-labelledby"]),772&t.$$.dirty&&n(7,i=l||r||p),992&t.$$.dirty&&n(4,s={"aria-label":l,"aria-labelledby":r,"aria-hidden":!i||void 0,role:i?"img":void 0,focusable:"0"===f||$,tabindex:f})},e=w(e),[c,u,p,m,s,f,$,i,r,l,a,o,function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)}]}var Ce=class extends t{constructor(t){super(),e(this,t,ze,qe,n,{class:0,id:1,tabindex:5,focusable:6,title:2,style:3})}};function Oe(t){let e,n;return{c(){e=s("title"),n=o(t[2])},m(t,l){i(t,e,l),a(e,n)},p(t,e){4&e&&c(n,t[2])},d(t){t&&u(e)}}}function je(t){let e,n,o,c,w;const k=t[11].default,M=l(k,t,t[10],null),A=M||function(t){let e,n=t[2]&&Oe(t);return{c(){n&&n.c(),e=r()},m(t,l){n&&n.m(t,l),i(t,e,l)},p(t,l){t[2]?n?n.p(t,l):(n=Oe(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&u(e)}}}(t);let S=[{"data-carbon-icon":"WatsonHealthRotate_18016"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{width:"16"},{height:"16"},{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},{style:t[3]},{id:t[1]},t[4]],q={};for(let l=0;l<S.length;l+=1)q=d(q,S[l]);return{c(){e=s("svg"),n=s("path"),A&&A.c(),f(n,"d","M14.0913 26.8235l-.3467 1.968a12.8956 12.8956 0 01-4.24-1.5418l1-1.7307A10.9086 10.9086 0 0014.0913 26.8235zM7.5767 23.0682L6.0449 24.3533a12.9811 12.9811 0 01-2.25-3.9112l1.8775-.6834A10.9808 10.9808 0 007.5767 23.0682zM22.4951 27.25a12.8956 12.8956 0 01-4.24 1.5418l-.3467-1.968a10.9086 10.9086 0 003.5869-1.3045zM26.3271 19.7587l1.8775.6834a12.9811 12.9811 0 01-2.2495 3.9112l-.3115-.2614-1.22-1.0237h0a10.9822 10.9822 0 001.9038-3.3093zM13.6616 5.2559c-.1592.0346-.3144.08-.4712.1215-.2131.0562-.4258.1138-.6335.1822-.1643.0547-.325.1167-.4859.1782-.1926.0742-.3835.1509-.57.2349-.1611.0727-.3193.15-.4763.23q-.2677.1363-.5262.2867c-.153.0893-.3046.18-.4531.2758-.1679.1089-.3308.2242-.4922.3413-.1406.1026-.2817.2037-.417.3125-.1616.1294-.3156.2676-.47.4063-.1225.11-.2478.2168-.3652.332-.1668.1636-.3223.3379-.4785.5117A10.9438 10.9438 0 005 16H3A12.9363 12.9363 0 016.05 7.65l-.0047-.0039c.0918-.1094.197-.2061.2925-.3125.1841-.2051.3672-.41.5635-.603.1382-.1358.2856-.2613.43-.3907.1831-.1645.3657-.3286.5581-.4824.1592-.1279.3244-.2466.4895-.3667.1921-.14.3855-.2768.5854-.4062.1743-.1128.3523-.2188.5322-.3238q.3081-.1786.6253-.3408c.1846-.0942.37-.1846.56-.27.2224-.1.449-.1914.678-.2793.1894-.0723.3777-.1455.5713-.209.2463-.0815.498-.1494.7507-.2163.1848-.0493.3674-.1025.5554-.1431.29-.0634.5865-.1074.8833-.1508.159-.023.3145-.0552.4754-.0728A12.9331 12.9331 0 0126 7.7031V4h2v8H20V10h5.1885A10.961 10.961 0 0016 5a11.1114 11.1114 0 00-1.189.0669c-.1362.0146-.268.042-.4026.0615C14.1575 5.165 13.907 5.2026 13.6616 5.2559z"),$(e,q)},m(l,r){i(l,e,r),a(e,n),A&&A.m(e,null),o=!0,c||(w=[p(e,"click",t[12]),p(e,"mouseover",t[13]),p(e,"mouseenter",t[14]),p(e,"mouseleave",t[15]),p(e,"keyup",t[16]),p(e,"keydown",t[17])],c=!0)},p(t,[n]){M?M.p&&(!o||1024&n)&&m(M,k,t,t[10],o?h(k,t[10],n,null):g(t[10]),null):A&&A.p&&(!o||4&n)&&A.p(t,o?n:-1),$(e,q=v(S,[{"data-carbon-icon":"WatsonHealthRotate_18016"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{width:"16"},{height:"16"},(!o||1&n)&&{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},(!o||8&n)&&{style:t[3]},(!o||2&n)&&{id:t[1]},16&n&&t[4]]))},i(t){o||(b(A,t),o=!0)},o(t){y(A,t),o=!1},d(t){t&&u(e),A&&A.d(t),c=!1,x(w)}}}function He(t,e,n){let l,r,i,s,{$$slots:o={},$$scope:a}=e,{class:c}=e,{id:u}=e,{tabindex:f}=e,{focusable:$=!1}=e,{title:p}=e,{style:m}=e;return t.$$set=t=>{n(18,e=d(d({},e),w(t))),"class"in t&&n(0,c=t.class),"id"in t&&n(1,u=t.id),"tabindex"in t&&n(5,f=t.tabindex),"focusable"in t&&n(6,$=t.focusable),"title"in t&&n(2,p=t.title),"style"in t&&n(3,m=t.style),"$$scope"in t&&n(10,a=t.$$scope)},t.$$.update=()=>{n(9,l=e["aria-label"]),n(8,r=e["aria-labelledby"]),772&t.$$.dirty&&n(7,i=l||r||p),992&t.$$.dirty&&n(4,s={"aria-label":l,"aria-labelledby":r,"aria-hidden":!i||void 0,role:i?"img":void 0,focusable:"0"===f||$,tabindex:f})},e=w(e),[c,u,p,m,s,f,$,i,r,l,a,o,function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)}]}var Le=class extends t{constructor(t){super(),e(this,t,He,je,n,{class:0,id:1,tabindex:5,focusable:6,title:2,style:3})}};function Fe(t){let e,n;return{c(){e=s("title"),n=o(t[2])},m(t,l){i(t,e,l),a(e,n)},p(t,e){4&e&&c(n,t[2])},d(t){t&&u(e)}}}function Ne(t){let e,n,o,c,w,k;const M=t[11].default,A=l(M,t,t[10],null),S=A||function(t){let e,n=t[2]&&Fe(t);return{c(){n&&n.c(),e=r()},m(t,l){n&&n.m(t,l),i(t,e,l)},p(t,l){t[2]?n?n.p(t,l):(n=Fe(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&u(e)}}}(t);let q=[{"data-carbon-icon":"Delete16"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{width:"16"},{height:"16"},{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},{style:t[3]},{id:t[1]},t[4]],z={};for(let l=0;l<q.length;l+=1)z=d(z,q[l]);return{c(){e=s("svg"),n=s("path"),o=s("path"),S&&S.c(),f(n,"d","M12 12H14V24H12zM18 12H20V24H18z"),f(o,"d","M4 6V8H6V28a2 2 0 002 2H24a2 2 0 002-2V8h2V6zM8 28V8H24V28zM12 2H20V4H12z"),$(e,z)},m(l,r){i(l,e,r),a(e,n),a(e,o),S&&S.m(e,null),c=!0,w||(k=[p(e,"click",t[12]),p(e,"mouseover",t[13]),p(e,"mouseenter",t[14]),p(e,"mouseleave",t[15]),p(e,"keyup",t[16]),p(e,"keydown",t[17])],w=!0)},p(t,[n]){A?A.p&&(!c||1024&n)&&m(A,M,t,t[10],c?h(M,t[10],n,null):g(t[10]),null):S&&S.p&&(!c||4&n)&&S.p(t,c?n:-1),$(e,z=v(q,[{"data-carbon-icon":"Delete16"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{width:"16"},{height:"16"},(!c||1&n)&&{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},(!c||8&n)&&{style:t[3]},(!c||2&n)&&{id:t[1]},16&n&&t[4]]))},i(t){c||(b(S,t),c=!0)},o(t){y(S,t),c=!1},d(t){t&&u(e),S&&S.d(t),w=!1,x(k)}}}function Re(t,e,n){let l,r,i,s,{$$slots:o={},$$scope:a}=e,{class:c}=e,{id:u}=e,{tabindex:f}=e,{focusable:$=!1}=e,{title:p}=e,{style:m}=e;return t.$$set=t=>{n(18,e=d(d({},e),w(t))),"class"in t&&n(0,c=t.class),"id"in t&&n(1,u=t.id),"tabindex"in t&&n(5,f=t.tabindex),"focusable"in t&&n(6,$=t.focusable),"title"in t&&n(2,p=t.title),"style"in t&&n(3,m=t.style),"$$scope"in t&&n(10,a=t.$$scope)},t.$$.update=()=>{n(9,l=e["aria-label"]),n(8,r=e["aria-labelledby"]),772&t.$$.dirty&&n(7,i=l||r||p),992&t.$$.dirty&&n(4,s={"aria-label":l,"aria-labelledby":r,"aria-hidden":!i||void 0,role:i?"img":void 0,focusable:"0"===f||$,tabindex:f})},e=w(e),[c,u,p,m,s,f,$,i,r,l,a,o,function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)}]}var Be=class extends t{constructor(t){super(),e(this,t,Re,Ne,n,{class:0,id:1,tabindex:5,focusable:6,title:2,style:3})}};function Ee(t){let e,n;return{c(){e=s("title"),n=o(t[2])},m(t,l){i(t,e,l),a(e,n)},p(t,e){4&e&&c(n,t[2])},d(t){t&&u(e)}}}function Ve(t){let e,n,o,c,w;const k=t[11].default,M=l(k,t,t[10],null),A=M||function(t){let e,n=t[2]&&Ee(t);return{c(){n&&n.c(),e=r()},m(t,l){n&&n.m(t,l),i(t,e,l)},p(t,l){t[2]?n?n.p(t,l):(n=Ee(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&u(e)}}}(t);let S=[{"data-carbon-icon":"ArrowUp16"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 16 16"},{fill:"currentColor"},{width:"16"},{height:"16"},{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},{style:t[3]},{id:t[1]},t[4]],q={};for(let l=0;l<S.length;l+=1)q=d(q,S[l]);return{c(){e=s("svg"),n=s("path"),A&&A.c(),f(n,"d","M3.7 6.7L7.5 2.9 7.5 15 8.5 15 8.5 2.9 12.3 6.7 13 6 8 1 3 6z"),$(e,q)},m(l,r){i(l,e,r),a(e,n),A&&A.m(e,null),o=!0,c||(w=[p(e,"click",t[12]),p(e,"mouseover",t[13]),p(e,"mouseenter",t[14]),p(e,"mouseleave",t[15]),p(e,"keyup",t[16]),p(e,"keydown",t[17])],c=!0)},p(t,[n]){M?M.p&&(!o||1024&n)&&m(M,k,t,t[10],o?h(k,t[10],n,null):g(t[10]),null):A&&A.p&&(!o||4&n)&&A.p(t,o?n:-1),$(e,q=v(S,[{"data-carbon-icon":"ArrowUp16"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 16 16"},{fill:"currentColor"},{width:"16"},{height:"16"},(!o||1&n)&&{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},(!o||8&n)&&{style:t[3]},(!o||2&n)&&{id:t[1]},16&n&&t[4]]))},i(t){o||(b(A,t),o=!0)},o(t){y(A,t),o=!1},d(t){t&&u(e),A&&A.d(t),c=!1,x(w)}}}function Ye(t,e,n){let l,r,i,s,{$$slots:o={},$$scope:a}=e,{class:c}=e,{id:u}=e,{tabindex:f}=e,{focusable:$=!1}=e,{title:p}=e,{style:m}=e;return t.$$set=t=>{n(18,e=d(d({},e),w(t))),"class"in t&&n(0,c=t.class),"id"in t&&n(1,u=t.id),"tabindex"in t&&n(5,f=t.tabindex),"focusable"in t&&n(6,$=t.focusable),"title"in t&&n(2,p=t.title),"style"in t&&n(3,m=t.style),"$$scope"in t&&n(10,a=t.$$scope)},t.$$.update=()=>{n(9,l=e["aria-label"]),n(8,r=e["aria-labelledby"]),772&t.$$.dirty&&n(7,i=l||r||p),992&t.$$.dirty&&n(4,s={"aria-label":l,"aria-labelledby":r,"aria-hidden":!i||void 0,role:i?"img":void 0,focusable:"0"===f||$,tabindex:f})},e=w(e),[c,u,p,m,s,f,$,i,r,l,a,o,function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)}]}var Te=class extends t{constructor(t){super(),e(this,t,Ye,Ve,n,{class:0,id:1,tabindex:5,focusable:6,title:2,style:3})}};function Ie(t){let e,n;return{c(){e=s("title"),n=o(t[2])},m(t,l){i(t,e,l),a(e,n)},p(t,e){4&e&&c(n,t[2])},d(t){t&&u(e)}}}function Pe(t){let e,n,o,c,w;const k=t[11].default,M=l(k,t,t[10],null),A=M||function(t){let e,n=t[2]&&Ie(t);return{c(){n&&n.c(),e=r()},m(t,l){n&&n.m(t,l),i(t,e,l)},p(t,l){t[2]?n?n.p(t,l):(n=Ie(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&u(e)}}}(t);let S=[{"data-carbon-icon":"ArrowDown16"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 16 16"},{fill:"currentColor"},{width:"16"},{height:"16"},{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},{style:t[3]},{id:t[1]},t[4]],q={};for(let l=0;l<S.length;l+=1)q=d(q,S[l]);return{c(){e=s("svg"),n=s("path"),A&&A.c(),f(n,"d","M12.3 9.3L8.5 13.1 8.5 1 7.5 1 7.5 13.1 3.7 9.3 3 10 8 15 13 10z"),$(e,q)},m(l,r){i(l,e,r),a(e,n),A&&A.m(e,null),o=!0,c||(w=[p(e,"click",t[12]),p(e,"mouseover",t[13]),p(e,"mouseenter",t[14]),p(e,"mouseleave",t[15]),p(e,"keyup",t[16]),p(e,"keydown",t[17])],c=!0)},p(t,[n]){M?M.p&&(!o||1024&n)&&m(M,k,t,t[10],o?h(k,t[10],n,null):g(t[10]),null):A&&A.p&&(!o||4&n)&&A.p(t,o?n:-1),$(e,q=v(S,[{"data-carbon-icon":"ArrowDown16"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 16 16"},{fill:"currentColor"},{width:"16"},{height:"16"},(!o||1&n)&&{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},(!o||8&n)&&{style:t[3]},(!o||2&n)&&{id:t[1]},16&n&&t[4]]))},i(t){o||(b(A,t),o=!0)},o(t){y(A,t),o=!1},d(t){t&&u(e),A&&A.d(t),c=!1,x(w)}}}function _e(t,e,n){let l,r,i,s,{$$slots:o={},$$scope:a}=e,{class:c}=e,{id:u}=e,{tabindex:f}=e,{focusable:$=!1}=e,{title:p}=e,{style:m}=e;return t.$$set=t=>{n(18,e=d(d({},e),w(t))),"class"in t&&n(0,c=t.class),"id"in t&&n(1,u=t.id),"tabindex"in t&&n(5,f=t.tabindex),"focusable"in t&&n(6,$=t.focusable),"title"in t&&n(2,p=t.title),"style"in t&&n(3,m=t.style),"$$scope"in t&&n(10,a=t.$$scope)},t.$$.update=()=>{n(9,l=e["aria-label"]),n(8,r=e["aria-labelledby"]),772&t.$$.dirty&&n(7,i=l||r||p),992&t.$$.dirty&&n(4,s={"aria-label":l,"aria-labelledby":r,"aria-hidden":!i||void 0,role:i?"img":void 0,focusable:"0"===f||$,tabindex:f})},e=w(e),[c,u,p,m,s,f,$,i,r,l,a,o,function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)}]}var We=class extends t{constructor(t){super(),e(this,t,_e,Pe,n,{class:0,id:1,tabindex:5,focusable:6,title:2,style:3})}};function Je(t){let e,n,l,r,s;var o=Be;return o&&(n=new o({})),{c(){e=A("div"),n&&S(n.$$.fragment),f(e,"class","icon-button svelte-1bds2xv")},m(o,a){i(o,e,a),n&&q(n,e,null),l=!0,r||(s=p(e,"click",t[17]),r=!0)},p(t,l){if(o!==(o=Be)){if(n){L();const t=n;y(t.$$.fragment,1,0,(()=>{C(t,1)})),F()}o?(n=new o({}),S(n.$$.fragment),b(n.$$.fragment,1),q(n,e,null)):n=null}},i(t){l||(n&&b(n.$$.fragment,t),l=!0)},o(t){n&&y(n.$$.fragment,t),l=!1},d(t){t&&u(e),n&&C(n),r=!1,s()}}}function Xe(t){let e,n,l,r,s,o,a,c;var d=Te;d&&(n=new d({}));var $=We;return $&&(s=new $({})),{c(){e=A("div"),n&&S(n.$$.fragment),l=j(),r=A("div"),s&&S(s.$$.fragment),f(e,"class","icon-button svelte-1bds2xv"),f(r,"class","icon-button svelte-1bds2xv")},m(u,d){i(u,e,d),n&&q(n,e,null),i(u,l,d),i(u,r,d),s&&q(s,r,null),o=!0,a||(c=[p(e,"click",t[18]),p(r,"click",t[19])],a=!0)},p(t,l){if(d!==(d=Te)){if(n){L();const t=n;y(t.$$.fragment,1,0,(()=>{C(t,1)})),F()}d?(n=new d({}),S(n.$$.fragment),b(n.$$.fragment,1),q(n,e,null)):n=null}if($!==($=We)){if(s){L();const t=s;y(t.$$.fragment,1,0,(()=>{C(t,1)})),F()}$?(s=new $({}),S(s.$$.fragment),b(s.$$.fragment,1),q(s,r,null)):s=null}},i(t){o||(n&&b(n.$$.fragment,t),s&&b(s.$$.fragment,t),o=!0)},o(t){n&&y(n.$$.fragment,t),s&&y(s.$$.fragment,t),o=!1},d(t){t&&u(e),n&&C(n),t&&u(l),t&&u(r),s&&C(s),a=!1,x(c)}}}function Ze(t){let e,n,l,r,s,d,$,m,g,h,v,w,k,M,z,O,N,R,B,Y,T,I,P,_,W,J,X,Z=(100*t[0]).toFixed(0)+"";var D=Ce;D&&(r=new D({}));var U=Le;U&&($=new U({}));var G=E;G&&(v=new G({}));var K=V;K&&(R=new K({}));var Q=Ae;Q&&(T=new Q({}));let tt=t[2].length>0&&Je(t),et=1===t[2].length&&Xe(t);return{c(){e=A("div"),n=A("div"),l=A("div"),r&&S(r.$$.fragment),s=j(),d=A("div"),$&&S($.$$.fragment),m=j(),g=A("div"),h=A("div"),v&&S(v.$$.fragment),w=j(),k=A("div"),M=o(Z),z=o("%"),O=j(),N=A("div"),R&&S(R.$$.fragment),B=j(),Y=A("div"),T&&S(T.$$.fragment),I=j(),P=A("div"),tt&&tt.c(),_=j(),et&&et.c(),f(l,"class","icon-button svelte-1bds2xv"),H(l,"disabled",0===t[1].backward.length),f(d,"class","icon-button svelte-1bds2xv"),H(d,"disabled",0===t[1].forward.length),f(n,"class","history"),f(h,"class","icon-button svelte-1bds2xv"),f(k,"class","zoom-value svelte-1bds2xv"),f(N,"class","icon-button svelte-1bds2xv"),f(Y,"class","icon-button svelte-1bds2xv"),f(g,"class","zoom"),f(P,"class","widget"),f(e,"class","tool-container absolute inset-0 flex flex-col items-center space-y-5 svelte-1bds2xv")},m(o,c){i(o,e,c),a(e,n),a(n,l),r&&q(r,l,null),a(n,s),a(n,d),$&&q($,d,null),a(e,m),a(e,g),a(g,h),v&&q(v,h,null),a(g,w),a(g,k),a(k,M),a(k,z),a(g,O),a(g,N),R&&q(R,N,null),a(g,B),a(g,Y),T&&q(T,Y,null),a(e,I),a(e,P),tt&&tt.m(P,null),a(P,_),et&&et.m(P,null),W=!0,J||(X=[p(l,"click",t[12]),p(d,"click",t[13]),p(h,"click",t[14]),p(N,"click",t[15]),p(Y,"click",t[16]),p(e,"keydown",De)],J=!0)},p(t,[e]){if(D!==(D=Ce)){if(r){L();const t=r;y(t.$$.fragment,1,0,(()=>{C(t,1)})),F()}D?(r=new D({}),S(r.$$.fragment),b(r.$$.fragment,1),q(r,l,null)):r=null}if(2&e&&H(l,"disabled",0===t[1].backward.length),U!==(U=Le)){if($){L();const t=$;y(t.$$.fragment,1,0,(()=>{C(t,1)})),F()}U?($=new U({}),S($.$$.fragment),b($.$$.fragment,1),q($,d,null)):$=null}if(2&e&&H(d,"disabled",0===t[1].forward.length),G!==(G=E)){if(v){L();const t=v;y(t.$$.fragment,1,0,(()=>{C(t,1)})),F()}G?(v=new G({}),S(v.$$.fragment),b(v.$$.fragment,1),q(v,h,null)):v=null}if((!W||1&e)&&Z!==(Z=(100*t[0]).toFixed(0)+"")&&c(M,Z),K!==(K=V)){if(R){L();const t=R;y(t.$$.fragment,1,0,(()=>{C(t,1)})),F()}K?(R=new K({}),S(R.$$.fragment),b(R.$$.fragment,1),q(R,N,null)):R=null}if(Q!==(Q=Ae)){if(T){L();const t=T;y(t.$$.fragment,1,0,(()=>{C(t,1)})),F()}Q?(T=new Q({}),S(T.$$.fragment),b(T.$$.fragment,1),q(T,Y,null)):T=null}t[2].length>0?tt?(tt.p(t,e),4&e&&b(tt,1)):(tt=Je(t),tt.c(),b(tt,1),tt.m(P,_)):tt&&(L(),y(tt,1,1,(()=>{tt=null})),F()),1===t[2].length?et?(et.p(t,e),4&e&&b(et,1)):(et=Xe(t),et.c(),b(et,1),et.m(P,null)):et&&(L(),y(et,1,1,(()=>{et=null})),F())},i(t){W||(r&&b(r.$$.fragment,t),$&&b($.$$.fragment,t),v&&b(v.$$.fragment,t),R&&b(R.$$.fragment,t),T&&b(T.$$.fragment,t),b(tt),b(et),W=!0)},o(t){r&&y(r.$$.fragment,t),$&&y($.$$.fragment,t),v&&y(v.$$.fragment,t),R&&y(R.$$.fragment,t),T&&y(T.$$.fragment,t),y(tt),y(et),W=!1},d(t){t&&u(e),r&&C(r),$&&C($),v&&C(v),R&&C(R),T&&C(T),tt&&tt.d(),et&&et.d(),J=!1,x(X)}}}const De=t=>t.stopPropagation();function Ue(t,e,n){let l,r,i,s;const{stage:o,selected:a,history:c,zoom:u,dispatch:d}=it((t=>t.editor));function f(t){if(r<=.5&&t<0||r>=5&&t>0)return;const e=t?parseFloat((r+.1*t).toFixed(2)):1;d("updateZoom",e)}function $(){const t=dt(l);d("deleteWidget",t.map((t=>t.id())))}function p(){const t=dt(l),[e]=t;e.moveUp()}function m(){const t=dt(l),[e]=t;e.zIndex()>1&&e.moveDown()}Y(t,o,(t=>n(20,l=t))),Y(t,a,(t=>n(2,s=t))),Y(t,c,(t=>n(1,i=t))),Y(t,u,(t=>n(0,r=t)));return[r,i,s,o,a,c,u,d,f,$,p,m,()=>d("backward"),()=>d("forward"),()=>f(1),()=>f(-1),()=>f(),()=>$(),()=>p(),()=>m()]}class Ge extends t{constructor(t){super(),e(this,t,Ue,Ze,n,{})}}function Ke(t){let e,n,l,r,s,o,a,c,d,f;return e=new vt({props:{label:"X",$$slots:{default:[Qe]},$$scope:{ctx:t}}}),l=new vt({props:{label:"Y",$$slots:{default:[tn]},$$scope:{ctx:t}}}),s=new vt({props:{label:"宽度",$$slots:{default:[en]},$$scope:{ctx:t}}}),a=new vt({props:{label:"高度",$$slots:{default:[nn]},$$scope:{ctx:t}}}),d=new vt({props:{label:"角度",$$slots:{default:[ln]},$$scope:{ctx:t}}}),{c(){S(e.$$.fragment),n=j(),S(l.$$.fragment),r=j(),S(s.$$.fragment),o=j(),S(a.$$.fragment),c=j(),S(d.$$.fragment)},m(t,u){q(e,t,u),i(t,n,u),q(l,t,u),i(t,r,u),q(s,t,u),i(t,o,u),q(a,t,u),i(t,c,u),q(d,t,u),f=!0},p(t,n){const r={};131073&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r);const i={};131073&n&&(i.$$scope={dirty:n,ctx:t}),l.$set(i);const o={};131073&n&&(o.$$scope={dirty:n,ctx:t}),s.$set(o);const c={};131073&n&&(c.$$scope={dirty:n,ctx:t}),a.$set(c);const u={};131073&n&&(u.$$scope={dirty:n,ctx:t}),d.$set(u)},i(t){f||(b(e.$$.fragment,t),b(l.$$.fragment,t),b(s.$$.fragment,t),b(a.$$.fragment,t),b(d.$$.fragment,t),f=!0)},o(t){y(e.$$.fragment,t),y(l.$$.fragment,t),y(s.$$.fragment,t),y(a.$$.fragment,t),y(d.$$.fragment,t),f=!1},d(t){C(e,t),t&&u(n),C(l,t),t&&u(r),C(s,t),t&&u(o),C(a,t),t&&u(c),C(d,t)}}}function Qe(t){let e,n,l;function r(e){t[4](e)}let i={};return void 0!==t[0].x&&(i.value=t[0].x),e=new T({props:i}),B.push((()=>I(e,"value",r))),e.$on("change",t[3]),{c(){S(e.$$.fragment)},m(t,n){q(e,t,n),l=!0},p(t,l){const r={};!n&&1&l&&(n=!0,r.value=t[0].x,P((()=>n=!1))),e.$set(r)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){y(e.$$.fragment,t),l=!1},d(t){C(e,t)}}}function tn(t){let e,n,l;function r(e){t[5](e)}let i={};return void 0!==t[0].y&&(i.value=t[0].y),e=new T({props:i}),B.push((()=>I(e,"value",r))),e.$on("change",t[3]),{c(){S(e.$$.fragment)},m(t,n){q(e,t,n),l=!0},p(t,l){const r={};!n&&1&l&&(n=!0,r.value=t[0].y,P((()=>n=!1))),e.$set(r)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){y(e.$$.fragment,t),l=!1},d(t){C(e,t)}}}function en(t){let e,n,l;function r(e){t[6](e)}let i={min:0};return void 0!==t[0].width&&(i.value=t[0].width),e=new T({props:i}),B.push((()=>I(e,"value",r))),e.$on("change",t[3]),{c(){S(e.$$.fragment)},m(t,n){q(e,t,n),l=!0},p(t,l){const r={};!n&&1&l&&(n=!0,r.value=t[0].width,P((()=>n=!1))),e.$set(r)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){y(e.$$.fragment,t),l=!1},d(t){C(e,t)}}}function nn(t){let e,n,l;function r(e){t[7](e)}let i={min:0};return void 0!==t[0].height&&(i.value=t[0].height),e=new T({props:i}),B.push((()=>I(e,"value",r))),e.$on("change",t[3]),{c(){S(e.$$.fragment)},m(t,n){q(e,t,n),l=!0},p(t,l){const r={};!n&&1&l&&(n=!0,r.value=t[0].height,P((()=>n=!1))),e.$set(r)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){y(e.$$.fragment,t),l=!1},d(t){C(e,t)}}}function ln(t){let e,n,l;function r(e){t[8](e)}let i={};return void 0!==t[0].rotation&&(i.value=t[0].rotation),e=new T({props:i}),B.push((()=>I(e,"value",r))),e.$on("change",t[3]),{c(){S(e.$$.fragment)},m(t,n){q(e,t,n),l=!0},p(t,l){const r={};!n&&1&l&&(n=!0,r.value=t[0].rotation,P((()=>n=!1))),e.$set(r)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){y(e.$$.fragment,t),l=!1},d(t){C(e,t)}}}function rn(t){let e,n,l=t[0]&&Ke(t);return{c(){l&&l.c(),e=r()},m(t,r){l&&l.m(t,r),i(t,e,r),n=!0},p(t,n){t[0]?l?(l.p(t,n),1&n&&b(l,1)):(l=Ke(t),l.c(),b(l,1),l.m(e.parentNode,e)):l&&(L(),y(l,1,1,(()=>{l=null})),F())},i(t){n||(b(l),n=!0)},o(t){y(l),n=!1},d(t){l&&l.d(t),t&&u(e)}}}function sn(t){let e,n;return e=new ht({props:{$$slots:{default:[rn]},$$scope:{ctx:t}}}),{c(){S(e.$$.fragment)},m(t,l){q(e,t,l),n=!0},p(t,[n]){const l={};131073&n&&(l.$$scope={dirty:n,ctx:t}),e.$set(l)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function on(t,e,n){let l,r;const{selected:i,widgets:s,dispatch:o,stage:a}=it((t=>t.editor));Y(t,i,(t=>n(11,r=t))),Y(t,a,(t=>n(10,l=t)));let c,u={width:0,height:0,x:0,y:0,rotation:0};return s.subscribe((t=>{const e=t.find((t=>1===r.length&&t.id===r[0]));c=e,e&&function(){const t=re(Object.keys(u),c.property);JSON.stringify(u)!==JSON.stringify(t)&&n(0,u=t)}()})),[u,i,a,function(){const t=re(Object.keys(u),c.property);JSON.stringify(u)!==JSON.stringify(t)&&(!function(){const[t]=r;if(!t)return;const e=l.findOne(`#${t}`);Object.entries(u).forEach((([t,n])=>{e.getAttr(t)!==n&&e.setAttr(t,n)}))}(),o("updateWidget",{id:c.id,property:Object.assign(Object.assign({},c.property),u)}))},function(e){t.$$.not_equal(u.x,e)&&(u.x=e,n(0,u))},function(e){t.$$.not_equal(u.y,e)&&(u.y=e,n(0,u))},function(e){t.$$.not_equal(u.width,e)&&(u.width=e,n(0,u))},function(e){t.$$.not_equal(u.height,e)&&(u.height=e,n(0,u))},function(e){t.$$.not_equal(u.rotation,e)&&(u.rotation=e,n(0,u))}]}class an extends t{constructor(t){super(),e(this,t,on,sn,n,{})}}function cn(t){let e,n,l,r,s,d,$,m,g,h,v,b,y,w,k,M,S,q,C,O,H,L,F,N,R,B,E,V,Y,T,I,P,_,W,J,X,Z,D,U,G,K,Q,tt,et,nt,lt,rt;return{c(){e=A("div"),n=A("div"),l=A("div"),r=A("div"),s=A("div"),d=j(),$=A("div"),m=j(),g=A("div"),h=A("div"),v=j(),b=A("div"),y=j(),w=A("div"),k=A("div"),M=j(),S=A("div"),q=j(),C=A("div"),O=j(),H=A("div"),L=A("div"),L.innerHTML='<div class="color-picked svelte-1polsdl"></div>',F=j(),N=A("div"),R=A("p"),B=o(t[3]),E=j(),V=A("div"),Y=A("div"),T=A("p"),I=o(t[0]),P=j(),_=A("p"),_.textContent="R",W=j(),J=A("div"),X=A("p"),Z=o(t[1]),D=j(),U=A("p"),U.textContent="G",G=j(),K=A("div"),Q=A("p"),tt=o(t[2]),et=j(),nt=A("p"),nt.textContent="B",f(s,"id","colorsquare-picker"),f(s,"class","svelte-1polsdl"),f($,"id","colorsquare-event"),f($,"class","svelte-1polsdl"),f(r,"class","value-gradient svelte-1polsdl"),f(l,"class","saturation-gradient svelte-1polsdl"),f(n,"class","colorsquare size svelte-1polsdl"),f(h,"id","hue-picker"),f(h,"class","svelte-1polsdl"),f(b,"id","hue-event"),f(b,"class","svelte-1polsdl"),f(g,"class","hue-selector svelte-1polsdl"),f(k,"class","alpha-value svelte-1polsdl"),f(S,"id","alpha-picker"),f(S,"class","svelte-1polsdl"),f(C,"id","alpha-event"),f(C,"class","svelte-1polsdl"),f(w,"class","alpha-selector svelte-1polsdl"),f(L,"class","color-picked-bg svelte-1polsdl"),f(R,"class","text svelte-1polsdl"),f(N,"class","hex-text-block svelte-1polsdl"),f(T,"class","text svelte-1polsdl"),f(_,"class","text-label svelte-1polsdl"),f(Y,"class","rgb-text-block svelte-1polsdl"),f(X,"class","text svelte-1polsdl"),f(U,"class","text-label svelte-1polsdl"),f(J,"class","rgb-text-block svelte-1polsdl"),f(Q,"class","text svelte-1polsdl"),f(nt,"class","text-label svelte-1polsdl"),f(K,"class","rgb-text-block svelte-1polsdl"),f(V,"class","rgb-text-div svelte-1polsdl"),f(H,"class","color-info-box svelte-1polsdl"),f(e,"class","main-container svelte-1polsdl")},m(o,c){i(o,e,c),a(e,n),a(n,l),a(l,r),a(r,s),a(r,d),a(r,$),a(e,m),a(e,g),a(g,h),a(g,v),a(g,b),a(e,y),a(e,w),a(w,k),a(w,M),a(w,S),a(w,q),a(w,C),a(e,O),a(e,H),a(H,L),a(H,F),a(H,N),a(N,R),a(R,B),a(H,E),a(H,V),a(V,Y),a(Y,T),a(T,I),a(Y,P),a(Y,_),a(V,W),a(V,J),a(J,X),a(X,Z),a(J,D),a(J,U),a(V,G),a(V,K),a(K,Q),a(Q,tt),a(K,et),a(K,nt),lt||(rt=[p($,"mousedown",t[4]),p($,"touchstart",t[5]),p(b,"mousedown",t[6]),p(b,"touchstart",t[7]),p(C,"mousedown",t[8]),p(C,"touchstart",t[9])],lt=!0)},p(t,[e]){8&e&&c(B,t[3]),1&e&&c(I,t[0]),2&e&&c(Z,t[1]),4&e&&c(tt,t[2])},i:z,o:z,d(t){t&&u(e),lt=!1,x(rt)}}}function un(t,e,n){let l=document.querySelector(t);l&&l.removeEventListener(e,n)}function dn(t,e,n){var l,r,i,s=Math.floor(6*t),o=6*t-s,a=n*(1-e),c=n*(1-o*e),u=n*(1-(1-o)*e);switch(s%6){case 0:l=n,r=u,i=a;break;case 1:l=c,r=n,i=a;break;case 2:l=a,r=n,i=u;break;case 3:l=a,r=c,i=n;break;case 4:l=u,r=a,i=n;break;case 5:l=n,r=a,i=c}return[Math.round(255*l),Math.round(255*r),Math.round(255*i)]}function fn(t,e,n){let{startColor:l="#FF0000"}=e;R((()=>{document.addEventListener("mouseup",y),document.addEventListener("touchend",y),document.addEventListener("mousemove",g),document.addEventListener("touchmove",h),document.addEventListener("touchstart",p),document.addEventListener("mousedown",m),function(){let t=l.replace("#","");if(8!==t.length&&6!==t.length&&3!==t.length&&!t.match(/([^A-F0-9])/gi))return void alert("Invalid property value (startColor)");let e="";3===t.length||4===t.length?t.split("").forEach((t=>{e+=t+t})):e=t;n(3,$=e.slice(0,6)),n(0,u=parseInt(e.substring(0,2),16)),n(1,d=parseInt(e.substring(2,4),16)),n(2,f=parseInt(e.substring(4,6),16)),c=parseInt(e.substring(6,8)||"FF",16)/255,function(t,e,n,l){let r,i,c,u,d,f,$,p,m,g;r=t/255,i=e/255,c=n/255,u=Math.max(r,i,c),d=Math.min(r,i,c),f=u-d,g=u,m=0==g?0:f/u;for(let s=0;s<3;s++)if([r,i,c][s]===u){$=s;break}if(0==f)return p=0,l?(s=p,o=m,a=g,void k()):{h:p,s:m,v:g};switch($){case 0:p=(i-c)/f%6*60/360;break;case 1:p=60*((c-r)/f+2)/360;break;case 2:p=60*((r-i)/f+4)/360}p<0&&(p+=6);if(!l)return{h:p,s:m,v:g};s=p,o=m,a=g,k()}(u,d,f,!0),function(){let t=document.querySelector("#colorsquare-picker"),e=100*o,n=100*(1-a);t.style.top=n+"%",t.style.left=e+"%"}(),function(){let t=document.querySelector("#hue-picker"),e=100*s;t.style.left=e+"%"}(),function(){let t=document.querySelector("#alpha-picker"),e=100*c;t.style.left=e+"%"}()}()}));const r=_();let i,s=1,o=1,a=1,c=1,u=255,d=0,f=0,$="#FF0000";function p(){un("#alpha-event","mousedown",A),un("#colorsquare-event","mousedown",v),un("#hue-event","mousedown",x),document.removeEventListener("mouseup",y),document.removeEventListener("mousemove",g),document.removeEventListener("touchstart",p),document.removeEventListener("mousedown",m)}function m(){un("#alpha-event","touchstart",S),un("#colorsquare-event","touchstart",b),un("#hue-event","touchstart",w),document.removeEventListener("touchend",y),document.removeEventListener("touchmove",h),document.removeEventListener("touchstart",p),document.removeEventListener("mousedown",m)}function g(t){if(i){let e,n,l,r=t.clientX,u=t.clientY,d=i.getBoundingClientRect();switch(i.id){case"colorsquare-event":e=(r-d.x)/240*100,n=(u-d.y)/160*100,e>100?e=100:e<0&&(e=0),n>100?n=100:n<0&&(n=0),l=document.querySelector("#colorsquare-picker"),n=n.toFixed(2),e=e.toFixed(2),l.style.top=n+"%",l.style.left=e+"%",o=e/100,a=1-n/100,M();break;case"hue-event":e=(r-10-d.x)/220*100,e>100?e=100:e<0&&(e=0),e=e.toFixed(2),l=document.querySelector("#hue-picker"),l.style.left=e+"%",s=e/100,k();break;case"alpha-event":e=(r-10-d.x)/220*100,e>100?e=100:e<0&&(e=0),e=e.toFixed(2),l=document.querySelector("#alpha-picker"),l.style.left=e+"%",c=e/100,M()}}}function h(t){if(i){let e,n,l,r=t.touches[0].clientX,u=t.touches[0].clientY,d=i.getBoundingClientRect();switch(i.id){case"colorsquare-event":e=(r-d.x)/240*100,n=(u-d.y)/160*100,e>100?e=100:e<0&&(e=0),n>100?n=100:n<0&&(n=0),l=document.querySelector("#colorsquare-picker"),n=n.toFixed(2),e=e.toFixed(2),l.style.top=n+"%",l.style.left=e+"%",o=e/100,a=1-n/100,M();break;case"hue-event":e=(r-10-d.x)/220*100,e>100?e=100:e<0&&(e=0),e=e.toFixed(2),l=document.querySelector("#hue-picker"),l.style.left=e+"%",s=e/100,k();break;case"alpha-event":e=(r-10-d.x)/220*100,e>100?e=100:e<0&&(e=0),e=e.toFixed(2),l=document.querySelector("#alpha-picker"),l.style.left=e+"%",c=e/100,M()}}}function v(t){i=t.currentTarget;let e=(t.offsetX+1)/240*100,n=(t.offsetY+1)/160*100;n=n.toFixed(2),e=e.toFixed(2);let l=document.querySelector("#colorsquare-picker");l.style.top=n+"%",l.style.left=e+"%",o=e/100,a=1-n/100,M()}function b(t){i=t.currentTarget;let e=t.target.getBoundingClientRect(),n=(t.targetTouches[0].clientX-e.left+1)/240*100,l=(t.targetTouches[0].clientY-e.top+1)/160*100;l=l.toFixed(2),n=n.toFixed(2);let r=document.querySelector("#colorsquare-picker");r.style.top=l+"%",r.style.left=n+"%",o=n/100,a=1-l/100,M()}function y(t){i=null}function x(t){i=t.currentTarget;let e=(t.offsetX-9)/220*100;e=e.toFixed(2),document.querySelector("#hue-picker").style.left=e+"%",s=e/100,k()}function w(t){i=t.currentTarget;let e=t.target.getBoundingClientRect(),n=(t.targetTouches[0].clientX-e.left-9)/220*100;n=n.toFixed(2),document.querySelector("#hue-picker").style.left=n+"%",s=n/100,k()}function k(){let t=dn(s,1,1);document.querySelector(".colorsquare").style.background=`rgba(${t[0]},${t[1]},${t[2]},1)`,M()}function M(){let t=dn(s,o,a);n(0,u=t[0]),n(1,d=t[1]),n(2,f=t[2]),n(3,$=function(){let t=u.toString(16),e=d.toString(16),n=f.toString(16);1==t.length&&(t="0"+t);1==e.length&&(e="0"+e);1==n.length&&(n="0"+n);return("#"+t+e+n).toUpperCase()}()),document.querySelector(".color-picked").style.background=`rgba(${t[0]},${t[1]},${t[2]},${c})`,r("colorChange",{r:u,g:d,b:f,a:c})}function A(t){i=t.currentTarget;let e=(t.offsetX-9)/220*100;e=e.toFixed(2),document.querySelector("#alpha-picker").style.left=e+"%",c=e/100,M()}function S(t){i=t.currentTarget;let e=t.target.getBoundingClientRect(),n=(t.targetTouches[0].clientX-e.left-9)/220*100;n=n.toFixed(2),document.querySelector("#alpha-picker").style.left=n+"%",c=n/100,M()}return t.$$set=t=>{"startColor"in t&&n(10,l=t.startColor)},[u,d,f,$,v,b,x,w,A,S,l]}class $n extends t{constructor(t){super(),e(this,t,fn,cn,n,{startColor:10})}}function pn(t){let e,n,l;function r(e){t[6](e)}let i={};return void 0!==t[0].text&&(i.value=t[0].text),e=new W({props:i}),B.push((()=>I(e,"value",r))),e.$on("change",t[3]),{c(){S(e.$$.fragment)},m(t,n){q(e,t,n),l=!0},p(t,l){const r={};!n&&1&l&&(n=!0,r.value=t[0].text,P((()=>n=!1))),e.$set(r)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){y(e.$$.fragment,t),l=!1},d(t){C(e,t)}}}function mn(t){let e,n,l;function r(e){t[7](e)}let i={};return void 0!==t[0].fontSize&&(i.value=t[0].fontSize),e=new T({props:i}),B.push((()=>I(e,"value",r))),e.$on("change",t[3]),{c(){S(e.$$.fragment)},m(t,n){q(e,t,n),l=!0},p(t,l){const r={};!n&&1&l&&(n=!0,r.value=t[0].fontSize,P((()=>n=!1))),e.$set(r)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){y(e.$$.fragment,t),l=!1},d(t){C(e,t)}}}function gn(t){let e,n,l,r,s,o,c,d,$;function m(e){t[8](e)}let g={readonly:!0};return void 0!==t[0].fill&&(g.value=t[0].fill),n=new J({props:g}),B.push((()=>I(n,"value",m))),n.$on("change",t[3]),{c(){e=A("div"),S(n.$$.fragment),r=j(),s=A("div"),o=A("div"),f(o,"class","indicator svelte-ce0ld0"),X(o,"background-color",t[0].fill),f(s,"class","indicator-container svelte-ce0ld0"),f(e,"class","flex")},m(l,u){i(l,e,u),q(n,e,null),a(e,r),a(e,s),a(s,o),c=!0,d||($=p(s,"click",t[5]),d=!0)},p(t,e){const r={};!l&&1&e&&(l=!0,r.value=t[0].fill,P((()=>l=!1))),n.$set(r),(!c||1&e)&&X(o,"background-color",t[0].fill)},i(t){c||(b(n.$$.fragment,t),c=!0)},o(t){y(n.$$.fragment,t),c=!1},d(t){t&&u(e),C(n),d=!1,$()}}}function hn(t){let e,n,l,r,s,o;return e=new D({props:{text:"左对齐",value:"left"}}),l=new D({props:{text:"居中",value:"center"}}),s=new D({props:{text:"右对齐",value:"right"}}),{c(){S(e.$$.fragment),n=j(),S(l.$$.fragment),r=j(),S(s.$$.fragment)},m(t,a){q(e,t,a),i(t,n,a),q(l,t,a),i(t,r,a),q(s,t,a),o=!0},p:z,i(t){o||(b(e.$$.fragment,t),b(l.$$.fragment,t),b(s.$$.fragment,t),o=!0)},o(t){y(e.$$.fragment,t),y(l.$$.fragment,t),y(s.$$.fragment,t),o=!1},d(t){C(e,t),t&&u(n),C(l,t),t&&u(r),C(s,t)}}}function vn(t){let e,n,l;function r(e){t[10](e)}let i={size:"sm",selectedIndex:gt.findIndex(t[9]),$$slots:{default:[hn]},$$scope:{ctx:t}};return void 0!==t[0].align&&(i.value=t[0].align),e=new Z({props:i}),B.push((()=>I(e,"value",r))),e.$on("change",t[4]),{c(){S(e.$$.fragment)},m(t,n){q(e,t,n),l=!0},p(t,l){const r={};1&l&&(r.selectedIndex=gt.findIndex(t[9])),1048576&l&&(r.$$scope={dirty:l,ctx:t}),!n&&1&l&&(n=!0,r.value=t[0].align,P((()=>n=!1))),e.$set(r)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){y(e.$$.fragment,t),l=!1},d(t){C(e,t)}}}function bn(t){let e,n,l,r,s,o,a,c;return e=new vt({props:{label:"文本内容",$$slots:{default:[pn]},$$scope:{ctx:t}}}),l=new vt({props:{label:"文本大小",$$slots:{default:[mn]},$$scope:{ctx:t}}}),s=new vt({props:{label:"文本颜色",$$slots:{default:[gn]},$$scope:{ctx:t}}}),a=new vt({props:{label:"文本对齐",$$slots:{default:[vn]},$$scope:{ctx:t}}}),{c(){S(e.$$.fragment),n=j(),S(l.$$.fragment),r=j(),S(s.$$.fragment),o=j(),S(a.$$.fragment)},m(t,u){q(e,t,u),i(t,n,u),q(l,t,u),i(t,r,u),q(s,t,u),i(t,o,u),q(a,t,u),c=!0},p(t,n){const r={};1048577&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r);const i={};1048577&n&&(i.$$scope={dirty:n,ctx:t}),l.$set(i);const o={};1048577&n&&(o.$$scope={dirty:n,ctx:t}),s.$set(o);const c={};1048577&n&&(c.$$scope={dirty:n,ctx:t}),a.$set(c)},i(t){c||(b(e.$$.fragment,t),b(l.$$.fragment,t),b(s.$$.fragment,t),b(a.$$.fragment,t),c=!0)},o(t){y(e.$$.fragment,t),y(l.$$.fragment,t),y(s.$$.fragment,t),y(a.$$.fragment,t),c=!1},d(t){C(e,t),t&&u(n),C(l,t),t&&u(r),C(s,t),t&&u(o),C(a,t)}}}function yn(t){let e,n;return e=new ht({props:{labelWidth:80,layout:"float",$$slots:{default:[bn]},$$scope:{ctx:t}}}),{c(){S(e.$$.fragment)},m(t,l){q(e,t,l),n=!0},p(t,[n]){const l={};1048577&n&&(l.$$scope={dirty:n,ctx:t}),e.$set(l)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function xn(t,e,n){let l,r;const i=O(),{selected:s,widgets:o,dispatch:a,stage:c}=it((t=>t.editor));let u;Y(t,s,(t=>n(13,r=t))),Y(t,c,(t=>n(12,l=t)));let d={fontSize:12,fontFamily:"",fontStyle:"",text:"",align:"",fill:""};function f(){const t=re(Object.keys(d),u.property);JSON.stringify(d)!==JSON.stringify(t)&&(!function(){const[t]=r;if(!t)return;const e=l.findOne(`#${t}`);Object.entries(d).forEach((([t,n])=>{e.getAttr(t)!==n&&e.setAttr(t,n)}))}(),a("updateWidget",{id:u.id,textProperty:Object.assign(Object.assign({},u.textProperty),d)}))}o.subscribe((t=>{const e=function(t){const e=t.find((t=>1===r.length&&t.id===r[0]));if(!e||"Text"===l.findOne(`#${e.id}`).getClassName())return e}(t);u=e,e&&function(){const t=re(Object.keys(d),u.textProperty);JSON.stringify(d)!==JSON.stringify(t)&&n(0,d=t)}()}));return[d,s,c,f,function({detail:t}){n(0,d.align=gt[t].value,d),f()},function(){i.open({component:$n,header:!1,title:"选择颜色",maskClosable:!0,props:{startColor:d.fill},event:{colorChange:({detail:{r:t,g:e,b:l,a:r}})=>{const i=t=>t.toString(16).padStart(2,"0"),s=i(t),o=i(e),a=i(l),c=i(Math.round(255*r));n(0,d.fill=`#${s}${o}${a}${c}`,d),f()}}})},function(e){t.$$.not_equal(d.text,e)&&(d.text=e,n(0,d))},function(e){t.$$.not_equal(d.fontSize,e)&&(d.fontSize=e,n(0,d))},function(e){t.$$.not_equal(d.fill,e)&&(d.fill=e,n(0,d))},t=>t.value===d.align,function(e){t.$$.not_equal(d.align,e)&&(d.align=e,n(0,d))}]}class wn extends t{constructor(t){super(),e(this,t,xn,yn,n,{})}}function kn(t){let e,n,r,s,o,c,d,$,v;const x=t[4].default,w=l(x,t,t[3],null);return{c(){e=A("div"),n=A("div"),r=A("input"),o=j(),c=A("div"),w&&w.c(),f(r,"class","upload-input svelte-1qfj8ms"),f(r,"type","file"),f(r,"accept",t[1]),r.multiple=s="multiple"===t[0],f(n,"class","upload-wrapper svelte-1qfj8ms"),f(c,"class","upload-content"),f(e,"class","upload svelte-1qfj8ms")},m(l,s){i(l,e,s),a(e,n),a(n,r),a(e,o),a(e,c),w&&w.m(c,null),d=!0,$||(v=p(r,"change",t[2]),$=!0)},p(t,[e]){(!d||2&e)&&f(r,"accept",t[1]),(!d||1&e&&s!==(s="multiple"===t[0]))&&(r.multiple=s),w&&w.p&&(!d||8&e)&&m(w,x,t,t[3],d?h(x,t[3],e,null):g(t[3]),null)},i(t){d||(b(w,t),d=!0)},o(t){y(w,t),d=!1},d(t){t&&u(e),w&&w.d(t),$=!1,v()}}}function Mn(t,e,n){let{$$slots:l={},$$scope:r}=e,{mode:i="single"}=e,{type:s="image/*"}=e;const o=_();return t.$$set=t=>{"mode"in t&&n(0,i=t.mode),"type"in t&&n(1,s=t.type),"$$scope"in t&&n(3,r=t.$$scope)},[i,s,function({target:t}){let e=t.files;if("single"===i){const[t]=e;e=t}o("upload",e)},r,l]}class An extends t{constructor(t){super(),e(this,t,Mn,kn,n,{mode:0,type:1})}}function Sn(t){let e,n;return{c(){e=A("img"),f(e,"class","w-full"),f(e,"alt",""),U(e.src,n=t[0].url)||f(e,"src",n)},m(t,n){i(t,e,n)},p(t,l){1&l&&!U(e.src,n=t[0].url)&&f(e,"src",n)},d(t){t&&u(e)}}}function qn(t){let e,n;return e=new An({props:{$$slots:{default:[Sn]},$$scope:{ctx:t}}}),e.$on("upload",t[3]),{c(){S(e.$$.fragment)},m(t,l){q(e,t,l),n=!0},p(t,n){const l={};32769&n&&(l.$$scope={dirty:n,ctx:t}),e.$set(l)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function zn(t){let e,n;return e=new vt({props:{label:"图片",$$slots:{default:[qn]},$$scope:{ctx:t}}}),{c(){S(e.$$.fragment)},m(t,l){q(e,t,l),n=!0},p(t,n){const l={};32769&n&&(l.$$scope={dirty:n,ctx:t}),e.$set(l)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function Cn(t){let e,n;return e=new ht({props:{labelWidth:80,layout:"float",$$slots:{default:[zn]},$$scope:{ctx:t}}}),{c(){S(e.$$.fragment)},m(t,l){q(e,t,l),n=!0},p(t,[n]){const l={};32769&n&&(l.$$scope={dirty:n,ctx:t}),e.$set(l)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function On(t,e,n){let l,r;O();const{selected:i,widgets:s,dispatch:o,stage:a}=it((t=>t.editor));let c;Y(t,i,(t=>n(6,r=t))),Y(t,a,(t=>n(5,l=t)));let u={url:""};function d(){const t=re(Object.keys(u),c.property);JSON.stringify(u)!==JSON.stringify(t)&&(!function(){const t={url:f},[e]=r;if(!e)return;const n=l.findOne(`#${e}`);Object.entries(u).forEach((([e,l])=>{const r=t[e];r?r(n,l):n.getAttr(e)!==l&&n.setAttr(e,l)}))}(),o("updateWidget",{id:c.id,imageProperty:Object.assign(Object.assign({},c.imageProperty),u)}))}function f(t,e){const n=new Image;n.onload=()=>{t.image(n),t.width(n.width),t.height(n.height),o("updateWidget",{id:c.id,property:Object.assign(Object.assign({},c.property),{width:n.width,height:n.height})})},n.src=e}return s.subscribe((t=>{const e=function(t){const e=t.find((t=>1===r.length&&t.id===r[0]));if(!e||"Image"===l.findOne(`#${e.id}`).getClassName())return e}(t);c=e,e&&function(){const t=re(Object.keys(u),c.imageProperty);JSON.stringify(u)!==JSON.stringify(t)&&n(0,u=t)}()})),[u,i,a,function({detail:t}){rt.get().uploadFile({cloudPath:`images/${t.name}`,filePath:t}).then((({download_url:t})=>{n(0,u.url=t,u),d()}))}]}class jn extends t{constructor(t){super(),e(this,t,On,Cn,n,{})}}function Hn(t){let e,n;return e=new K({props:{title:"基础属性",open:!0,$$slots:{default:[Ln]},$$scope:{ctx:t}}}),{c(){S(e.$$.fragment)},m(t,l){q(e,t,l),n=!0},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function Ln(t){let e,n;return e=new an({}),{c(){S(e.$$.fragment)},m(t,l){q(e,t,l),n=!0},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function Fn(t){let e,n;return e=new K({props:{title:"文本属性",open:!0,$$slots:{default:[Nn]},$$scope:{ctx:t}}}),{c(){S(e.$$.fragment)},m(t,l){q(e,t,l),n=!0},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function Nn(t){let e,n;return e=new wn({}),{c(){S(e.$$.fragment)},m(t,l){q(e,t,l),n=!0},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function Rn(t){let e,n;return e=new K({props:{title:"文本属性",open:!0,$$slots:{default:[Bn]},$$scope:{ctx:t}}}),{c(){S(e.$$.fragment)},m(t,l){q(e,t,l),n=!0},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function Bn(t){let e,n;return e=new jn({}),{c(){S(e.$$.fragment)},m(t,l){q(e,t,l),n=!0},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function En(t){let e,n,l,s,o=t[0]&&Hn(t),a="Text"===t[0]&&Fn(t),c="Image"===t[0]&&Rn(t);return{c(){o&&o.c(),e=j(),a&&a.c(),n=j(),c&&c.c(),l=r()},m(t,r){o&&o.m(t,r),i(t,e,r),a&&a.m(t,r),i(t,n,r),c&&c.m(t,r),i(t,l,r),s=!0},p(t,r){t[0]?o?1&r&&b(o,1):(o=Hn(t),o.c(),b(o,1),o.m(e.parentNode,e)):o&&(L(),y(o,1,1,(()=>{o=null})),F()),"Text"===t[0]?a?1&r&&b(a,1):(a=Fn(t),a.c(),b(a,1),a.m(n.parentNode,n)):a&&(L(),y(a,1,1,(()=>{a=null})),F()),"Image"===t[0]?c?1&r&&b(c,1):(c=Rn(t),c.c(),b(c,1),c.m(l.parentNode,l)):c&&(L(),y(c,1,1,(()=>{c=null})),F())},i(t){s||(b(o),b(a),b(c),s=!0)},o(t){y(o),y(a),y(c),s=!1},d(t){o&&o.d(t),t&&u(e),a&&a.d(t),t&&u(n),c&&c.d(t),t&&u(l)}}}function Vn(t){let e,n,l;return n=new G({props:{size:"sm",$$slots:{default:[En]},$$scope:{ctx:t}}}),{c(){e=A("div"),S(n.$$.fragment),f(e,"class","widget-property")},m(t,r){i(t,e,r),q(n,e,null),l=!0},p(t,[e]){const l={};17&e&&(l.$$scope={dirty:e,ctx:t}),n.$set(l)},i(t){l||(b(n.$$.fragment,t),l=!0)},o(t){y(n.$$.fragment,t),l=!1},d(t){t&&u(e),C(n)}}}function Yn(t,e,n){let l;const{selected:r,stage:i}=it((t=>t.editor));Y(t,i,(t=>n(2,l=t)));let s="";return r.subscribe((t=>{if(1===t.length){const e=l.findOne(`#${t[0]}`).getClassName();n(0,s=e)}else n(0,s="")})),[s,i]}class Tn extends t{constructor(t){super(),e(this,t,Yn,Vn,n,{})}}class In extends t{constructor(t){super(),e(this,t,null,null,n,{})}}function Pn(t){let e,n,l,r,s,o;return e=new tt({props:{label:"属性"}}),l=new tt({props:{label:"页面"}}),s=new tt({props:{label:"行为"}}),{c(){S(e.$$.fragment),n=j(),S(l.$$.fragment),r=j(),S(s.$$.fragment)},m(t,a){q(e,t,a),i(t,n,a),q(l,t,a),i(t,r,a),q(s,t,a),o=!0},p:z,i(t){o||(b(e.$$.fragment,t),b(l.$$.fragment,t),b(s.$$.fragment,t),o=!0)},o(t){y(e.$$.fragment,t),y(l.$$.fragment,t),y(s.$$.fragment,t),o=!1},d(t){C(e,t),t&&u(n),C(l,t),t&&u(r),C(s,t)}}}function _n(t){let e,n;return e=new Tn({}),{c(){S(e.$$.fragment)},m(t,l){q(e,t,l),n=!0},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function Wn(t){let e,n,l=1===t[0].length&&_n();return{c(){l&&l.c(),e=r()},m(t,r){l&&l.m(t,r),i(t,e,r),n=!0},p(t,n){1===t[0].length?l?1&n&&b(l,1):(l=_n(),l.c(),b(l,1),l.m(e.parentNode,e)):l&&(L(),y(l,1,1,(()=>{l=null})),F())},i(t){n||(b(l),n=!0)},o(t){y(l),n=!1},d(t){l&&l.d(t),t&&u(e)}}}function Jn(t){let e,n;return e=new In({}),{c(){S(e.$$.fragment)},m(t,l){q(e,t,l),n=!0},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function Xn(t){let e,n;return e=new In({}),{c(){S(e.$$.fragment)},m(t,l){q(e,t,l),n=!0},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function Zn(t){let e,n,l,r,s,o,c;return n=new et({props:{$$slots:{default:[Wn]},$$scope:{ctx:t}}}),r=new et({props:{$$slots:{default:[Jn]},$$scope:{ctx:t}}}),o=new et({props:{$$slots:{default:[Xn]},$$scope:{ctx:t}}}),{c(){e=A("div"),S(n.$$.fragment),l=j(),S(r.$$.fragment),s=j(),S(o.$$.fragment),f(e,"slot","content")},m(t,u){i(t,e,u),q(n,e,null),a(e,l),q(r,e,null),a(e,s),q(o,e,null),c=!0},p(t,e){const l={};5&e&&(l.$$scope={dirty:e,ctx:t}),n.$set(l);const i={};4&e&&(i.$$scope={dirty:e,ctx:t}),r.$set(i);const s={};4&e&&(s.$$scope={dirty:e,ctx:t}),o.$set(s)},i(t){c||(b(n.$$.fragment,t),b(r.$$.fragment,t),b(o.$$.fragment,t),c=!0)},o(t){y(n.$$.fragment,t),y(r.$$.fragment,t),y(o.$$.fragment,t),c=!1},d(t){t&&u(e),C(n),C(r),C(o)}}}function Dn(t){let e,n,l,r,s;return n=new Q({props:{$$slots:{content:[Zn],default:[Pn]},$$scope:{ctx:t}}}),{c(){e=A("div"),S(n.$$.fragment),f(e,"class","property-container svelte-1ikntx1")},m(t,o){i(t,e,o),q(n,e,null),l=!0,r||(s=p(e,"keydown",Un),r=!0)},p(t,[e]){const l={};5&e&&(l.$$scope={dirty:e,ctx:t}),n.$set(l)},i(t){l||(b(n.$$.fragment,t),l=!0)},o(t){y(n.$$.fragment,t),l=!1},d(t){t&&u(e),C(n),r=!1,s()}}}const Un=t=>t.stopPropagation();function Gn(t,e,n){let l;const{selected:r}=it((t=>t.editor));return Y(t,r,(t=>n(0,l=t))),[l,r]}class Kn extends t{constructor(t){super(),e(this,t,Gn,Dn,n,{})}}function Qn(t){let e,n,l,r,s,o,c,d,$,p,m,g,h;return l=new ge({}),o=new xe({}),$=new Ge({}),g=new Kn({}),{c(){e=A("div"),n=A("div"),S(l.$$.fragment),r=j(),s=A("div"),S(o.$$.fragment),c=j(),d=A("div"),S($.$$.fragment),p=j(),m=A("div"),S(g.$$.fragment),f(n,"class","editor-sidebar relative svelte-evxple"),f(s,"class","editor-content relative svelte-evxple"),f(d,"class","editor-tool relative svelte-evxple"),f(m,"class","editor-property relative svelte-evxple"),f(e,"class","editor-container absolute inset-0 svelte-evxple")},m(t,u){i(t,e,u),a(e,n),q(l,n,null),a(e,r),a(e,s),q(o,s,null),a(e,c),a(e,d),q($,d,null),a(e,p),a(e,m),q(g,m,null),h=!0},i(t){h||(b(l.$$.fragment,t),b(o.$$.fragment,t),b($.$$.fragment,t),b(g.$$.fragment,t),h=!0)},o(t){y(l.$$.fragment,t),y(o.$$.fragment,t),y($.$$.fragment,t),y(g.$$.fragment,t),h=!1},d(t){t&&u(e),C(l),C(o),C($),C(g)}}}function tl(t){let e;return{c(){e=o("保存")},m(t,n){i(t,e,n)},d(t){t&&u(e)}}}function el(t){let e,n;return e=new nt({props:{size:"small",$$slots:{default:[tl]},$$scope:{ctx:t}}}),{c(){S(e.$$.fragment)},m(t,l){q(e,t,l),n=!0},p(t,n){const l={};1&n&&(l.$$scope={dirty:n,ctx:t}),e.$set(l)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function nl(t){let e,n;return e=new lt({props:{title:"编辑中心",layout:"default",$$slots:{action:[el],default:[Qn]},$$scope:{ctx:t}}}),{c(){S(e.$$.fragment)},m(t,l){q(e,t,l),n=!0},p(t,[n]){const l={};1&n&&(l.$$scope={dirty:n,ctx:t}),e.$set(l)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}class ll extends t{constructor(t){super(),e(this,t,null,nl,n,{})}}export{ll as default};
