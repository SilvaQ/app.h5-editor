import{S as t,i as e,s as n,a0 as l,W as r,I as o,k as s,G as i,J as a,Y as c,q as u,j as d,r as f,v as $,L as p,Z as m,_ as g,$ as h,y as v,t as y,g as b,a6 as x,z as w,a7 as k,D as M,f as S,F as q,H as A,m as z,M as C,h as L,N as F,O as E,n as j,a8 as O,a2 as R,a9 as H,aa as B,U as N,ab as Y,ac as _,ad as V,ae as W,a3 as T,a4 as I,af as X,ag as J,ah as P,ai as Z,a1 as G,a5 as U,aj as D,ak as K,al as Q,am as tt,an as et,X as nt}from"./vendor.d78cd3c8.js";import{P as lt}from"./page-container.625cf2c8.js";import{u as rt,W as ot,g as st,s as it,c as at,a as ct,b as ut,d as dt,e as ft,f as $t,t as pt}from"./index.175498c5.js";function mt(t){let e,n;return{c(){e=s("title"),n=i(t[2])},m(t,l){o(t,e,l),a(e,n)},p(t,e){4&e&&c(n,t[2])},d(t){t&&u(e)}}}function gt(t){let e,n,i,c,w;const k=t[11].default,M=l(k,t,t[10],null),S=M||function(t){let e,n=t[2]&&mt(t);return{c(){n&&n.c(),e=r()},m(t,l){n&&n.m(t,l),o(t,e,l)},p(t,l){t[2]?n?n.p(t,l):(n=mt(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&u(e)}}}(t);let q=[{"data-carbon-icon":"SettingsAdjust24"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{width:"24"},{height:"24"},{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},{style:t[3]},{id:t[1]},t[4]],A={};for(let l=0;l<q.length;l+=1)A=d(A,q[l]);return{c(){e=s("svg"),n=s("path"),S&&S.c(),f(n,"d","M30 8h-4.1c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2v2h14.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30V8zM21 12c-1.7 0-3-1.3-3-3s1.3-3 3-3 3 1.3 3 3S22.7 12 21 12zM2 24h4.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30v-2H15.9c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2V24zM11 20c1.7 0 3 1.3 3 3s-1.3 3-3 3-3-1.3-3-3S9.3 20 11 20z"),$(e,A)},m(l,r){o(l,e,r),a(e,n),S&&S.m(e,null),i=!0,c||(w=[p(e,"click",t[12]),p(e,"mouseover",t[13]),p(e,"mouseenter",t[14]),p(e,"mouseleave",t[15]),p(e,"keyup",t[16]),p(e,"keydown",t[17])],c=!0)},p(t,[n]){M?M.p&&(!i||1024&n)&&m(M,k,t,t[10],i?h(k,t[10],n,null):g(t[10]),null):S&&S.p&&(!i||4&n)&&S.p(t,i?n:-1),$(e,A=v(q,[{"data-carbon-icon":"SettingsAdjust24"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{width:"24"},{height:"24"},(!i||1&n)&&{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},(!i||8&n)&&{style:t[3]},(!i||2&n)&&{id:t[1]},16&n&&t[4]]))},i(t){i||(y(S,t),i=!0)},o(t){b(S,t),i=!1},d(t){t&&u(e),S&&S.d(t),c=!1,x(w)}}}function ht(t,e,n){let l,r,o,s,{$$slots:i={},$$scope:a}=e,{class:c}=e,{id:u}=e,{tabindex:f}=e,{focusable:$=!1}=e,{title:p}=e,{style:m}=e;return t.$$set=t=>{n(18,e=d(d({},e),w(t))),"class"in t&&n(0,c=t.class),"id"in t&&n(1,u=t.id),"tabindex"in t&&n(5,f=t.tabindex),"focusable"in t&&n(6,$=t.focusable),"title"in t&&n(2,p=t.title),"style"in t&&n(3,m=t.style),"$$scope"in t&&n(10,a=t.$$scope)},t.$$.update=()=>{n(9,l=e["aria-label"]),n(8,r=e["aria-labelledby"]),772&t.$$.dirty&&n(7,o=l||r||p),992&t.$$.dirty&&n(4,s={"aria-label":l,"aria-labelledby":r,"aria-hidden":!o||void 0,role:o?"img":void 0,focusable:"0"===f||$,tabindex:f})},e=w(e),[c,u,p,m,s,f,$,o,r,l,a,i,function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)}]}var vt=class extends t{constructor(t){super(),e(this,t,ht,gt,n,{class:0,id:1,tabindex:5,focusable:6,title:2,style:3})}};function yt(t){let e,n;return{c(){e=s("title"),n=i(t[2])},m(t,l){o(t,e,l),a(e,n)},p(t,e){4&e&&c(n,t[2])},d(t){t&&u(e)}}}function bt(t){let e,n,i,c,w,k;const M=t[11].default,S=l(M,t,t[10],null),q=S||function(t){let e,n=t[2]&&yt(t);return{c(){n&&n.c(),e=r()},m(t,l){n&&n.m(t,l),o(t,e,l)},p(t,l){t[2]?n?n.p(t,l):(n=yt(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&u(e)}}}(t);let A=[{"data-carbon-icon":"MediaLibrary24"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{width:"24"},{height:"24"},{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},{style:t[3]},{id:t[1]},t[4]],z={};for(let l=0;l<A.length;l+=1)z=d(z,A[l]);return{c(){e=s("svg"),n=s("path"),i=s("path"),q&&q.c(),f(n,"d","M13 15L13 23 13 23 20 19 13 15z"),f(i,"d","M26 28H6a2.0021 2.0021 0 01-2-2V12a2.0021 2.0021 0 012-2H26a2.0021 2.0021 0 012 2V26A2.0021 2.0021 0 0126 28zM6 12V26H26V12zM6 6H26V8H6zM8 2H24V4H8z"),$(e,z)},m(l,r){o(l,e,r),a(e,n),a(e,i),q&&q.m(e,null),c=!0,w||(k=[p(e,"click",t[12]),p(e,"mouseover",t[13]),p(e,"mouseenter",t[14]),p(e,"mouseleave",t[15]),p(e,"keyup",t[16]),p(e,"keydown",t[17])],w=!0)},p(t,[n]){S?S.p&&(!c||1024&n)&&m(S,M,t,t[10],c?h(M,t[10],n,null):g(t[10]),null):q&&q.p&&(!c||4&n)&&q.p(t,c?n:-1),$(e,z=v(A,[{"data-carbon-icon":"MediaLibrary24"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{width:"24"},{height:"24"},(!c||1&n)&&{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},(!c||8&n)&&{style:t[3]},(!c||2&n)&&{id:t[1]},16&n&&t[4]]))},i(t){c||(y(q,t),c=!0)},o(t){b(q,t),c=!1},d(t){t&&u(e),q&&q.d(t),w=!1,x(k)}}}function xt(t,e,n){let l,r,o,s,{$$slots:i={},$$scope:a}=e,{class:c}=e,{id:u}=e,{tabindex:f}=e,{focusable:$=!1}=e,{title:p}=e,{style:m}=e;return t.$$set=t=>{n(18,e=d(d({},e),w(t))),"class"in t&&n(0,c=t.class),"id"in t&&n(1,u=t.id),"tabindex"in t&&n(5,f=t.tabindex),"focusable"in t&&n(6,$=t.focusable),"title"in t&&n(2,p=t.title),"style"in t&&n(3,m=t.style),"$$scope"in t&&n(10,a=t.$$scope)},t.$$.update=()=>{n(9,l=e["aria-label"]),n(8,r=e["aria-labelledby"]),772&t.$$.dirty&&n(7,o=l||r||p),992&t.$$.dirty&&n(4,s={"aria-label":l,"aria-labelledby":r,"aria-hidden":!o||void 0,role:o?"img":void 0,focusable:"0"===f||$,tabindex:f})},e=w(e),[c,u,p,m,s,f,$,o,r,l,a,i,function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)}]}var wt=class extends t{constructor(t){super(),e(this,t,xt,bt,n,{class:0,id:1,tabindex:5,focusable:6,title:2,style:3})}};function kt(t){let e,n;return{c(){e=s("title"),n=i(t[2])},m(t,l){o(t,e,l),a(e,n)},p(t,e){4&e&&c(n,t[2])},d(t){t&&u(e)}}}function Mt(t){let e,n,i,c,w,k;const M=t[11].default,S=l(M,t,t[10],null),q=S||function(t){let e,n=t[2]&&kt(t);return{c(){n&&n.c(),e=r()},m(t,l){n&&n.m(t,l),o(t,e,l)},p(t,l){t[2]?n?n.p(t,l):(n=kt(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&u(e)}}}(t);let A=[{"data-carbon-icon":"TextScale20"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{width:"20"},{height:"20"},{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},{style:t[3]},{id:t[1]},t[4]],z={};for(let l=0;l<A.length;l+=1)z=d(z,A[l]);return{c(){e=s("svg"),n=s("path"),i=s("path"),q&&q.c(),f(n,"d","M30 5L30 8 22 8 22 26 19 26 19 8 11 8 11 5 30 5z"),f(i,"d","M7 26L7 14 2 14 2 12 14 12 14 14 9 14 9 26 7 26z"),$(e,z)},m(l,r){o(l,e,r),a(e,n),a(e,i),q&&q.m(e,null),c=!0,w||(k=[p(e,"click",t[12]),p(e,"mouseover",t[13]),p(e,"mouseenter",t[14]),p(e,"mouseleave",t[15]),p(e,"keyup",t[16]),p(e,"keydown",t[17])],w=!0)},p(t,[n]){S?S.p&&(!c||1024&n)&&m(S,M,t,t[10],c?h(M,t[10],n,null):g(t[10]),null):q&&q.p&&(!c||4&n)&&q.p(t,c?n:-1),$(e,z=v(A,[{"data-carbon-icon":"TextScale20"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{width:"20"},{height:"20"},(!c||1&n)&&{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},(!c||8&n)&&{style:t[3]},(!c||2&n)&&{id:t[1]},16&n&&t[4]]))},i(t){c||(y(q,t),c=!0)},o(t){b(q,t),c=!1},d(t){t&&u(e),q&&q.d(t),w=!1,x(k)}}}function St(t,e,n){let l,r,o,s,{$$slots:i={},$$scope:a}=e,{class:c}=e,{id:u}=e,{tabindex:f}=e,{focusable:$=!1}=e,{title:p}=e,{style:m}=e;return t.$$set=t=>{n(18,e=d(d({},e),w(t))),"class"in t&&n(0,c=t.class),"id"in t&&n(1,u=t.id),"tabindex"in t&&n(5,f=t.tabindex),"focusable"in t&&n(6,$=t.focusable),"title"in t&&n(2,p=t.title),"style"in t&&n(3,m=t.style),"$$scope"in t&&n(10,a=t.$$scope)},t.$$.update=()=>{n(9,l=e["aria-label"]),n(8,r=e["aria-labelledby"]),772&t.$$.dirty&&n(7,o=l||r||p),992&t.$$.dirty&&n(4,s={"aria-label":l,"aria-labelledby":r,"aria-hidden":!o||void 0,role:o?"img":void 0,focusable:"0"===f||$,tabindex:f})},e=w(e),[c,u,p,m,s,f,$,o,r,l,a,i,function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)}]}var qt=class extends t{constructor(t){super(),e(this,t,St,Mt,n,{class:0,id:1,tabindex:5,focusable:6,title:2,style:3})}};function At(t){let e,n;return{c(){e=s("title"),n=i(t[2])},m(t,l){o(t,e,l),a(e,n)},p(t,e){4&e&&c(n,t[2])},d(t){t&&u(e)}}}function zt(t){let e,n,i,c,w,k;const M=t[11].default,S=l(M,t,t[10],null),q=S||function(t){let e,n=t[2]&&At(t);return{c(){n&&n.c(),e=r()},m(t,l){n&&n.m(t,l),o(t,e,l)},p(t,l){t[2]?n?n.p(t,l):(n=At(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&u(e)}}}(t);let A=[{"data-carbon-icon":"Image20"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{width:"20"},{height:"20"},{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},{style:t[3]},{id:t[1]},t[4]],z={};for(let l=0;l<A.length;l+=1)z=d(z,A[l]);return{c(){e=s("svg"),n=s("path"),i=s("path"),q&&q.c(),f(n,"d","M19,14a3,3,0,1,0-3-3A3,3,0,0,0,19,14Zm0-4a1,1,0,1,1-1,1A1,1,0,0,1,19,10Z"),f(i,"d","M26,4H6A2,2,0,0,0,4,6V26a2,2,0,0,0,2,2H26a2,2,0,0,0,2-2V6A2,2,0,0,0,26,4Zm0,22H6V20l5-5,5.59,5.59a2,2,0,0,0,2.82,0L21,19l5,5Zm0-4.83-3.59-3.59a2,2,0,0,0-2.82,0L18,19.17l-5.59-5.59a2,2,0,0,0-2.82,0L6,17.17V6H26Z"),$(e,z)},m(l,r){o(l,e,r),a(e,n),a(e,i),q&&q.m(e,null),c=!0,w||(k=[p(e,"click",t[12]),p(e,"mouseover",t[13]),p(e,"mouseenter",t[14]),p(e,"mouseleave",t[15]),p(e,"keyup",t[16]),p(e,"keydown",t[17])],w=!0)},p(t,[n]){S?S.p&&(!c||1024&n)&&m(S,M,t,t[10],c?h(M,t[10],n,null):g(t[10]),null):q&&q.p&&(!c||4&n)&&q.p(t,c?n:-1),$(e,z=v(A,[{"data-carbon-icon":"Image20"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{width:"20"},{height:"20"},(!c||1&n)&&{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},(!c||8&n)&&{style:t[3]},(!c||2&n)&&{id:t[1]},16&n&&t[4]]))},i(t){c||(y(q,t),c=!0)},o(t){b(q,t),c=!1},d(t){t&&u(e),q&&q.d(t),w=!1,x(k)}}}function Ct(t,e,n){let l,r,o,s,{$$slots:i={},$$scope:a}=e,{class:c}=e,{id:u}=e,{tabindex:f}=e,{focusable:$=!1}=e,{title:p}=e,{style:m}=e;return t.$$set=t=>{n(18,e=d(d({},e),w(t))),"class"in t&&n(0,c=t.class),"id"in t&&n(1,u=t.id),"tabindex"in t&&n(5,f=t.tabindex),"focusable"in t&&n(6,$=t.focusable),"title"in t&&n(2,p=t.title),"style"in t&&n(3,m=t.style),"$$scope"in t&&n(10,a=t.$$scope)},t.$$.update=()=>{n(9,l=e["aria-label"]),n(8,r=e["aria-labelledby"]),772&t.$$.dirty&&n(7,o=l||r||p),992&t.$$.dirty&&n(4,s={"aria-label":l,"aria-labelledby":r,"aria-hidden":!o||void 0,role:o?"img":void 0,focusable:"0"===f||$,tabindex:f})},e=w(e),[c,u,p,m,s,f,$,o,r,l,a,i,function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)}]}var Lt=class extends t{constructor(t){super(),e(this,t,Ct,zt,n,{class:0,id:1,tabindex:5,focusable:6,title:2,style:3})}};function Ft(t,e,n){const l=t.slice();return l[8]=e[n],l}function Et(t,e,n){const l=t.slice();return l[11]=e[n],l}function jt(t){let e,n,l,r,s,c,d,$,m,g=t[11].label+"";var h=t[11].icon;function v(){return t[4](t[11])}return h&&(n=new h({})),{c(){e=M("div"),n&&S(n.$$.fragment),l=q(),r=M("div"),s=i(g),c=q(),f(r,"class","pt-2 text-xs"),f(e,"class","menu-item flex flex-col justify-center items-center py-3 hover:text-blue-500 cursor-pointer svelte-5xo7rr"),A(e,"active",t[0]==t[11].name)},m(t,i){o(t,e,i),n&&z(n,e,null),a(e,l),a(e,r),a(r,s),a(e,c),d=!0,$||(m=p(e,"click",v),$=!0)},p(r,o){if(h!==(h=(t=r)[11].icon)){if(n){C();const t=n;b(t.$$.fragment,1,0,(()=>{L(t,1)})),F()}h?(n=new h({}),S(n.$$.fragment),y(n.$$.fragment,1),z(n,e,l)):n=null}9&o&&A(e,"active",t[0]==t[11].name)},i(t){d||(n&&y(n.$$.fragment,t),d=!0)},o(t){n&&b(n.$$.fragment,t),d=!1},d(t){t&&u(e),n&&L(n),$=!1,m()}}}function Ot(t){let e,n,l,r,s,d,$,m,g,h=t[8].label+"";var v=t[8].icon;function x(){return t[5](t[8])}return v&&(n=new v({})),{c(){e=M("div"),n&&S(n.$$.fragment),l=q(),r=M("div"),s=i(h),d=q(),f(r,"class","pt-2 text-xs"),f(e,"class","widget bg-gray-100 hover:bg-gray-50 hover:text-blue-500 cursor-pointer svelte-5xo7rr")},m(t,i){o(t,e,i),n&&z(n,e,null),a(e,l),a(e,r),a(r,s),a(e,d),$=!0,m||(g=p(e,"click",x),m=!0)},p(r,o){if(v!==(v=(t=r)[8].icon)){if(n){C();const t=n;b(t.$$.fragment,1,0,(()=>{L(t,1)})),F()}v?(n=new v({}),S(n.$$.fragment),y(n.$$.fragment,1),z(n,e,l)):n=null}(!$||2&o)&&h!==(h=t[8].label+"")&&c(s,h)},i(t){$||(n&&y(n.$$.fragment,t),$=!0)},o(t){n&&b(n.$$.fragment,t),$=!1},d(t){t&&u(e),n&&L(n),m=!1,g()}}}function Rt(t){let e,n,l,r,s,i=t[3],c=[];for(let o=0;o<i.length;o+=1)c[o]=jt(Et(t,i,o));const d=t=>b(c[t],1,1,(()=>{c[t]=null}));let $=t[1],p=[];for(let o=0;o<$.length;o+=1)p[o]=Ot(Ft(t,$,o));const m=t=>b(p[t],1,1,(()=>{p[t]=null}));return{c(){e=M("div"),n=M("div");for(let t=0;t<c.length;t+=1)c[t].c();l=q(),r=M("div");for(let t=0;t<p.length;t+=1)p[t].c();f(n,"class","menu svelte-5xo7rr"),f(r,"class","widget-panel flex flex-auto flex-wrap svelte-5xo7rr"),f(e,"class","absolute inset-0 flex flex-column")},m(t,i){o(t,e,i),a(e,n);for(let e=0;e<c.length;e+=1)c[e].m(n,null);a(e,l),a(e,r);for(let e=0;e<p.length;e+=1)p[e].m(r,null);s=!0},p(t,[e]){if(9&e){let l;for(i=t[3],l=0;l<i.length;l+=1){const r=Et(t,i,l);c[l]?(c[l].p(r,e),y(c[l],1)):(c[l]=jt(r),c[l].c(),y(c[l],1),c[l].m(n,null))}for(C(),l=i.length;l<c.length;l+=1)d(l);F()}if(6&e){let n;for($=t[1],n=0;n<$.length;n+=1){const l=Ft(t,$,n);p[n]?(p[n].p(l,e),y(p[n],1)):(p[n]=Ot(l),p[n].c(),y(p[n],1),p[n].m(r,null))}for(C(),n=$.length;n<p.length;n+=1)m(n);F()}},i(t){if(!s){for(let t=0;t<i.length;t+=1)y(c[t]);for(let t=0;t<$.length;t+=1)y(p[t]);s=!0}},o(t){c=c.filter(Boolean);for(let e=0;e<c.length;e+=1)b(c[e]);p=p.filter(Boolean);for(let e=0;e<p.length;e+=1)b(p[e]);s=!1},d(t){t&&u(e),E(c,t),E(p,t)}}}function Ht(t,e,n){let l;const{dispatch:r}=rt((t=>t.editor));let o="base";const s=[{label:"文字",event:ot.text,icon:qt},{label:"图片",event:ot.image,icon:Lt}],i=[{label:"基础",name:"base",icon:vt,widgets:s},{label:"引用",name:"quote",icon:wt,widgets:[]}];return t.$$.update=()=>{1&t.$$.dirty&&n(1,l=i.find((t=>t.name===o)).widgets)},[o,l,r,i,t=>n(0,o=t.name),t=>r("createWidget",t.event)]}class Bt extends t{constructor(t){super(),e(this,t,Ht,Rt,n,{})}}function Nt(t){window.addEventListener("keydown",(e=>{e.ctrlKey&&("c"===e.key&&function(t){const e=st(t);if(!e)return;const n=e.getNodes().filter((t=>t.visible()));it.dispatch("updateCopied",[...n])}(t),"v"===e.key&&function(){const{widgets:t,copied:e}=it.get();if(0===e.length)return;const n=t.filter((t=>e.map((t=>t.id())).includes(t.id)));n.length&&n.map((t=>at(t))).forEach((t=>it.dispatch("createWidget",t)))}())}))}function Yt(t){return null!=t&&"object"==typeof t&&!0===t["@@functional/placeholder"]}function _t(t){return function e(n){return 0===arguments.length||Yt(n)?e:t.apply(this,arguments)}}function Vt(t){return function e(n,l){switch(arguments.length){case 0:return e;case 1:return Yt(n)?e:_t((function(e){return t(n,e)}));default:return Yt(n)&&Yt(l)?e:Yt(n)?_t((function(e){return t(e,l)})):Yt(l)?_t((function(e){return t(n,e)})):t(n,l)}}}function Wt(t,e){switch(t){case 0:return function(){return e.apply(this,arguments)};case 1:return function(t){return e.apply(this,arguments)};case 2:return function(t,n){return e.apply(this,arguments)};case 3:return function(t,n,l){return e.apply(this,arguments)};case 4:return function(t,n,l,r){return e.apply(this,arguments)};case 5:return function(t,n,l,r,o){return e.apply(this,arguments)};case 6:return function(t,n,l,r,o,s){return e.apply(this,arguments)};case 7:return function(t,n,l,r,o,s,i){return e.apply(this,arguments)};case 8:return function(t,n,l,r,o,s,i,a){return e.apply(this,arguments)};case 9:return function(t,n,l,r,o,s,i,a,c){return e.apply(this,arguments)};case 10:return function(t,n,l,r,o,s,i,a,c,u){return e.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}function Tt(t){return function e(n,l,r){switch(arguments.length){case 0:return e;case 1:return Yt(n)?e:Vt((function(e,l){return t(n,e,l)}));case 2:return Yt(n)&&Yt(l)?e:Yt(n)?Vt((function(e,n){return t(e,l,n)})):Yt(l)?Vt((function(e,l){return t(n,e,l)})):_t((function(e){return t(n,l,e)}));default:return Yt(n)&&Yt(l)&&Yt(r)?e:Yt(n)&&Yt(l)?Vt((function(e,n){return t(e,n,r)})):Yt(n)&&Yt(r)?Vt((function(e,n){return t(e,l,n)})):Yt(l)&&Yt(r)?Vt((function(e,l){return t(n,e,l)})):Yt(n)?_t((function(e){return t(e,l,r)})):Yt(l)?_t((function(e){return t(n,e,r)})):Yt(r)?_t((function(e){return t(n,l,e)})):t(n,l,r)}}}var It=Array.isArray||function(t){return null!=t&&t.length>=0&&"[object Array]"===Object.prototype.toString.call(t)};function Xt(t){return null!=t&&"function"==typeof t["@@transducer/step"]}function Jt(t,e,n){return function(){if(0===arguments.length)return n();var l=Array.prototype.slice.call(arguments,0),r=l.pop();if(!It(r)){for(var o=0;o<t.length;){if("function"==typeof r[t[o]])return r[t[o]].apply(r,l);o+=1}if(Xt(r)){var s=e.apply(null,l);return s(r)}}return n.apply(this,arguments)}}var Pt=function(){return this.xf["@@transducer/init"]()},Zt=function(t){return this.xf["@@transducer/result"](t)};var Gt=_t((function(t){return!!It(t)||!!t&&("object"==typeof t&&(!function(t){return"[object String]"===Object.prototype.toString.call(t)}(t)&&(1===t.nodeType?!!t.length:0===t.length||t.length>0&&(t.hasOwnProperty(0)&&t.hasOwnProperty(t.length-1)))))})),Ut=function(){function t(t){this.f=t}return t.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},t.prototype["@@transducer/result"]=function(t){return t},t.prototype["@@transducer/step"]=function(t,e){return this.f(t,e)},t}();var Dt=Vt((function(t,e){return Wt(t.length,(function(){return t.apply(e,arguments)}))}));function Kt(t,e,n){for(var l=n.next();!l.done;){if((e=t["@@transducer/step"](e,l.value))&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}l=n.next()}return t["@@transducer/result"](e)}function Qt(t,e,n,l){return t["@@transducer/result"](n[l](Dt(t["@@transducer/step"],t),e))}var te="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";function ee(t,e,n){if("function"==typeof t&&(t=function(t){return new Ut(t)}(t)),Gt(n))return function(t,e,n){for(var l=0,r=n.length;l<r;){if((e=t["@@transducer/step"](e,n[l]))&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}l+=1}return t["@@transducer/result"](e)}(t,e,n);if("function"==typeof n["fantasy-land/reduce"])return Qt(t,e,n,"fantasy-land/reduce");if(null!=n[te])return Kt(t,e,n[te]());if("function"==typeof n.next)return Kt(t,e,n);if("function"==typeof n.reduce)return Qt(t,e,n,"reduce");throw new TypeError("reduce: list must be array or iterable")}var ne=Tt(ee);function le(t,e){return function(){return e.call(this,t.apply(this,arguments))}}function re(t,e){return function(){var n=arguments.length;if(0===n)return e();var l=arguments[n-1];return It(l)||"function"!=typeof l[t]?e.apply(this,arguments):l[t].apply(l,Array.prototype.slice.call(arguments,0,n-1))}}var oe=_t(re("tail",Tt(re("slice",(function(t,e,n){return Array.prototype.slice.call(n,t,e)})))(1,1/0)));var se=Vt((function(t,e){for(var n={},l=0;l<t.length;)t[l]in e&&(n[t[l]]=e[t[l]]),l+=1;return n})),ie=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype["@@transducer/init"]=Pt,t.prototype["@@transducer/result"]=Zt,t.prototype["@@transducer/step"]=function(t,e){return this.f(e),this.xf["@@transducer/step"](t,e)},t}(),ae=Vt(Jt([],Vt((function(t,e){return new ie(t,e)})),(function(t,e){return t(e),e})));function ce(t){window.addEventListener("keydown",(e=>{if("Backspace"!==e.key)return;ct(t).forEach((t=>{it.dispatch("deleteWidget",t.id())}))}))}function ue(t){let e;return{c(){e=M("div"),f(e,"id","convas-container"),f(e,"class","content-container absolute inset-0 svelte-1lg75l6")},m(n,l){o(n,e,l),t[1](e)},p:j,i:j,o:j,d(n){n&&u(e),t[1](null)}}}function de(t,e,n){let l;function r(t){window.addEventListener("resize",(()=>dt(t)))}return O((()=>{const t=ut(l);!function(){if(0===arguments.length)throw new Error("pipe requires at least one argument");return Wt(arguments[0].length,ne(le,arguments[0],oe(arguments)))}(ae($t),ae(ft),ae(Nt),ae(r),ae(dt),ae(ce))(t)})),[l,function(t){R[t?"unshift":"push"]((()=>{l=t,n(0,l)}))}]}class fe extends t{constructor(t){super(),e(this,t,de,ue,n,{})}}function $e(t){let e,n;return{c(){e=s("title"),n=i(t[2])},m(t,l){o(t,e,l),a(e,n)},p(t,e){4&e&&c(n,t[2])},d(t){t&&u(e)}}}function pe(t){let e,n,i,c,w;const k=t[11].default,M=l(k,t,t[10],null),S=M||function(t){let e,n=t[2]&&$e(t);return{c(){n&&n.c(),e=r()},m(t,l){n&&n.m(t,l),o(t,e,l)},p(t,l){t[2]?n?n.p(t,l):(n=$e(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&u(e)}}}(t);let q=[{"data-carbon-icon":"Reset16"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{width:"16"},{height:"16"},{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},{style:t[3]},{id:t[1]},t[4]],A={};for(let l=0;l<q.length;l+=1)A=d(A,q[l]);return{c(){e=s("svg"),n=s("path"),S&&S.c(),f(n,"d","M18,28A12,12,0,1,0,6,16v6.2L2.4,18.6,1,20l6,6,6-6-1.4-1.4L8,22.2V16H8A10,10,0,1,1,18,26Z"),$(e,A)},m(l,r){o(l,e,r),a(e,n),S&&S.m(e,null),i=!0,c||(w=[p(e,"click",t[12]),p(e,"mouseover",t[13]),p(e,"mouseenter",t[14]),p(e,"mouseleave",t[15]),p(e,"keyup",t[16]),p(e,"keydown",t[17])],c=!0)},p(t,[n]){M?M.p&&(!i||1024&n)&&m(M,k,t,t[10],i?h(k,t[10],n,null):g(t[10]),null):S&&S.p&&(!i||4&n)&&S.p(t,i?n:-1),$(e,A=v(q,[{"data-carbon-icon":"Reset16"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{width:"16"},{height:"16"},(!i||1&n)&&{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},(!i||8&n)&&{style:t[3]},(!i||2&n)&&{id:t[1]},16&n&&t[4]]))},i(t){i||(y(S,t),i=!0)},o(t){b(S,t),i=!1},d(t){t&&u(e),S&&S.d(t),c=!1,x(w)}}}function me(t,e,n){let l,r,o,s,{$$slots:i={},$$scope:a}=e,{class:c}=e,{id:u}=e,{tabindex:f}=e,{focusable:$=!1}=e,{title:p}=e,{style:m}=e;return t.$$set=t=>{n(18,e=d(d({},e),w(t))),"class"in t&&n(0,c=t.class),"id"in t&&n(1,u=t.id),"tabindex"in t&&n(5,f=t.tabindex),"focusable"in t&&n(6,$=t.focusable),"title"in t&&n(2,p=t.title),"style"in t&&n(3,m=t.style),"$$scope"in t&&n(10,a=t.$$scope)},t.$$.update=()=>{n(9,l=e["aria-label"]),n(8,r=e["aria-labelledby"]),772&t.$$.dirty&&n(7,o=l||r||p),992&t.$$.dirty&&n(4,s={"aria-label":l,"aria-labelledby":r,"aria-hidden":!o||void 0,role:o?"img":void 0,focusable:"0"===f||$,tabindex:f})},e=w(e),[c,u,p,m,s,f,$,o,r,l,a,i,function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)}]}var ge=class extends t{constructor(t){super(),e(this,t,me,pe,n,{class:0,id:1,tabindex:5,focusable:6,title:2,style:3})}};function he(t){let e,n;return{c(){e=s("title"),n=i(t[2])},m(t,l){o(t,e,l),a(e,n)},p(t,e){4&e&&c(n,t[2])},d(t){t&&u(e)}}}function ve(t){let e,n,i,c,w;const k=t[11].default,M=l(k,t,t[10],null),S=M||function(t){let e,n=t[2]&&he(t);return{c(){n&&n.c(),e=r()},m(t,l){n&&n.m(t,l),o(t,e,l)},p(t,l){t[2]?n?n.p(t,l):(n=he(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&u(e)}}}(t);let q=[{"data-carbon-icon":"Rotate16"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{width:"16"},{height:"16"},{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},{style:t[3]},{id:t[1]},t[4]],A={};for(let l=0;l<q.length;l+=1)A=d(A,q[l]);return{c(){e=s("svg"),n=s("path"),S&&S.c(),f(n,"d","M17.91 26.82l.35 2a12.9 12.9 0 004.24-1.54l-1-1.73A10.88 10.88 0 0117.91 26.82zM24.42 23.07L26 24.35a13 13 0 002.24-3.91l-1.87-.68A11 11 0 0124.42 23.07zM9.5 27.25a12.9 12.9 0 004.24 1.54l.35-2a10.88 10.88 0 01-3.59-1.3zM5.67 19.76l-1.87.68A13 13 0 006 24.35l.32-.26 1.22-1h0a11 11 0 01-1.91-3.31zM29 16a12.85 12.85 0 00-.8-4.44l-1.87.68A11.18 11.18 0 0127 16zM26 7.65a13 13 0 00-20 0V4H4v8h8V10H6.81A11 11 0 0124.42 8.93z"),$(e,A)},m(l,r){o(l,e,r),a(e,n),S&&S.m(e,null),i=!0,c||(w=[p(e,"click",t[12]),p(e,"mouseover",t[13]),p(e,"mouseenter",t[14]),p(e,"mouseleave",t[15]),p(e,"keyup",t[16]),p(e,"keydown",t[17])],c=!0)},p(t,[n]){M?M.p&&(!i||1024&n)&&m(M,k,t,t[10],i?h(k,t[10],n,null):g(t[10]),null):S&&S.p&&(!i||4&n)&&S.p(t,i?n:-1),$(e,A=v(q,[{"data-carbon-icon":"Rotate16"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{width:"16"},{height:"16"},(!i||1&n)&&{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},(!i||8&n)&&{style:t[3]},(!i||2&n)&&{id:t[1]},16&n&&t[4]]))},i(t){i||(y(S,t),i=!0)},o(t){b(S,t),i=!1},d(t){t&&u(e),S&&S.d(t),c=!1,x(w)}}}function ye(t,e,n){let l,r,o,s,{$$slots:i={},$$scope:a}=e,{class:c}=e,{id:u}=e,{tabindex:f}=e,{focusable:$=!1}=e,{title:p}=e,{style:m}=e;return t.$$set=t=>{n(18,e=d(d({},e),w(t))),"class"in t&&n(0,c=t.class),"id"in t&&n(1,u=t.id),"tabindex"in t&&n(5,f=t.tabindex),"focusable"in t&&n(6,$=t.focusable),"title"in t&&n(2,p=t.title),"style"in t&&n(3,m=t.style),"$$scope"in t&&n(10,a=t.$$scope)},t.$$.update=()=>{n(9,l=e["aria-label"]),n(8,r=e["aria-labelledby"]),772&t.$$.dirty&&n(7,o=l||r||p),992&t.$$.dirty&&n(4,s={"aria-label":l,"aria-labelledby":r,"aria-hidden":!o||void 0,role:o?"img":void 0,focusable:"0"===f||$,tabindex:f})},e=w(e),[c,u,p,m,s,f,$,o,r,l,a,i,function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)}]}var be=class extends t{constructor(t){super(),e(this,t,ye,ve,n,{class:0,id:1,tabindex:5,focusable:6,title:2,style:3})}};function xe(t){let e,n;return{c(){e=s("title"),n=i(t[2])},m(t,l){o(t,e,l),a(e,n)},p(t,e){4&e&&c(n,t[2])},d(t){t&&u(e)}}}function we(t){let e,n,i,c,w;const k=t[11].default,M=l(k,t,t[10],null),S=M||function(t){let e,n=t[2]&&xe(t);return{c(){n&&n.c(),e=r()},m(t,l){n&&n.m(t,l),o(t,e,l)},p(t,l){t[2]?n?n.p(t,l):(n=xe(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&u(e)}}}(t);let q=[{"data-carbon-icon":"WatsonHealthRotate_18016"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{width:"16"},{height:"16"},{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},{style:t[3]},{id:t[1]},t[4]],A={};for(let l=0;l<q.length;l+=1)A=d(A,q[l]);return{c(){e=s("svg"),n=s("path"),S&&S.c(),f(n,"d","M14.0913 26.8235l-.3467 1.968a12.8956 12.8956 0 01-4.24-1.5418l1-1.7307A10.9086 10.9086 0 0014.0913 26.8235zM7.5767 23.0682L6.0449 24.3533a12.9811 12.9811 0 01-2.25-3.9112l1.8775-.6834A10.9808 10.9808 0 007.5767 23.0682zM22.4951 27.25a12.8956 12.8956 0 01-4.24 1.5418l-.3467-1.968a10.9086 10.9086 0 003.5869-1.3045zM26.3271 19.7587l1.8775.6834a12.9811 12.9811 0 01-2.2495 3.9112l-.3115-.2614-1.22-1.0237h0a10.9822 10.9822 0 001.9038-3.3093zM13.6616 5.2559c-.1592.0346-.3144.08-.4712.1215-.2131.0562-.4258.1138-.6335.1822-.1643.0547-.325.1167-.4859.1782-.1926.0742-.3835.1509-.57.2349-.1611.0727-.3193.15-.4763.23q-.2677.1363-.5262.2867c-.153.0893-.3046.18-.4531.2758-.1679.1089-.3308.2242-.4922.3413-.1406.1026-.2817.2037-.417.3125-.1616.1294-.3156.2676-.47.4063-.1225.11-.2478.2168-.3652.332-.1668.1636-.3223.3379-.4785.5117A10.9438 10.9438 0 005 16H3A12.9363 12.9363 0 016.05 7.65l-.0047-.0039c.0918-.1094.197-.2061.2925-.3125.1841-.2051.3672-.41.5635-.603.1382-.1358.2856-.2613.43-.3907.1831-.1645.3657-.3286.5581-.4824.1592-.1279.3244-.2466.4895-.3667.1921-.14.3855-.2768.5854-.4062.1743-.1128.3523-.2188.5322-.3238q.3081-.1786.6253-.3408c.1846-.0942.37-.1846.56-.27.2224-.1.449-.1914.678-.2793.1894-.0723.3777-.1455.5713-.209.2463-.0815.498-.1494.7507-.2163.1848-.0493.3674-.1025.5554-.1431.29-.0634.5865-.1074.8833-.1508.159-.023.3145-.0552.4754-.0728A12.9331 12.9331 0 0126 7.7031V4h2v8H20V10h5.1885A10.961 10.961 0 0016 5a11.1114 11.1114 0 00-1.189.0669c-.1362.0146-.268.042-.4026.0615C14.1575 5.165 13.907 5.2026 13.6616 5.2559z"),$(e,A)},m(l,r){o(l,e,r),a(e,n),S&&S.m(e,null),i=!0,c||(w=[p(e,"click",t[12]),p(e,"mouseover",t[13]),p(e,"mouseenter",t[14]),p(e,"mouseleave",t[15]),p(e,"keyup",t[16]),p(e,"keydown",t[17])],c=!0)},p(t,[n]){M?M.p&&(!i||1024&n)&&m(M,k,t,t[10],i?h(k,t[10],n,null):g(t[10]),null):S&&S.p&&(!i||4&n)&&S.p(t,i?n:-1),$(e,A=v(q,[{"data-carbon-icon":"WatsonHealthRotate_18016"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{width:"16"},{height:"16"},(!i||1&n)&&{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},(!i||8&n)&&{style:t[3]},(!i||2&n)&&{id:t[1]},16&n&&t[4]]))},i(t){i||(y(S,t),i=!0)},o(t){b(S,t),i=!1},d(t){t&&u(e),S&&S.d(t),c=!1,x(w)}}}function ke(t,e,n){let l,r,o,s,{$$slots:i={},$$scope:a}=e,{class:c}=e,{id:u}=e,{tabindex:f}=e,{focusable:$=!1}=e,{title:p}=e,{style:m}=e;return t.$$set=t=>{n(18,e=d(d({},e),w(t))),"class"in t&&n(0,c=t.class),"id"in t&&n(1,u=t.id),"tabindex"in t&&n(5,f=t.tabindex),"focusable"in t&&n(6,$=t.focusable),"title"in t&&n(2,p=t.title),"style"in t&&n(3,m=t.style),"$$scope"in t&&n(10,a=t.$$scope)},t.$$.update=()=>{n(9,l=e["aria-label"]),n(8,r=e["aria-labelledby"]),772&t.$$.dirty&&n(7,o=l||r||p),992&t.$$.dirty&&n(4,s={"aria-label":l,"aria-labelledby":r,"aria-hidden":!o||void 0,role:o?"img":void 0,focusable:"0"===f||$,tabindex:f})},e=w(e),[c,u,p,m,s,f,$,o,r,l,a,i,function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)},function(e){k.call(this,t,e)}]}var Me=class extends t{constructor(t){super(),e(this,t,ke,we,n,{class:0,id:1,tabindex:5,focusable:6,title:2,style:3})}};function Se(t){let e,n,l,r,s,d,$,m,g,h,v,w,k,E,j,O,R,N,Y,_,V,W,T,I,X=(100*t[0]).toFixed(0)+"";var J=be;J&&(r=new J({}));var P=Me;P&&($=new P({}));var Z=H;Z&&(v=new Z({}));var G=B;G&&(N=new G({}));var U=ge;return U&&(V=new U({})),{c(){e=M("div"),n=M("div"),l=M("div"),r&&S(r.$$.fragment),s=q(),d=M("div"),$&&S($.$$.fragment),m=q(),g=M("div"),h=M("div"),v&&S(v.$$.fragment),w=q(),k=M("div"),E=i(X),j=i("%"),O=q(),R=M("div"),N&&S(N.$$.fragment),Y=q(),_=M("div"),V&&S(V.$$.fragment),f(l,"class","icon-button svelte-1bds2xv"),A(l,"disabled",0===t[1].backward.length),f(d,"class","icon-button svelte-1bds2xv"),A(d,"disabled",0===t[1].forward.length),f(n,"class","history mb-10"),f(h,"class","icon-button svelte-1bds2xv"),f(k,"class","zoom-value svelte-1bds2xv"),f(R,"class","icon-button svelte-1bds2xv"),f(_,"class","icon-button svelte-1bds2xv"),f(g,"class","zoom"),f(e,"class","tool-container absolute inset-0 flex flex-col items-center svelte-1bds2xv")},m(i,c){o(i,e,c),a(e,n),a(n,l),r&&z(r,l,null),a(n,s),a(n,d),$&&z($,d,null),a(e,m),a(e,g),a(g,h),v&&z(v,h,null),a(g,w),a(g,k),a(k,E),a(k,j),a(g,O),a(g,R),N&&z(N,R,null),a(g,Y),a(g,_),V&&z(V,_,null),W=!0,T||(I=[p(l,"click",t[6]),p(d,"click",t[7]),p(h,"click",t[8]),p(R,"click",t[9]),p(_,"click",t[10]),p(e,"keydown",qe)],T=!0)},p(t,[e]){if(J!==(J=be)){if(r){C();const t=r;b(t.$$.fragment,1,0,(()=>{L(t,1)})),F()}J?(r=new J({}),S(r.$$.fragment),y(r.$$.fragment,1),z(r,l,null)):r=null}if(2&e&&A(l,"disabled",0===t[1].backward.length),P!==(P=Me)){if($){C();const t=$;b(t.$$.fragment,1,0,(()=>{L(t,1)})),F()}P?($=new P({}),S($.$$.fragment),y($.$$.fragment,1),z($,d,null)):$=null}if(2&e&&A(d,"disabled",0===t[1].forward.length),Z!==(Z=H)){if(v){C();const t=v;b(t.$$.fragment,1,0,(()=>{L(t,1)})),F()}Z?(v=new Z({}),S(v.$$.fragment),y(v.$$.fragment,1),z(v,h,null)):v=null}if((!W||1&e)&&X!==(X=(100*t[0]).toFixed(0)+"")&&c(E,X),G!==(G=B)){if(N){C();const t=N;b(t.$$.fragment,1,0,(()=>{L(t,1)})),F()}G?(N=new G({}),S(N.$$.fragment),y(N.$$.fragment,1),z(N,R,null)):N=null}if(U!==(U=ge)){if(V){C();const t=V;b(t.$$.fragment,1,0,(()=>{L(t,1)})),F()}U?(V=new U({}),S(V.$$.fragment),y(V.$$.fragment,1),z(V,_,null)):V=null}},i(t){W||(r&&y(r.$$.fragment,t),$&&y($.$$.fragment,t),v&&y(v.$$.fragment,t),N&&y(N.$$.fragment,t),V&&y(V.$$.fragment,t),W=!0)},o(t){r&&b(r.$$.fragment,t),$&&b($.$$.fragment,t),v&&b(v.$$.fragment,t),N&&b(N.$$.fragment,t),V&&b(V.$$.fragment,t),W=!1},d(t){t&&u(e),r&&L(r),$&&L($),v&&L(v),N&&L(N),V&&L(V),T=!1,x(I)}}}const qe=t=>t.stopPropagation();function Ae(t,e,n){let l,r;const{history:o,zoom:s,dispatch:i}=rt((t=>t.editor));function a(t){if(l<=.5&&t<0||l>=5&&t>0)return;const e=t?parseFloat((l+.1*t).toFixed(2)):1;i("updateZoom",e)}N(t,o,(t=>n(1,r=t))),N(t,s,(t=>n(0,l=t)));return[l,r,o,s,i,a,()=>i("backward"),()=>i("forward"),()=>a(1),()=>a(-1),()=>a()]}class ze extends t{constructor(t){super(),e(this,t,Ae,Se,n,{})}}function Ce(t){let e,n,r,s="inline"===t[2]&&function(t){let e,n,r,s,d,$,p;const v=t[4].default,x=l(v,t,t[3],null);return{c(){e=M("div"),n=i(t[0]),r=q(),s=M("div"),s.textContent=":",d=q(),$=M("div"),x&&x.c(),f(e,"class","form-item_label flex items-center justify-center svelte-p2li30"),Y(e,"width",t[1]+"px"),f(s,"class","form-item_split flex items-center justify-center svelte-p2li30"),f($,"class","form-item_content svelte-p2li30")},m(t,l){o(t,e,l),a(e,n),o(t,r,l),o(t,s,l),o(t,d,l),o(t,$,l),x&&x.m($,null),p=!0},p(t,e){(!p||1&e)&&c(n,t[0]),x&&x.p&&(!p||8&e)&&m(x,v,t,t[3],p?h(v,t[3],e,null):g(t[3]),null)},i(t){p||(y(x,t),p=!0)},o(t){b(x,t),p=!1},d(t){t&&u(e),t&&u(r),t&&u(s),t&&u(d),t&&u($),x&&x.d(t)}}}(t),d="float"===t[2]&&function(t){let e,n,r,s,d,$;const p=t[4].default,v=l(p,t,t[3],null);return{c(){e=M("div"),n=i(t[0]),r=i(":"),s=q(),d=M("div"),v&&v.c(),f(e,"class","form-item_label svelte-p2li30"),Y(e,"width",t[1]+"px"),f(d,"class","form-item_content svelte-p2li30")},m(t,l){o(t,e,l),a(e,n),a(e,r),o(t,s,l),o(t,d,l),v&&v.m(d,null),$=!0},p(t,e){(!$||1&e)&&c(n,t[0]),v&&v.p&&(!$||8&e)&&m(v,p,t,t[3],$?h(p,t[3],e,null):g(t[3]),null)},i(t){$||(y(v,t),$=!0)},o(t){b(v,t),$=!1},d(t){t&&u(e),t&&u(s),t&&u(d),v&&v.d(t)}}}(t);return{c(){e=M("div"),s&&s.c(),n=q(),d&&d.c(),f(e,"class","form-item flex layout-"+t[2]+" svelte-p2li30"),A(e,"flex-row","inline"===t[2]),A(e,"flex-col","float"===t[2])},m(t,l){o(t,e,l),s&&s.m(e,null),a(e,n),d&&d.m(e,null),r=!0},p(t,[e]){"inline"===t[2]&&s.p(t,e),"float"===t[2]&&d.p(t,e)},i(t){r||(y(s),y(d),r=!0)},o(t){b(s),b(d),r=!1},d(t){t&&u(e),s&&s.d(),d&&d.d()}}}function Le(t,e,n){let{$$slots:l={},$$scope:r}=e,{label:o}=e;const{labelWidth:s,layout:i}=_("config");return t.$$set=t=>{"label"in t&&n(0,o=t.label),"$$scope"in t&&n(3,r=t.$$scope)},[o,s,i,r,l]}class Fe extends t{constructor(t){super(),e(this,t,Le,Ce,n,{label:0})}}function Ee(t){let e,n;const r=t[3].default,s=l(r,t,t[2],null);return{c(){e=M("div"),s&&s.c(),f(e,"class","form")},m(t,l){o(t,e,l),s&&s.m(e,null),n=!0},p(t,[e]){s&&s.p&&(!n||4&e)&&m(s,r,t,t[2],n?h(r,t[2],e,null):g(t[2]),null)},i(t){n||(y(s,t),n=!0)},o(t){b(s,t),n=!1},d(t){t&&u(e),s&&s.d(t)}}}function je(t,e,n){let{$$slots:l={},$$scope:r}=e,{labelWidth:o=50}=e,{layout:s="inline"}=e;return V("config",{labelWidth:o,layout:s}),t.$$set=t=>{"labelWidth"in t&&n(0,o=t.labelWidth),"layout"in t&&n(1,s=t.layout),"$$scope"in t&&n(2,r=t.$$scope)},[o,s,r,l]}class Oe extends t{constructor(t){super(),e(this,t,je,Ee,n,{labelWidth:0,layout:1})}}function Re(t){let e,n,l,r,s,i,a,c,d,f;return e=new Fe({props:{label:"X",$$slots:{default:[He]},$$scope:{ctx:t}}}),l=new Fe({props:{label:"Y",$$slots:{default:[Be]},$$scope:{ctx:t}}}),s=new Fe({props:{label:"宽度",$$slots:{default:[Ne]},$$scope:{ctx:t}}}),a=new Fe({props:{label:"高度",$$slots:{default:[Ye]},$$scope:{ctx:t}}}),d=new Fe({props:{label:"角度",$$slots:{default:[_e]},$$scope:{ctx:t}}}),{c(){S(e.$$.fragment),n=q(),S(l.$$.fragment),r=q(),S(s.$$.fragment),i=q(),S(a.$$.fragment),c=q(),S(d.$$.fragment)},m(t,u){z(e,t,u),o(t,n,u),z(l,t,u),o(t,r,u),z(s,t,u),o(t,i,u),z(a,t,u),o(t,c,u),z(d,t,u),f=!0},p(t,n){const r={};131073&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r);const o={};131073&n&&(o.$$scope={dirty:n,ctx:t}),l.$set(o);const i={};131073&n&&(i.$$scope={dirty:n,ctx:t}),s.$set(i);const c={};131073&n&&(c.$$scope={dirty:n,ctx:t}),a.$set(c);const u={};131073&n&&(u.$$scope={dirty:n,ctx:t}),d.$set(u)},i(t){f||(y(e.$$.fragment,t),y(l.$$.fragment,t),y(s.$$.fragment,t),y(a.$$.fragment,t),y(d.$$.fragment,t),f=!0)},o(t){b(e.$$.fragment,t),b(l.$$.fragment,t),b(s.$$.fragment,t),b(a.$$.fragment,t),b(d.$$.fragment,t),f=!1},d(t){L(e,t),t&&u(n),L(l,t),t&&u(r),L(s,t),t&&u(i),L(a,t),t&&u(c),L(d,t)}}}function He(t){let e,n,l;function r(e){t[4](e)}let o={};return void 0!==t[0].x&&(o.value=t[0].x),e=new W({props:o}),R.push((()=>T(e,"value",r))),e.$on("change",t[3]),{c(){S(e.$$.fragment)},m(t,n){z(e,t,n),l=!0},p(t,l){const r={};!n&&1&l&&(n=!0,r.value=t[0].x,I((()=>n=!1))),e.$set(r)},i(t){l||(y(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){L(e,t)}}}function Be(t){let e,n,l;function r(e){t[5](e)}let o={};return void 0!==t[0].y&&(o.value=t[0].y),e=new W({props:o}),R.push((()=>T(e,"value",r))),e.$on("change",t[3]),{c(){S(e.$$.fragment)},m(t,n){z(e,t,n),l=!0},p(t,l){const r={};!n&&1&l&&(n=!0,r.value=t[0].y,I((()=>n=!1))),e.$set(r)},i(t){l||(y(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){L(e,t)}}}function Ne(t){let e,n,l;function r(e){t[6](e)}let o={min:0};return void 0!==t[0].width&&(o.value=t[0].width),e=new W({props:o}),R.push((()=>T(e,"value",r))),e.$on("change",t[3]),{c(){S(e.$$.fragment)},m(t,n){z(e,t,n),l=!0},p(t,l){const r={};!n&&1&l&&(n=!0,r.value=t[0].width,I((()=>n=!1))),e.$set(r)},i(t){l||(y(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){L(e,t)}}}function Ye(t){let e,n,l;function r(e){t[7](e)}let o={min:0};return void 0!==t[0].height&&(o.value=t[0].height),e=new W({props:o}),R.push((()=>T(e,"value",r))),e.$on("change",t[3]),{c(){S(e.$$.fragment)},m(t,n){z(e,t,n),l=!0},p(t,l){const r={};!n&&1&l&&(n=!0,r.value=t[0].height,I((()=>n=!1))),e.$set(r)},i(t){l||(y(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){L(e,t)}}}function _e(t){let e,n,l;function r(e){t[8](e)}let o={};return void 0!==t[0].rotation&&(o.value=t[0].rotation),e=new W({props:o}),R.push((()=>T(e,"value",r))),e.$on("change",t[3]),{c(){S(e.$$.fragment)},m(t,n){z(e,t,n),l=!0},p(t,l){const r={};!n&&1&l&&(n=!0,r.value=t[0].rotation,I((()=>n=!1))),e.$set(r)},i(t){l||(y(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){L(e,t)}}}function Ve(t){let e,n,l=t[0]&&Re(t);return{c(){l&&l.c(),e=r()},m(t,r){l&&l.m(t,r),o(t,e,r),n=!0},p(t,n){t[0]?l?(l.p(t,n),1&n&&y(l,1)):(l=Re(t),l.c(),y(l,1),l.m(e.parentNode,e)):l&&(C(),b(l,1,1,(()=>{l=null})),F())},i(t){n||(y(l),n=!0)},o(t){b(l),n=!1},d(t){l&&l.d(t),t&&u(e)}}}function We(t){let e,n;return e=new Oe({props:{$$slots:{default:[Ve]},$$scope:{ctx:t}}}),{c(){S(e.$$.fragment)},m(t,l){z(e,t,l),n=!0},p(t,[n]){const l={};131073&n&&(l.$$scope={dirty:n,ctx:t}),e.$set(l)},i(t){n||(y(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function Te(t,e,n){let l,r;const{selected:o,widgets:s,dispatch:i,stage:a}=rt((t=>t.editor));N(t,o,(t=>n(11,r=t))),N(t,a,(t=>n(10,l=t)));let c,u={width:0,height:0,x:0,y:0,rotation:0};return s.subscribe((t=>{const e=t.find((t=>1===r.length&&t.id===r[0]));c=e,e&&function(){const t=se(Object.keys(u),c.property);JSON.stringify(u)!==JSON.stringify(t)&&n(0,u=t)}()})),[u,o,a,function(){const t=se(Object.keys(u),c.property);JSON.stringify(u)!==JSON.stringify(t)&&(!function(){const[t]=r;if(!t)return;const e=l.findOne(`#${t}`);Object.entries(u).forEach((([t,n])=>{e.getAttr(t)!==n&&e.setAttr(t,n)}))}(),i("updateWidget",{id:c.id,property:Object.assign(Object.assign({},c.property),u)}))},function(e){t.$$.not_equal(u.x,e)&&(u.x=e,n(0,u))},function(e){t.$$.not_equal(u.y,e)&&(u.y=e,n(0,u))},function(e){t.$$.not_equal(u.width,e)&&(u.width=e,n(0,u))},function(e){t.$$.not_equal(u.height,e)&&(u.height=e,n(0,u))},function(e){t.$$.not_equal(u.rotation,e)&&(u.rotation=e,n(0,u))}]}class Ie extends t{constructor(t){super(),e(this,t,Te,We,n,{})}}function Xe(t){let e,n,l,r,s,d,$,m,g,h,v,y,b,w,k,S,A,z,C,L,F,E,O,R,H,B,N,Y,_,V,W,T,I,X,J,P,Z,G,U,D,K,Q,tt,et,nt,lt,rt;return{c(){e=M("div"),n=M("div"),l=M("div"),r=M("div"),s=M("div"),d=q(),$=M("div"),m=q(),g=M("div"),h=M("div"),v=q(),y=M("div"),b=q(),w=M("div"),k=M("div"),S=q(),A=M("div"),z=q(),C=M("div"),L=q(),F=M("div"),E=M("div"),E.innerHTML='<div class="color-picked svelte-1polsdl"></div>',O=q(),R=M("div"),H=M("p"),B=i(t[3]),N=q(),Y=M("div"),_=M("div"),V=M("p"),W=i(t[0]),T=q(),I=M("p"),I.textContent="R",X=q(),J=M("div"),P=M("p"),Z=i(t[1]),G=q(),U=M("p"),U.textContent="G",D=q(),K=M("div"),Q=M("p"),tt=i(t[2]),et=q(),nt=M("p"),nt.textContent="B",f(s,"id","colorsquare-picker"),f(s,"class","svelte-1polsdl"),f($,"id","colorsquare-event"),f($,"class","svelte-1polsdl"),f(r,"class","value-gradient svelte-1polsdl"),f(l,"class","saturation-gradient svelte-1polsdl"),f(n,"class","colorsquare size svelte-1polsdl"),f(h,"id","hue-picker"),f(h,"class","svelte-1polsdl"),f(y,"id","hue-event"),f(y,"class","svelte-1polsdl"),f(g,"class","hue-selector svelte-1polsdl"),f(k,"class","alpha-value svelte-1polsdl"),f(A,"id","alpha-picker"),f(A,"class","svelte-1polsdl"),f(C,"id","alpha-event"),f(C,"class","svelte-1polsdl"),f(w,"class","alpha-selector svelte-1polsdl"),f(E,"class","color-picked-bg svelte-1polsdl"),f(H,"class","text svelte-1polsdl"),f(R,"class","hex-text-block svelte-1polsdl"),f(V,"class","text svelte-1polsdl"),f(I,"class","text-label svelte-1polsdl"),f(_,"class","rgb-text-block svelte-1polsdl"),f(P,"class","text svelte-1polsdl"),f(U,"class","text-label svelte-1polsdl"),f(J,"class","rgb-text-block svelte-1polsdl"),f(Q,"class","text svelte-1polsdl"),f(nt,"class","text-label svelte-1polsdl"),f(K,"class","rgb-text-block svelte-1polsdl"),f(Y,"class","rgb-text-div svelte-1polsdl"),f(F,"class","color-info-box svelte-1polsdl"),f(e,"class","main-container svelte-1polsdl")},m(i,c){o(i,e,c),a(e,n),a(n,l),a(l,r),a(r,s),a(r,d),a(r,$),a(e,m),a(e,g),a(g,h),a(g,v),a(g,y),a(e,b),a(e,w),a(w,k),a(w,S),a(w,A),a(w,z),a(w,C),a(e,L),a(e,F),a(F,E),a(F,O),a(F,R),a(R,H),a(H,B),a(F,N),a(F,Y),a(Y,_),a(_,V),a(V,W),a(_,T),a(_,I),a(Y,X),a(Y,J),a(J,P),a(P,Z),a(J,G),a(J,U),a(Y,D),a(Y,K),a(K,Q),a(Q,tt),a(K,et),a(K,nt),lt||(rt=[p($,"mousedown",t[4]),p($,"touchstart",t[5]),p(y,"mousedown",t[6]),p(y,"touchstart",t[7]),p(C,"mousedown",t[8]),p(C,"touchstart",t[9])],lt=!0)},p(t,[e]){8&e&&c(B,t[3]),1&e&&c(W,t[0]),2&e&&c(Z,t[1]),4&e&&c(tt,t[2])},i:j,o:j,d(t){t&&u(e),lt=!1,x(rt)}}}function Je(t,e,n){let l=document.querySelector(t);l&&l.removeEventListener(e,n)}function Pe(t,e,n){var l,r,o,s=Math.floor(6*t),i=6*t-s,a=n*(1-e),c=n*(1-i*e),u=n*(1-(1-i)*e);switch(s%6){case 0:l=n,r=u,o=a;break;case 1:l=c,r=n,o=a;break;case 2:l=a,r=n,o=u;break;case 3:l=a,r=c,o=n;break;case 4:l=u,r=a,o=n;break;case 5:l=n,r=a,o=c}return[Math.round(255*l),Math.round(255*r),Math.round(255*o)]}function Ze(t,e,n){let{startColor:l="#FF0000"}=e;O((()=>{document.addEventListener("mouseup",b),document.addEventListener("touchend",b),document.addEventListener("mousemove",g),document.addEventListener("touchmove",h),document.addEventListener("touchstart",p),document.addEventListener("mousedown",m),function(){let t=l.replace("#","");if(8!==t.length&&6!==t.length&&3!==t.length&&!t.match(/([^A-F0-9])/gi))return void alert("Invalid property value (startColor)");let e="";3===t.length||4===t.length?t.split("").forEach((t=>{e+=t+t})):e=t;n(3,$=e.slice(0,6)),n(0,u=parseInt(e.substring(0,2),16)),n(1,d=parseInt(e.substring(2,4),16)),n(2,f=parseInt(e.substring(4,6),16)),c=parseInt(e.substring(6,8)||"FF",16)/255,function(t,e,n,l){let r,o,c,u,d,f,$,p,m,g;r=t/255,o=e/255,c=n/255,u=Math.max(r,o,c),d=Math.min(r,o,c),f=u-d,g=u,m=0==g?0:f/u;for(let s=0;s<3;s++)if([r,o,c][s]===u){$=s;break}if(0==f)return p=0,l?(s=p,i=m,a=g,void k()):{h:p,s:m,v:g};switch($){case 0:p=(o-c)/f%6*60/360;break;case 1:p=60*((c-r)/f+2)/360;break;case 2:p=60*((r-o)/f+4)/360}p<0&&(p+=6);if(!l)return{h:p,s:m,v:g};s=p,i=m,a=g,k()}(u,d,f,!0),function(){let t=document.querySelector("#colorsquare-picker"),e=100*i,n=100*(1-a);t.style.top=n+"%",t.style.left=e+"%"}(),function(){let t=document.querySelector("#hue-picker"),e=100*s;t.style.left=e+"%"}(),function(){let t=document.querySelector("#alpha-picker"),e=100*c;t.style.left=e+"%"}()}()}));const r=X();let o,s=1,i=1,a=1,c=1,u=255,d=0,f=0,$="#FF0000";function p(){Je("#alpha-event","mousedown",S),Je("#colorsquare-event","mousedown",v),Je("#hue-event","mousedown",x),document.removeEventListener("mouseup",b),document.removeEventListener("mousemove",g),document.removeEventListener("touchstart",p),document.removeEventListener("mousedown",m)}function m(){Je("#alpha-event","touchstart",q),Je("#colorsquare-event","touchstart",y),Je("#hue-event","touchstart",w),document.removeEventListener("touchend",b),document.removeEventListener("touchmove",h),document.removeEventListener("touchstart",p),document.removeEventListener("mousedown",m)}function g(t){if(o){let e,n,l,r=t.clientX,u=t.clientY,d=o.getBoundingClientRect();switch(o.id){case"colorsquare-event":e=(r-d.x)/240*100,n=(u-d.y)/160*100,e>100?e=100:e<0&&(e=0),n>100?n=100:n<0&&(n=0),l=document.querySelector("#colorsquare-picker"),n=n.toFixed(2),e=e.toFixed(2),l.style.top=n+"%",l.style.left=e+"%",i=e/100,a=1-n/100,M();break;case"hue-event":e=(r-10-d.x)/220*100,e>100?e=100:e<0&&(e=0),e=e.toFixed(2),l=document.querySelector("#hue-picker"),l.style.left=e+"%",s=e/100,k();break;case"alpha-event":e=(r-10-d.x)/220*100,e>100?e=100:e<0&&(e=0),e=e.toFixed(2),l=document.querySelector("#alpha-picker"),l.style.left=e+"%",c=e/100,M()}}}function h(t){if(o){let e,n,l,r=t.touches[0].clientX,u=t.touches[0].clientY,d=o.getBoundingClientRect();switch(o.id){case"colorsquare-event":e=(r-d.x)/240*100,n=(u-d.y)/160*100,e>100?e=100:e<0&&(e=0),n>100?n=100:n<0&&(n=0),l=document.querySelector("#colorsquare-picker"),n=n.toFixed(2),e=e.toFixed(2),l.style.top=n+"%",l.style.left=e+"%",i=e/100,a=1-n/100,M();break;case"hue-event":e=(r-10-d.x)/220*100,e>100?e=100:e<0&&(e=0),e=e.toFixed(2),l=document.querySelector("#hue-picker"),l.style.left=e+"%",s=e/100,k();break;case"alpha-event":e=(r-10-d.x)/220*100,e>100?e=100:e<0&&(e=0),e=e.toFixed(2),l=document.querySelector("#alpha-picker"),l.style.left=e+"%",c=e/100,M()}}}function v(t){o=t.currentTarget;let e=(t.offsetX+1)/240*100,n=(t.offsetY+1)/160*100;n=n.toFixed(2),e=e.toFixed(2);let l=document.querySelector("#colorsquare-picker");l.style.top=n+"%",l.style.left=e+"%",i=e/100,a=1-n/100,M()}function y(t){o=t.currentTarget;let e=t.target.getBoundingClientRect(),n=(t.targetTouches[0].clientX-e.left+1)/240*100,l=(t.targetTouches[0].clientY-e.top+1)/160*100;l=l.toFixed(2),n=n.toFixed(2);let r=document.querySelector("#colorsquare-picker");r.style.top=l+"%",r.style.left=n+"%",i=n/100,a=1-l/100,M()}function b(t){o=null}function x(t){o=t.currentTarget;let e=(t.offsetX-9)/220*100;e=e.toFixed(2),document.querySelector("#hue-picker").style.left=e+"%",s=e/100,k()}function w(t){o=t.currentTarget;let e=t.target.getBoundingClientRect(),n=(t.targetTouches[0].clientX-e.left-9)/220*100;n=n.toFixed(2),document.querySelector("#hue-picker").style.left=n+"%",s=n/100,k()}function k(){let t=Pe(s,1,1);document.querySelector(".colorsquare").style.background=`rgba(${t[0]},${t[1]},${t[2]},1)`,M()}function M(){let t=Pe(s,i,a);n(0,u=t[0]),n(1,d=t[1]),n(2,f=t[2]),n(3,$=function(){let t=u.toString(16),e=d.toString(16),n=f.toString(16);1==t.length&&(t="0"+t);1==e.length&&(e="0"+e);1==n.length&&(n="0"+n);return("#"+t+e+n).toUpperCase()}()),document.querySelector(".color-picked").style.background=`rgba(${t[0]},${t[1]},${t[2]},${c})`,r("colorChange",{r:u,g:d,b:f,a:c})}function S(t){o=t.currentTarget;let e=(t.offsetX-9)/220*100;e=e.toFixed(2),document.querySelector("#alpha-picker").style.left=e+"%",c=e/100,M()}function q(t){o=t.currentTarget;let e=t.target.getBoundingClientRect(),n=(t.targetTouches[0].clientX-e.left-9)/220*100;n=n.toFixed(2),document.querySelector("#alpha-picker").style.left=n+"%",c=n/100,M()}return t.$$set=t=>{"startColor"in t&&n(10,l=t.startColor)},[u,d,f,$,v,y,x,w,S,q,l]}class Ge extends t{constructor(t){super(),e(this,t,Ze,Xe,n,{startColor:10})}}function Ue(t){let e,n,l;function r(e){t[6](e)}let o={};return void 0!==t[0].text&&(o.value=t[0].text),e=new P({props:o}),R.push((()=>T(e,"value",r))),e.$on("change",t[3]),{c(){S(e.$$.fragment)},m(t,n){z(e,t,n),l=!0},p(t,l){const r={};!n&&1&l&&(n=!0,r.value=t[0].text,I((()=>n=!1))),e.$set(r)},i(t){l||(y(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){L(e,t)}}}function De(t){let e,n,l;function r(e){t[7](e)}let o={};return void 0!==t[0].fontSize&&(o.value=t[0].fontSize),e=new W({props:o}),R.push((()=>T(e,"value",r))),e.$on("change",t[3]),{c(){S(e.$$.fragment)},m(t,n){z(e,t,n),l=!0},p(t,l){const r={};!n&&1&l&&(n=!0,r.value=t[0].fontSize,I((()=>n=!1))),e.$set(r)},i(t){l||(y(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){L(e,t)}}}function Ke(t){let e,n,l,r,s,i,c,d,$;function m(e){t[8](e)}let g={readonly:!0};return void 0!==t[0].fill&&(g.value=t[0].fill),n=new Z({props:g}),R.push((()=>T(n,"value",m))),n.$on("change",t[3]),{c(){e=M("div"),S(n.$$.fragment),r=q(),s=M("div"),i=M("div"),f(i,"class","indicator svelte-ce0ld0"),Y(i,"background-color",t[0].fill),f(s,"class","indicator-container svelte-ce0ld0"),f(e,"class","flex")},m(l,u){o(l,e,u),z(n,e,null),a(e,r),a(e,s),a(s,i),c=!0,d||($=p(s,"click",t[5]),d=!0)},p(t,e){const r={};!l&&1&e&&(l=!0,r.value=t[0].fill,I((()=>l=!1))),n.$set(r),(!c||1&e)&&Y(i,"background-color",t[0].fill)},i(t){c||(y(n.$$.fragment,t),c=!0)},o(t){b(n.$$.fragment,t),c=!1},d(t){t&&u(e),L(n),d=!1,$()}}}function Qe(t){let e,n,l,r,s,i;return e=new U({props:{text:"左对齐",value:"left"}}),l=new U({props:{text:"居中",value:"center"}}),s=new U({props:{text:"右对齐",value:"right"}}),{c(){S(e.$$.fragment),n=q(),S(l.$$.fragment),r=q(),S(s.$$.fragment)},m(t,a){z(e,t,a),o(t,n,a),z(l,t,a),o(t,r,a),z(s,t,a),i=!0},p:j,i(t){i||(y(e.$$.fragment,t),y(l.$$.fragment,t),y(s.$$.fragment,t),i=!0)},o(t){b(e.$$.fragment,t),b(l.$$.fragment,t),b(s.$$.fragment,t),i=!1},d(t){L(e,t),t&&u(n),L(l,t),t&&u(r),L(s,t)}}}function tn(t){let e,n,l;function r(e){t[10](e)}let o={size:"sm",selectedIndex:pt.findIndex(t[9]),$$slots:{default:[Qe]},$$scope:{ctx:t}};return void 0!==t[0].align&&(o.value=t[0].align),e=new G({props:o}),R.push((()=>T(e,"value",r))),e.$on("change",t[4]),{c(){S(e.$$.fragment)},m(t,n){z(e,t,n),l=!0},p(t,l){const r={};1&l&&(r.selectedIndex=pt.findIndex(t[9])),1048576&l&&(r.$$scope={dirty:l,ctx:t}),!n&&1&l&&(n=!0,r.value=t[0].align,I((()=>n=!1))),e.$set(r)},i(t){l||(y(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){L(e,t)}}}function en(t){let e,n,l,r,s,i,a,c;return e=new Fe({props:{label:"文本内容",$$slots:{default:[Ue]},$$scope:{ctx:t}}}),l=new Fe({props:{label:"文本大小",$$slots:{default:[De]},$$scope:{ctx:t}}}),s=new Fe({props:{label:"文本颜色",$$slots:{default:[Ke]},$$scope:{ctx:t}}}),a=new Fe({props:{label:"文本对齐",$$slots:{default:[tn]},$$scope:{ctx:t}}}),{c(){S(e.$$.fragment),n=q(),S(l.$$.fragment),r=q(),S(s.$$.fragment),i=q(),S(a.$$.fragment)},m(t,u){z(e,t,u),o(t,n,u),z(l,t,u),o(t,r,u),z(s,t,u),o(t,i,u),z(a,t,u),c=!0},p(t,n){const r={};1048577&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r);const o={};1048577&n&&(o.$$scope={dirty:n,ctx:t}),l.$set(o);const i={};1048577&n&&(i.$$scope={dirty:n,ctx:t}),s.$set(i);const c={};1048577&n&&(c.$$scope={dirty:n,ctx:t}),a.$set(c)},i(t){c||(y(e.$$.fragment,t),y(l.$$.fragment,t),y(s.$$.fragment,t),y(a.$$.fragment,t),c=!0)},o(t){b(e.$$.fragment,t),b(l.$$.fragment,t),b(s.$$.fragment,t),b(a.$$.fragment,t),c=!1},d(t){L(e,t),t&&u(n),L(l,t),t&&u(r),L(s,t),t&&u(i),L(a,t)}}}function nn(t){let e,n;return e=new Oe({props:{labelWidth:80,layout:"float",$$slots:{default:[en]},$$scope:{ctx:t}}}),{c(){S(e.$$.fragment)},m(t,l){z(e,t,l),n=!0},p(t,[n]){const l={};1048577&n&&(l.$$scope={dirty:n,ctx:t}),e.$set(l)},i(t){n||(y(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function ln(t,e,n){let l,r;const o=J(),{selected:s,widgets:i,dispatch:a,stage:c}=rt((t=>t.editor));let u;N(t,s,(t=>n(13,r=t))),N(t,c,(t=>n(12,l=t)));let d={fontSize:12,fontFamily:"",fontStyle:"",text:"",align:"",fill:""};function f(){const t=se(Object.keys(d),u.property);JSON.stringify(d)!==JSON.stringify(t)&&(!function(){const[t]=r;if(!t)return;const e=l.findOne(`#${t}`);Object.entries(d).forEach((([t,n])=>{e.getAttr(t)!==n&&e.setAttr(t,n)}))}(),a("updateWidget",{id:u.id,textProperty:Object.assign(Object.assign({},u.textProperty),d)}))}i.subscribe((t=>{const e=t.find((t=>1===r.length&&t.id===r[0]));u=e,e&&function(){const t=se(Object.keys(d),u.textProperty);JSON.stringify(d)!==JSON.stringify(t)&&n(0,d=t)}()}));return[d,s,c,f,function({detail:t}){n(0,d.align=pt[t].value,d),f()},function(){o.open({component:Ge,header:!1,title:"选择颜色",maskClosable:!0,props:{startColor:d.fill},event:{colorChange:({detail:{r:t,g:e,b:l,a:r}})=>{const o=t.toString(16),s=e.toString(16),i=l.toString(16),a=Math.round(255*r).toString(16);n(0,d.fill=`#${o}${s}${i}${a}`,d),f()}}})},function(e){t.$$.not_equal(d.text,e)&&(d.text=e,n(0,d))},function(e){t.$$.not_equal(d.fontSize,e)&&(d.fontSize=e,n(0,d))},function(e){t.$$.not_equal(d.fill,e)&&(d.fill=e,n(0,d))},t=>t.value===d.align,function(e){t.$$.not_equal(d.align,e)&&(d.align=e,n(0,d))}]}class rn extends t{constructor(t){super(),e(this,t,ln,nn,n,{})}}function on(t){let e;return{c(){e=i("1")},m(t,n){o(t,e,n)},p:j,i:j,o:j,d(t){t&&u(e)}}}class sn extends t{constructor(t){super(),e(this,t,null,on,n,{})}}function an(t,e,n){const l=t.slice();return l[6]=e[n],l[8]=n,l}function cn(t){let e,n,l;var r=t[6].component;return r&&(e=new r({})),{c(){e&&S(e.$$.fragment),n=q()},m(t,r){e&&z(e,t,r),o(t,n,r),l=!0},p(t,l){if(r!==(r=t[6].component)){if(e){C();const t=e;b(t.$$.fragment,1,0,(()=>{L(t,1)})),F()}r?(e=new r({}),S(e.$$.fragment),y(e.$$.fragment,1),z(e,n.parentNode,n)):e=null}},i(t){l||(e&&y(e.$$.fragment,t),l=!0)},o(t){e&&b(e.$$.fragment,t),l=!1},d(t){e&&L(e,t),t&&u(n)}}}function un(t){let e,n,l=t[6].filter(),s=l&&function(t){let e,n;return e=new K({props:{title:t[6].label,open:!0,$$slots:{default:[cn]},$$scope:{ctx:t}}}),{c(){S(e.$$.fragment)},m(t,l){z(e,t,l),n=!0},p(t,n){const l={};512&n&&(l.$$scope={dirty:n,ctx:t}),e.$set(l)},i(t){n||(y(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}(t);return{c(){s&&s.c(),e=r()},m(t,l){s&&s.m(t,l),o(t,e,l),n=!0},p(t,e){l&&s.p(t,e)},i(t){n||(y(s),n=!0)},o(t){b(s),n=!1},d(t){s&&s.d(t),t&&u(e)}}}function dn(t){let e,n,l=t[2],s=[];for(let r=0;r<l.length;r+=1)s[r]=un(an(t,l,r));const i=t=>b(s[t],1,1,(()=>{s[t]=null}));return{c(){for(let t=0;t<s.length;t+=1)s[t].c();e=r()},m(t,l){for(let e=0;e<s.length;e+=1)s[e].m(t,l);o(t,e,l),n=!0},p(t,n){if(4&n){let r;for(l=t[2],r=0;r<l.length;r+=1){const o=an(t,l,r);s[r]?(s[r].p(o,n),y(s[r],1)):(s[r]=un(o),s[r].c(),y(s[r],1),s[r].m(e.parentNode,e))}for(C(),r=l.length;r<s.length;r+=1)i(r);F()}},i(t){if(!n){for(let t=0;t<l.length;t+=1)y(s[t]);n=!0}},o(t){s=s.filter(Boolean);for(let e=0;e<s.length;e+=1)b(s[e]);n=!1},d(t){E(s,t),t&&u(e)}}}function fn(t){let e,n,l;return n=new D({props:{size:"sm",$$slots:{default:[dn]},$$scope:{ctx:t}}}),{c(){e=M("div"),S(n.$$.fragment),f(e,"class","widget-property")},m(t,r){o(t,e,r),z(n,e,null),l=!0},p(t,[e]){const l={};512&e&&(l.$$scope={dirty:e,ctx:t}),n.$set(l)},i(t){l||(y(n.$$.fragment,t),l=!0)},o(t){b(n.$$.fragment,t),l=!1},d(t){t&&u(e),L(n)}}}function $n(t,e,n){let l,r;const{selected:o,stage:s}=rt((t=>t.editor));N(t,o,(t=>n(4,r=t))),N(t,s,(t=>n(3,l=t)));function i(){const[t]=r;if(t)return l.findOne(`#${t}`).getClassName()}return[o,s,[{label:"基础属性",component:Ie,filter:()=>!0},{label:"文本属性",component:rn,filter:()=>"Text"===i()},{label:"图片属性",component:sn,filter:()=>"Image"===i()}]]}class pn extends t{constructor(t){super(),e(this,t,$n,fn,n,{})}}class mn extends t{constructor(t){super(),e(this,t,null,null,n,{})}}function gn(t){let e,n,l,r,s,i;return e=new tt({props:{label:"属性"}}),l=new tt({props:{label:"页面"}}),s=new tt({props:{label:"行为"}}),{c(){S(e.$$.fragment),n=q(),S(l.$$.fragment),r=q(),S(s.$$.fragment)},m(t,a){z(e,t,a),o(t,n,a),z(l,t,a),o(t,r,a),z(s,t,a),i=!0},p:j,i(t){i||(y(e.$$.fragment,t),y(l.$$.fragment,t),y(s.$$.fragment,t),i=!0)},o(t){b(e.$$.fragment,t),b(l.$$.fragment,t),b(s.$$.fragment,t),i=!1},d(t){L(e,t),t&&u(n),L(l,t),t&&u(r),L(s,t)}}}function hn(t){let e,n;return e=new pn({}),{c(){S(e.$$.fragment)},m(t,l){z(e,t,l),n=!0},i(t){n||(y(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function vn(t){let e,n,l=1===t[0].length&&hn();return{c(){l&&l.c(),e=r()},m(t,r){l&&l.m(t,r),o(t,e,r),n=!0},p(t,n){1===t[0].length?l?1&n&&y(l,1):(l=hn(),l.c(),y(l,1),l.m(e.parentNode,e)):l&&(C(),b(l,1,1,(()=>{l=null})),F())},i(t){n||(y(l),n=!0)},o(t){b(l),n=!1},d(t){l&&l.d(t),t&&u(e)}}}function yn(t){let e,n;return e=new mn({}),{c(){S(e.$$.fragment)},m(t,l){z(e,t,l),n=!0},i(t){n||(y(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function bn(t){let e,n;return e=new mn({}),{c(){S(e.$$.fragment)},m(t,l){z(e,t,l),n=!0},i(t){n||(y(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function xn(t){let e,n,l,r,s,i,c;return n=new et({props:{$$slots:{default:[vn]},$$scope:{ctx:t}}}),r=new et({props:{$$slots:{default:[yn]},$$scope:{ctx:t}}}),i=new et({props:{$$slots:{default:[bn]},$$scope:{ctx:t}}}),{c(){e=M("div"),S(n.$$.fragment),l=q(),S(r.$$.fragment),s=q(),S(i.$$.fragment),f(e,"slot","content")},m(t,u){o(t,e,u),z(n,e,null),a(e,l),z(r,e,null),a(e,s),z(i,e,null),c=!0},p(t,e){const l={};5&e&&(l.$$scope={dirty:e,ctx:t}),n.$set(l);const o={};4&e&&(o.$$scope={dirty:e,ctx:t}),r.$set(o);const s={};4&e&&(s.$$scope={dirty:e,ctx:t}),i.$set(s)},i(t){c||(y(n.$$.fragment,t),y(r.$$.fragment,t),y(i.$$.fragment,t),c=!0)},o(t){b(n.$$.fragment,t),b(r.$$.fragment,t),b(i.$$.fragment,t),c=!1},d(t){t&&u(e),L(n),L(r),L(i)}}}function wn(t){let e,n,l,r,s;return n=new Q({props:{$$slots:{content:[xn],default:[gn]},$$scope:{ctx:t}}}),{c(){e=M("div"),S(n.$$.fragment),f(e,"class","property-container")},m(t,i){o(t,e,i),z(n,e,null),l=!0,r||(s=p(e,"keydown",kn),r=!0)},p(t,[e]){const l={};5&e&&(l.$$scope={dirty:e,ctx:t}),n.$set(l)},i(t){l||(y(n.$$.fragment,t),l=!0)},o(t){b(n.$$.fragment,t),l=!1},d(t){t&&u(e),L(n),r=!1,s()}}}const kn=t=>t.stopPropagation();function Mn(t,e,n){let l;const{selected:r}=rt((t=>t.editor));return N(t,r,(t=>n(0,l=t))),[l,r]}class Sn extends t{constructor(t){super(),e(this,t,Mn,wn,n,{})}}function qn(t){let e,n,l,r,s,i,c,d,$,p,m,g,h;return l=new Bt({}),i=new fe({}),$=new ze({}),g=new Sn({}),{c(){e=M("div"),n=M("div"),S(l.$$.fragment),r=q(),s=M("div"),S(i.$$.fragment),c=q(),d=M("div"),S($.$$.fragment),p=q(),m=M("div"),S(g.$$.fragment),f(n,"class","editor-sidebar relative svelte-evxple"),f(s,"class","editor-content relative svelte-evxple"),f(d,"class","editor-tool relative svelte-evxple"),f(m,"class","editor-property relative svelte-evxple"),f(e,"class","editor-container absolute inset-0 svelte-evxple")},m(t,u){o(t,e,u),a(e,n),z(l,n,null),a(e,r),a(e,s),z(i,s,null),a(e,c),a(e,d),z($,d,null),a(e,p),a(e,m),z(g,m,null),h=!0},i(t){h||(y(l.$$.fragment,t),y(i.$$.fragment,t),y($.$$.fragment,t),y(g.$$.fragment,t),h=!0)},o(t){b(l.$$.fragment,t),b(i.$$.fragment,t),b($.$$.fragment,t),b(g.$$.fragment,t),h=!1},d(t){t&&u(e),L(l),L(i),L($),L(g)}}}function An(t){let e;return{c(){e=i("保存")},m(t,n){o(t,e,n)},d(t){t&&u(e)}}}function zn(t){let e,n;return e=new nt({props:{size:"small",$$slots:{default:[An]},$$scope:{ctx:t}}}),{c(){S(e.$$.fragment)},m(t,l){z(e,t,l),n=!0},p(t,n){const l={};1&n&&(l.$$scope={dirty:n,ctx:t}),e.$set(l)},i(t){n||(y(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function Cn(t){let e,n;return e=new lt({props:{title:"编辑中心",layout:"default",$$slots:{action:[zn],default:[qn]},$$scope:{ctx:t}}}),{c(){S(e.$$.fragment)},m(t,l){z(e,t,l),n=!0},p(t,[n]){const l={};1&n&&(l.$$scope={dirty:n,ctx:t}),e.$set(l)},i(t){n||(y(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}class Ln extends t{constructor(t){super(),e(this,t,null,Cn,n,{})}}export{Ln as default};
