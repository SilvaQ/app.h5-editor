var t,e,n=Object.defineProperty,i=Object.defineProperties,r=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,l=(t,e,i)=>e in t?n(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,h=(t,e)=>{for(var n in e||(e={}))o.call(e,n)&&l(t,n,e[n]);if(a)for(var n of a(e))s.call(e,n)&&l(t,n,e[n]);return t},c=(t,e)=>i(t,r(e)),d="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function u(t){if(t.__esModule)return t;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach((function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})})),e}
/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function f(){}function p(t,e){for(const n in e)t[n]=e[n];return t}function g(t){return t()}function m(){return Object.create(null)}function v(t){t.forEach(g)}function y(t){return"function"==typeof t}function b(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let _;function x(t,e,n){t.$$.on_destroy.push(function(t,...e){if(null==t)return f;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}(e,n))}function w(t,e,n,i){if(t){const r=S(t,e,n,i);return t[0](r)}}function S(t,e,n,i){return t[1]&&i?p(n.ctx.slice(),t[1](i(e))):n.ctx}function C(t,e,n,i){if(t[2]&&i){const r=t[2](i(n));if(void 0===e.dirty)return r;if("object"==typeof r){const t=[],n=Math.max(e.dirty.length,r.length);for(let i=0;i<n;i+=1)t[i]=e.dirty[i]|r[i];return t}return e.dirty|r}return e.dirty}function k(t,e,n,i,r,a){if(r){const o=S(e,n,i,a);t.p(o,r)}}function M(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}function A(t){const e={};for(const n in t)"$"!==n[0]&&(e[n]=t[n]);return e}function T(t,e){const n={};e=new Set(e);for(const i in t)e.has(i)||"$"===i[0]||(n[i]=t[i]);return n}e=t||(t={}),function(t){var n="object"==typeof d?d:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),i=r(e);function r(t,e){return function(n,i){"function"!=typeof t[n]&&Object.defineProperty(t,n,{configurable:!0,writable:!0,value:i}),e&&e(n,i)}}void 0===n.Reflect?n.Reflect=e:i=r(n.Reflect,i),function(t){var e=Object.prototype.hasOwnProperty,n="function"==typeof Symbol,i=n&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",r=n&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",a="function"==typeof Object.create,o={__proto__:[]}instanceof Array,s=!a&&!o,l={create:a?function(){return it(Object.create(null))}:o?function(){return it({__proto__:null})}:function(){return it({})},has:s?function(t,n){return e.call(t,n)}:function(t,e){return e in t},get:s?function(t,n){return e.call(t,n)?t[n]:void 0}:function(t,e){return t[e]}},h=Object.getPrototypeOf(Function),c="object"==typeof process&&process.env&&"true"===process.env.REFLECT_METADATA_USE_MAP_POLYFILL,d=c||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?tt():Map,u=c||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?et():Set,f=new(c||"function"!=typeof WeakMap?nt():WeakMap);function p(t,e,n,i){if(I(n)){if(!z(t))throw new TypeError;if(!U(e))throw new TypeError;return C(t,e)}if(!z(t))throw new TypeError;if(!F(e))throw new TypeError;if(!F(i)&&!I(i)&&!R(i))throw new TypeError;return R(i)&&(i=void 0),k(t,e,n=Y(n),i)}function g(t,e){function n(n,i){if(!F(n))throw new TypeError;if(!I(i)&&!q(i))throw new TypeError;E(t,e,n,i)}return n}function m(t,e,n,i){if(!F(n))throw new TypeError;return I(i)||(i=Y(i)),E(t,e,n,i)}function v(t,e,n){if(!F(e))throw new TypeError;return I(n)||(n=Y(n)),A(t,e,n)}function y(t,e,n){if(!F(e))throw new TypeError;return I(n)||(n=Y(n)),T(t,e,n)}function b(t,e,n){if(!F(e))throw new TypeError;return I(n)||(n=Y(n)),P(t,e,n)}function _(t,e,n){if(!F(e))throw new TypeError;return I(n)||(n=Y(n)),D(t,e,n)}function x(t,e){if(!F(t))throw new TypeError;return I(e)||(e=Y(e)),O(t,e)}function w(t,e){if(!F(t))throw new TypeError;return I(e)||(e=Y(e)),L(t,e)}function S(t,e,n){if(!F(e))throw new TypeError;I(n)||(n=Y(n));var i=M(e,n,!1);if(I(i))return!1;if(!i.delete(t))return!1;if(i.size>0)return!0;var r=f.get(e);return r.delete(n),r.size>0||f.delete(e),!0}function C(t,e){for(var n=t.length-1;n>=0;--n){var i=(0,t[n])(e);if(!I(i)&&!R(i)){if(!U(i))throw new TypeError;e=i}}return e}function k(t,e,n,i){for(var r=t.length-1;r>=0;--r){var a=(0,t[r])(e,n,i);if(!I(a)&&!R(a)){if(!F(a))throw new TypeError;i=a}}return i}function M(t,e,n){var i=f.get(t);if(I(i)){if(!n)return;i=new d,f.set(t,i)}var r=i.get(e);if(I(r)){if(!n)return;r=new d,i.set(e,r)}return r}function A(t,e,n){if(T(t,e,n))return!0;var i=Z(e);return!R(i)&&A(t,i,n)}function T(t,e,n){var i=M(e,n,!1);return!I(i)&&B(i.has(t))}function P(t,e,n){if(T(t,e,n))return D(t,e,n);var i=Z(e);return R(i)?void 0:P(t,i,n)}function D(t,e,n){var i=M(e,n,!1);if(!I(i))return i.get(t)}function E(t,e,n,i){M(n,i,!0).set(t,e)}function O(t,e){var n=L(t,e),i=Z(t);if(null===i)return n;var r=O(i,e);if(r.length<=0)return n;if(n.length<=0)return r;for(var a=new u,o=[],s=0,l=n;s<l.length;s++){var h=l[s];a.has(h)||(a.add(h),o.push(h))}for(var c=0,d=r;c<d.length;c++)h=d[c],a.has(h)||(a.add(h),o.push(h));return o}function L(t,e){var n=[],i=M(t,e,!1);if(I(i))return n;for(var r=V(i.keys()),a=0;;){var o=J(r);if(!o)return n.length=a,n;var s=K(o);try{n[a]=s}catch(l){try{Q(r)}finally{throw l}}a++}}function $(t){if(null===t)return 1;switch(typeof t){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===t?1:6;default:return 6}}function I(t){return void 0===t}function R(t){return null===t}function N(t){return"symbol"==typeof t}function F(t){return"object"==typeof t?null!==t:"function"==typeof t}function G(t,e){switch($(t)){case 0:case 1:case 2:case 3:case 4:case 5:return t}var n=3===e?"string":5===e?"number":"default",r=X(t,i);if(void 0!==r){var a=r.call(t,n);if(F(a))throw new TypeError;return a}return j(t,"default"===n?"number":n)}function j(t,e){if("string"===e){var n=t.toString;if(W(n)&&!F(r=n.call(t)))return r;if(W(i=t.valueOf)&&!F(r=i.call(t)))return r}else{var i;if(W(i=t.valueOf)&&!F(r=i.call(t)))return r;var r,a=t.toString;if(W(a)&&!F(r=a.call(t)))return r}throw new TypeError}function B(t){return!!t}function H(t){return""+t}function Y(t){var e=G(t,3);return N(e)?e:H(e)}function z(t){return Array.isArray?Array.isArray(t):t instanceof Object?t instanceof Array:"[object Array]"===Object.prototype.toString.call(t)}function W(t){return"function"==typeof t}function U(t){return"function"==typeof t}function q(t){switch($(t)){case 3:case 4:return!0;default:return!1}}function X(t,e){var n=t[e];if(null!=n){if(!W(n))throw new TypeError;return n}}function V(t){var e=X(t,r);if(!W(e))throw new TypeError;var n=e.call(t);if(!F(n))throw new TypeError;return n}function K(t){return t.value}function J(t){var e=t.next();return!e.done&&e}function Q(t){var e=t.return;e&&e.call(t)}function Z(t){var e=Object.getPrototypeOf(t);if("function"!=typeof t||t===h)return e;if(e!==h)return e;var n=t.prototype,i=n&&Object.getPrototypeOf(n);if(null==i||i===Object.prototype)return e;var r=i.constructor;return"function"!=typeof r||r===t?e:r}function tt(){var t={},e=[],n=function(){function t(t,e,n){this._index=0,this._keys=t,this._values=e,this._selector=n}return t.prototype["@@iterator"]=function(){return this},t.prototype[r]=function(){return this},t.prototype.next=function(){var t=this._index;if(t>=0&&t<this._keys.length){var n=this._selector(this._keys[t],this._values[t]);return t+1>=this._keys.length?(this._index=-1,this._keys=e,this._values=e):this._index++,{value:n,done:!1}}return{value:void 0,done:!0}},t.prototype.throw=function(t){throw this._index>=0&&(this._index=-1,this._keys=e,this._values=e),t},t.prototype.return=function(t){return this._index>=0&&(this._index=-1,this._keys=e,this._values=e),{value:t,done:!0}},t}();return function(){function e(){this._keys=[],this._values=[],this._cacheKey=t,this._cacheIndex=-2}return Object.defineProperty(e.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),e.prototype.has=function(t){return this._find(t,!1)>=0},e.prototype.get=function(t){var e=this._find(t,!1);return e>=0?this._values[e]:void 0},e.prototype.set=function(t,e){var n=this._find(t,!0);return this._values[n]=e,this},e.prototype.delete=function(e){var n=this._find(e,!1);if(n>=0){for(var i=this._keys.length,r=n+1;r<i;r++)this._keys[r-1]=this._keys[r],this._values[r-1]=this._values[r];return this._keys.length--,this._values.length--,e===this._cacheKey&&(this._cacheKey=t,this._cacheIndex=-2),!0}return!1},e.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=t,this._cacheIndex=-2},e.prototype.keys=function(){return new n(this._keys,this._values,i)},e.prototype.values=function(){return new n(this._keys,this._values,a)},e.prototype.entries=function(){return new n(this._keys,this._values,o)},e.prototype["@@iterator"]=function(){return this.entries()},e.prototype[r]=function(){return this.entries()},e.prototype._find=function(t,e){return this._cacheKey!==t&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=t)),this._cacheIndex<0&&e&&(this._cacheIndex=this._keys.length,this._keys.push(t),this._values.push(void 0)),this._cacheIndex},e}();function i(t,e){return t}function a(t,e){return e}function o(t,e){return[t,e]}}function et(){return function(){function t(){this._map=new d}return Object.defineProperty(t.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),t.prototype.has=function(t){return this._map.has(t)},t.prototype.add=function(t){return this._map.set(t,t),this},t.prototype.delete=function(t){return this._map.delete(t)},t.prototype.clear=function(){this._map.clear()},t.prototype.keys=function(){return this._map.keys()},t.prototype.values=function(){return this._map.values()},t.prototype.entries=function(){return this._map.entries()},t.prototype["@@iterator"]=function(){return this.keys()},t.prototype[r]=function(){return this.keys()},t}()}function nt(){var t=16,n=l.create(),i=r();return function(){function t(){this._key=r()}return t.prototype.has=function(t){var e=a(t,!1);return void 0!==e&&l.has(e,this._key)},t.prototype.get=function(t){var e=a(t,!1);return void 0!==e?l.get(e,this._key):void 0},t.prototype.set=function(t,e){return a(t,!0)[this._key]=e,this},t.prototype.delete=function(t){var e=a(t,!1);return void 0!==e&&delete e[this._key]},t.prototype.clear=function(){this._key=r()},t}();function r(){var t;do{t="@@WeakMap@@"+h()}while(l.has(n,t));return n[t]=!0,t}function a(t,n){if(!e.call(t,i)){if(!n)return;Object.defineProperty(t,i,{value:l.create()})}return t[i]}function o(t,e){for(var n=0;n<e;++n)t[n]=255*Math.random()|0;return t}function s(t){return"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(t)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(t)):o(new Uint8Array(t),t):o(new Array(t),t)}function h(){var e=s(t);e[6]=79&e[6]|64,e[8]=191&e[8]|128;for(var n="",i=0;i<t;++i){var r=e[i];4!==i&&6!==i&&8!==i||(n+="-"),r<16&&(n+="0"),n+=r.toString(16).toLowerCase()}return n}}function it(t){return t.__=void 0,delete t.__,t}t("decorate",p),t("metadata",g),t("defineMetadata",m),t("hasMetadata",v),t("hasOwnMetadata",y),t("getMetadata",b),t("getOwnMetadata",_),t("getMetadataKeys",x),t("getOwnMetadataKeys",w),t("deleteMetadata",S)}(i)}();let P,D=!1;function E(t,e,n,i){for(;t<e;){const r=t+(e-t>>1);n(r)<=i?t=r+1:e=r}return t}function O(t,e){t.appendChild(e)}function L(t,e){if(D){for(!function(t){if(t.hydrate_init)return;t.hydrate_init=!0;let e=t.childNodes;if("HEAD"===t.nodeName){const t=[];for(let n=0;n<e.length;n++){const i=e[n];void 0!==i.claim_order&&t.push(i)}e=t}const n=new Int32Array(e.length+1),i=new Int32Array(e.length);n[0]=-1;let r=0;for(let l=0;l<e.length;l++){const t=e[l].claim_order,a=(r>0&&e[n[r]].claim_order<=t?r+1:E(1,r,(t=>e[n[t]].claim_order),t))-1;i[l]=n[a]+1;const o=a+1;n[o]=l,r=Math.max(o,r)}const a=[],o=[];let s=e.length-1;for(let l=n[r]+1;0!=l;l=i[l-1]){for(a.push(e[l-1]);s>=l;s--)o.push(e[s]);s--}for(;s>=0;s--)o.push(e[s]);a.reverse(),o.sort(((t,e)=>t.claim_order-e.claim_order));for(let l=0,h=0;l<o.length;l++){for(;h<a.length&&o[l].claim_order>=a[h].claim_order;)h++;const e=h<a.length?a[h]:null;t.insertBefore(o[l],e)}}(t),(void 0===t.actual_end_child||null!==t.actual_end_child&&t.actual_end_child.parentElement!==t)&&(t.actual_end_child=t.firstChild);null!==t.actual_end_child&&void 0===t.actual_end_child.claim_order;)t.actual_end_child=t.actual_end_child.nextSibling;e!==t.actual_end_child?void 0===e.claim_order&&e.parentNode===t||t.insertBefore(e,t.actual_end_child):t.actual_end_child=e.nextSibling}else e.parentNode!==t&&t.appendChild(e)}function $(t,e,n){t.insertBefore(e,n||null)}function I(t,e,n){D&&!n?L(t,e):e.parentNode===t&&e.nextSibling==n||t.insertBefore(e,n||null)}function R(t){t.parentNode.removeChild(t)}function N(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function F(t){return document.createElement(t)}function G(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function j(t){return document.createTextNode(t)}function B(){return j(" ")}function H(){return j("")}function Y(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function z(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function W(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const i in e)null==e[i]?t.removeAttribute(i):"style"===i?t.style.cssText=e[i]:"__value"===i?t.value=t[i]=e[i]:n[i]&&n[i].set?t[i]=e[i]:z(t,i,e[i])}function U(t,e){for(const n in e)z(t,n,e[n])}function q(t){return Array.from(t.childNodes)}function X(t,e,n,i){return function(t,e,n,i,r=!1){!function(t){void 0===t.claim_info&&(t.claim_info={last_index:0,total_claimed:0})}(t);const a=(()=>{for(let i=t.claim_info.last_index;i<t.length;i++){const a=t[i];if(e(a)){const e=n(a);return void 0===e?t.splice(i,1):t[i]=e,r||(t.claim_info.last_index=i),a}}for(let i=t.claim_info.last_index-1;i>=0;i--){const a=t[i];if(e(a)){const e=n(a);return void 0===e?t.splice(i,1):t[i]=e,r?void 0===e&&t.claim_info.last_index--:t.claim_info.last_index=i,a}}return i()})();return a.claim_order=t.claim_info.total_claimed,t.claim_info.total_claimed+=1,a}(t,(t=>t.nodeName===e),(t=>{const e=[];for(let i=0;i<t.attributes.length;i++){const r=t.attributes[i];n[r.name]||e.push(r.name)}e.forEach((e=>t.removeAttribute(e)))}),(()=>i?G(e):F(e)))}function V(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function K(t,e,n){t.classList[n?"add":"remove"](e)}function J(t){P=t}function Q(){if(!P)throw new Error("Function called outside component initialization");return P}function Z(t){Q().$$.on_mount.push(t)}function tt(t){Q().$$.after_update.push(t)}function et(t){Q().$$.on_destroy.push(t)}function nt(){const t=Q();return(e,n)=>{const i=t.$$.callbacks[e];if(i){const r=function(t,e,n=!1){const i=document.createEvent("CustomEvent");return i.initCustomEvent(t,n,!1,e),i}(e,n);i.slice().forEach((e=>{e.call(t,r)}))}}}function it(t,e){Q().$$.context.set(t,e)}function rt(t){return Q().$$.context.get(t)}function at(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t.call(this,e)))}const ot=[],st=[],lt=[],ht=[],ct=Promise.resolve();let dt=!1;function ut(t){lt.push(t)}function ft(t){ht.push(t)}let pt=!1;const gt=new Set;function mt(){if(!pt){pt=!0;do{for(let t=0;t<ot.length;t+=1){const e=ot[t];J(e),vt(e.$$)}for(J(null),ot.length=0;st.length;)st.pop()();for(let t=0;t<lt.length;t+=1){const e=lt[t];gt.has(e)||(gt.add(e),e())}lt.length=0}while(ot.length);for(;ht.length;)ht.pop()();dt=!1,pt=!1,gt.clear()}}function vt(t){if(null!==t.fragment){t.update(),v(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(ut)}}const yt=new Set;let bt;function _t(){bt={r:0,c:[],p:bt}}function xt(){bt.r||v(bt.c),bt=bt.p}function wt(t,e){t&&t.i&&(yt.delete(t),t.i(e))}function St(t,e,n,i){if(t&&t.o){if(yt.has(t))return;yt.add(t),bt.c.push((()=>{yt.delete(t),i&&(n&&t.d(1),i())})),t.o(e)}}function Ct(t,e){St(t,1,1,(()=>{e.delete(t.key)}))}function kt(t,e){const n={},i={},r={$$scope:1};let a=t.length;for(;a--;){const o=t[a],s=e[a];if(s){for(const t in o)t in s||(i[t]=1);for(const t in s)r[t]||(n[t]=s[t],r[t]=1);t[a]=s}else for(const t in o)r[t]=1}for(const o in i)o in n||(n[o]=void 0);return n}function Mt(t){return"object"==typeof t&&null!==t?t:{}}function At(t,e,n){const i=t.$$.props[e];void 0!==i&&(t.$$.bound[i]=n,n(t.$$.ctx[i]))}function Tt(t){t&&t.c()}function Pt(t,e,n,i){const{fragment:r,on_mount:a,on_destroy:o,after_update:s}=t.$$;r&&r.m(e,n),i||ut((()=>{const e=a.map(g).filter(y);o?o.push(...e):v(e),t.$$.on_mount=[]})),s.forEach(ut)}function Dt(t,e){const n=t.$$;null!==n.fragment&&(v(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Et(t,e){-1===t.$$.dirty[0]&&(ot.push(t),dt||(dt=!0,ct.then(mt)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Ot(t,e,n,i,r,a,o,s=[-1]){const l=P;J(t);const h=t.$$={fragment:null,ctx:null,props:a,update:f,not_equal:r,bound:m(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(l?l.$$.context:e.context||[]),callbacks:m(),dirty:s,skip_bound:!1,root:e.target||l.$$.root};o&&o(h.root);let c=!1;if(h.ctx=n?n(t,e.props||{},((e,n,...i)=>{const a=i.length?i[0]:n;return h.ctx&&r(h.ctx[e],h.ctx[e]=a)&&(!h.skip_bound&&h.bound[e]&&h.bound[e](a),c&&Et(t,e)),n})):[],h.update(),c=!0,v(h.before_update),h.fragment=!!i&&i(h.ctx),e.target){if(e.hydrate){D=!0;const t=q(e.target);h.fragment&&h.fragment.l(t),t.forEach(R)}else h.fragment&&h.fragment.c();e.intro&&wt(t.$$.fragment),Pt(t,e.target,e.anchor,e.customElement),D=!1,mt()}J(l)}class Lt{$destroy(){Dt(this,1),this.$destroy=f}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const $t=[];function It(t,e=f){let n;const i=new Set;function r(e){if(b(t,e)&&(t=e,n)){const e=!$t.length;for(const n of i)n[1](),$t.push(n,t);if(e){for(let t=0;t<$t.length;t+=2)$t[t][0]($t[t+1]);$t.length=0}}}return{set:r,update:function(e){r(e(t))},subscribe:function(a,o=f){const s=[a,o];return i.add(s),1===i.size&&(n=e(r)||f),a(t),()=>{i.delete(s),0===i.size&&(n(),n=null)}}}}function Rt(t){let e,n,i,r=[t[3]],a={};for(let o=0;o<r.length;o+=1)a=p(a,r[o]);return{c(){e=F("div"),W(e,a),K(e,"bx--skeleton",!0),K(e,"bx--btn",!0),K(e,"bx--btn--field","field"===t[1]),K(e,"bx--btn--sm","small"===t[1]||t[2]),K(e,"bx--btn--lg","lg"===t[1]),K(e,"bx--btn--xl","xl"===t[1])},m(r,a){$(r,e,a),n||(i=[Y(e,"click",t[8]),Y(e,"mouseover",t[9]),Y(e,"mouseenter",t[10]),Y(e,"mouseleave",t[11])],n=!0)},p(t,n){W(e,a=kt(r,[8&n&&t[3]])),K(e,"bx--skeleton",!0),K(e,"bx--btn",!0),K(e,"bx--btn--field","field"===t[1]),K(e,"bx--btn--sm","small"===t[1]||t[2]),K(e,"bx--btn--lg","lg"===t[1]),K(e,"bx--btn--xl","xl"===t[1])},d(t){t&&R(e),n=!1,v(i)}}}function Nt(t){let e,n,i,r,a,o=[{href:t[0]},{rel:i="_blank"===t[3].target?"noopener noreferrer":void 0},{role:"button"},t[3]],s={};for(let l=0;l<o.length;l+=1)s=p(s,o[l]);return{c(){e=F("a"),n=j(""),W(e,s),K(e,"bx--skeleton",!0),K(e,"bx--btn",!0),K(e,"bx--btn--field","field"===t[1]),K(e,"bx--btn--sm","small"===t[1]||t[2]),K(e,"bx--btn--lg","lg"===t[1]),K(e,"bx--btn--xl","xl"===t[1])},m(i,o){$(i,e,o),O(e,n),r||(a=[Y(e,"click",t[4]),Y(e,"mouseover",t[5]),Y(e,"mouseenter",t[6]),Y(e,"mouseleave",t[7])],r=!0)},p(t,n){W(e,s=kt(o,[1&n&&{href:t[0]},8&n&&i!==(i="_blank"===t[3].target?"noopener noreferrer":void 0)&&{rel:i},{role:"button"},8&n&&t[3]])),K(e,"bx--skeleton",!0),K(e,"bx--btn",!0),K(e,"bx--btn--field","field"===t[1]),K(e,"bx--btn--sm","small"===t[1]||t[2]),K(e,"bx--btn--lg","lg"===t[1]),K(e,"bx--btn--xl","xl"===t[1])},d(t){t&&R(e),r=!1,v(a)}}}function Ft(t){let e;function n(t,e){return t[0]?Nt:Rt}let i=n(t),r=i(t);return{c(){r.c(),e=H()},m(t,n){r.m(t,n),$(t,e,n)},p(t,[a]){i===(i=n(t))&&r?r.p(t,a):(r.d(1),r=i(t),r&&(r.c(),r.m(e.parentNode,e)))},i:f,o:f,d(t){r.d(t),t&&R(e)}}}function Gt(t,e,n){const i=["href","size","small"];let r=T(e,i),{href:a}=e,{size:o="default"}=e,{small:s=!1}=e;return t.$$set=t=>{e=p(p({},e),A(t)),n(3,r=T(e,i)),"href"in t&&n(0,a=t.href),"size"in t&&n(1,o=t.size),"small"in t&&n(2,s=t.small)},[a,o,s,r,function(e){at.call(this,t,e)},function(e){at.call(this,t,e)},function(e){at.call(this,t,e)},function(e){at.call(this,t,e)},function(e){at.call(this,t,e)},function(e){at.call(this,t,e)},function(e){at.call(this,t,e)},function(e){at.call(this,t,e)}]}class jt extends Lt{constructor(t){super(),Ot(this,t,Gt,Ft,b,{href:0,size:1,small:2})}}const Bt=t=>({props:512&t[0]}),Ht=t=>({props:t[9]});function Yt(t){let e,n,i,r,a,o,s=t[0]&&qt(t);const l=t[19].default,h=w(l,t,t[18],null);var c=t[3];function d(t){return{props:{"aria-hidden":"true",class:"bx--btn__icon","aria-label":t[4]}}}c&&(i=new c(d(t)));let u=[t[9]],f={};for(let g=0;g<u.length;g+=1)f=p(f,u[g]);return{c(){e=F("button"),s&&s.c(),n=B(),h&&h.c(),i&&Tt(i.$$.fragment),W(e,f)},m(l,c){$(l,e,c),s&&s.m(e,null),O(e,n),h&&h.m(e,null),i&&Pt(i,e,null),e.autofocus&&e.focus(),t[33](e),r=!0,a||(o=[Y(e,"click",t[24]),Y(e,"mouseover",t[25]),Y(e,"mouseenter",t[26]),Y(e,"mouseleave",t[27])],a=!0)},p(t,a){t[0]?s?s.p(t,a):(s=qt(t),s.c(),s.m(e,n)):s&&(s.d(1),s=null),h&&h.p&&(!r||262144&a[0])&&k(h,l,t,t[18],r?C(l,t[18],a,null):M(t[18]),null);const o={};if(16&a[0]&&(o["aria-label"]=t[4]),c!==(c=t[3])){if(i){_t();const t=i;St(t.$$.fragment,1,0,(()=>{Dt(t,1)})),xt()}c?(i=new c(d(t)),Tt(i.$$.fragment),wt(i.$$.fragment,1),Pt(i,e,null)):i=null}else c&&i.$set(o);W(e,f=kt(u,[512&a[0]&&t[9]]))},i(t){r||(wt(h,t),i&&wt(i.$$.fragment,t),r=!0)},o(t){St(h,t),i&&St(i.$$.fragment,t),r=!1},d(n){n&&R(e),s&&s.d(),h&&h.d(n),i&&Dt(i),t[33](null),a=!1,v(o)}}}function zt(t){let e,n,i,r,a,o,s=t[0]&&Xt(t);const l=t[19].default,h=w(l,t,t[18],null);var c=t[3];function d(t){return{props:{"aria-hidden":"true",class:"bx--btn__icon","aria-label":t[4]}}}c&&(i=new c(d(t)));let u=[t[9]],f={};for(let g=0;g<u.length;g+=1)f=p(f,u[g]);return{c(){e=F("a"),s&&s.c(),n=B(),h&&h.c(),i&&Tt(i.$$.fragment),W(e,f)},m(l,c){$(l,e,c),s&&s.m(e,null),O(e,n),h&&h.m(e,null),i&&Pt(i,e,null),t[32](e),r=!0,a||(o=[Y(e,"click",t[20]),Y(e,"mouseover",t[21]),Y(e,"mouseenter",t[22]),Y(e,"mouseleave",t[23])],a=!0)},p(t,a){t[0]?s?s.p(t,a):(s=Xt(t),s.c(),s.m(e,n)):s&&(s.d(1),s=null),h&&h.p&&(!r||262144&a[0])&&k(h,l,t,t[18],r?C(l,t[18],a,null):M(t[18]),null);const o={};if(16&a[0]&&(o["aria-label"]=t[4]),c!==(c=t[3])){if(i){_t();const t=i;St(t.$$.fragment,1,0,(()=>{Dt(t,1)})),xt()}c?(i=new c(d(t)),Tt(i.$$.fragment),wt(i.$$.fragment,1),Pt(i,e,null)):i=null}else c&&i.$set(o);W(e,f=kt(u,[512&a[0]&&t[9]]))},i(t){r||(wt(h,t),i&&wt(i.$$.fragment,t),r=!0)},o(t){St(h,t),i&&St(i.$$.fragment,t),r=!1},d(n){n&&R(e),s&&s.d(),h&&h.d(n),i&&Dt(i),t[32](null),a=!1,v(o)}}}function Wt(t){let e;const n=t[19].default,i=w(n,t,t[18],Ht);return{c(){i&&i.c()},m(t,n){i&&i.m(t,n),e=!0},p(t,r){i&&i.p&&(!e||262656&r[0])&&k(i,n,t,t[18],e?C(n,t[18],r,Bt):M(t[18]),Ht)},i(t){e||(wt(i,t),e=!0)},o(t){St(i,t),e=!1},d(t){i&&i.d(t)}}}function Ut(t){let e,n;const i=[{href:t[8]},{size:t[2]},t[10],{style:t[0]&&"width: 3rem;"}];let r={};for(let a=0;a<i.length;a+=1)r=p(r,i[a]);return e=new jt({props:r}),e.$on("click",t[28]),e.$on("mouseover",t[29]),e.$on("mouseenter",t[30]),e.$on("mouseleave",t[31]),{c(){Tt(e.$$.fragment)},m(t,i){Pt(e,t,i),n=!0},p(t,n){const r=1285&n[0]?kt(i,[256&n[0]&&{href:t[8]},4&n[0]&&{size:t[2]},1024&n[0]&&Mt(t[10]),1&n[0]&&{style:t[0]&&"width: 3rem;"}]):{};e.$set(r)},i(t){n||(wt(e.$$.fragment,t),n=!0)},o(t){St(e.$$.fragment,t),n=!1},d(t){Dt(e,t)}}}function qt(t){let e,n;return{c(){e=F("span"),n=j(t[4]),K(e,"bx--assistive-text",!0)},m(t,i){$(t,e,i),O(e,n)},p(t,e){16&e[0]&&V(n,t[4])},d(t){t&&R(e)}}}function Xt(t){let e,n;return{c(){e=F("span"),n=j(t[4]),K(e,"bx--assistive-text",!0)},m(t,i){$(t,e,i),O(e,n)},p(t,e){16&e[0]&&V(n,t[4])},d(t){t&&R(e)}}}function Vt(t){let e,n,i,r;const a=[Ut,Wt,zt,Yt],o=[];function s(t,e){return t[6]?0:t[5]?1:t[8]&&!t[7]?2:3}return e=s(t),n=o[e]=a[e](t),{c(){n.c(),i=H()},m(t,n){o[e].m(t,n),$(t,i,n),r=!0},p(t,r){let l=e;e=s(t),e===l?o[e].p(t,r):(_t(),St(o[l],1,1,(()=>{o[l]=null})),xt(),n=o[e],n?n.p(t,r):(n=o[e]=a[e](t),n.c()),wt(n,1),n.m(i.parentNode,i))},i(t){r||(wt(n),r=!0)},o(t){St(n),r=!1},d(t){o[e].d(t),t&&R(i)}}}function Kt(t,e,n){let i;const r=["kind","size","expressive","isSelected","hasIconOnly","icon","iconDescription","tooltipAlignment","tooltipPosition","as","skeleton","disabled","href","tabindex","type","ref"];let a=T(e,r),{$$slots:o={},$$scope:s}=e;const l=function(t){const e={};for(const n in t)e[n]=!0;return e}(o);let{kind:d="primary"}=e,{size:u="default"}=e,{expressive:f=!1}=e,{isSelected:g=!1}=e,{hasIconOnly:m=!1}=e,{icon:v}=e,{iconDescription:y}=e,{tooltipAlignment:b="center"}=e,{tooltipPosition:_="bottom"}=e,{as:x=!1}=e,{skeleton:w=!1}=e,{disabled:S=!1}=e,{href:C}=e,{tabindex:k="0"}=e,{type:M="button"}=e,{ref:P=null}=e;const D=rt("ComposedModal");return t.$$set=t=>{e=p(p({},e),A(t)),n(10,a=T(e,r)),"kind"in t&&n(11,d=t.kind),"size"in t&&n(2,u=t.size),"expressive"in t&&n(12,f=t.expressive),"isSelected"in t&&n(13,g=t.isSelected),"hasIconOnly"in t&&n(0,m=t.hasIconOnly),"icon"in t&&n(3,v=t.icon),"iconDescription"in t&&n(4,y=t.iconDescription),"tooltipAlignment"in t&&n(14,b=t.tooltipAlignment),"tooltipPosition"in t&&n(15,_=t.tooltipPosition),"as"in t&&n(5,x=t.as),"skeleton"in t&&n(6,w=t.skeleton),"disabled"in t&&n(7,S=t.disabled),"href"in t&&n(8,C=t.href),"tabindex"in t&&n(16,k=t.tabindex),"type"in t&&n(17,M=t.type),"ref"in t&&n(1,P=t.ref),"$$scope"in t&&n(18,s=t.$$scope)},t.$$.update=()=>{2&t.$$.dirty[0]&&D&&P&&D.declareRef(P),8&t.$$.dirty[0]&&n(0,m=v&&!l.default),n(9,i=c(h({type:C&&!S?void 0:M,tabindex:k,disabled:!0===S||void 0,href:C,"aria-pressed":m&&"ghost"===d?g:void 0},a),{class:["bx--btn",f&&"bx--btn--expressive",("small"===u&&!f||"sm"===u&&!f||"small"===u&&!f)&&"bx--btn--sm","field"===u&&!f||"md"===u&&!f&&"bx--btn--md","field"===u&&"bx--btn--field","small"===u&&"bx--btn--sm","lg"===u&&"bx--btn--lg","xl"===u&&"bx--btn--xl",d&&`bx--btn--${d}`,S&&"bx--btn--disabled",m&&"bx--btn--icon-only",m&&"bx--tooltip__trigger",m&&"bx--tooltip--a11y",m&&_&&`bx--btn--icon-only--${_}`,m&&b&&`bx--tooltip--align-${b}`,m&&g&&"ghost"===d&&"bx--btn--selected",a.class].filter(Boolean).join(" ")}))},[m,P,u,v,y,x,w,S,C,i,a,d,f,g,b,_,k,M,s,o,function(e){at.call(this,t,e)},function(e){at.call(this,t,e)},function(e){at.call(this,t,e)},function(e){at.call(this,t,e)},function(e){at.call(this,t,e)},function(e){at.call(this,t,e)},function(e){at.call(this,t,e)},function(e){at.call(this,t,e)},function(e){at.call(this,t,e)},function(e){at.call(this,t,e)},function(e){at.call(this,t,e)},function(e){at.call(this,t,e)},function(t){st[t?"unshift":"push"]((()=>{P=t,n(1,P)}))},function(t){st[t?"unshift":"push"]((()=>{P=t,n(1,P)}))}]}class Jt extends Lt{constructor(t){super(),Ot(this,t,Kt,Vt,b,{kind:11,size:2,expressive:12,isSelected:13,hasIconOnly:0,icon:3,iconDescription:4,tooltipAlignment:14,tooltipPosition:15,as:5,skeleton:6,disabled:7,href:8,tabindex:16,type:17,ref:1},null,[-1,-1])}}function Qt(t){let e,n,i,r;const a=t[7].default,o=w(a,t,t[6],null);let s=[{role:"tablist"},t[2]],l={};for(let h=0;h<s.length;h+=1)l=p(l,s[h]);return{c(){e=F("div"),o&&o.c(),W(e,l),K(e,"bx--content-switcher",!0),K(e,"bx--content-switcher--light",t[0]),K(e,"bx--content-switcher--sm","sm"===t[1]),K(e,"bx--content-switcher--xl","xl"===t[1])},m(a,s){$(a,e,s),o&&o.m(e,null),n=!0,i||(r=[Y(e,"click",t[8]),Y(e,"mouseover",t[9]),Y(e,"mouseenter",t[10]),Y(e,"mouseleave",t[11])],i=!0)},p(t,[i]){o&&o.p&&(!n||64&i)&&k(o,a,t,t[6],n?C(a,t[6],i,null):M(t[6]),null),W(e,l=kt(s,[{role:"tablist"},4&i&&t[2]])),K(e,"bx--content-switcher",!0),K(e,"bx--content-switcher--light",t[0]),K(e,"bx--content-switcher--sm","sm"===t[1]),K(e,"bx--content-switcher--xl","xl"===t[1])},i(t){n||(wt(o,t),n=!0)},o(t){St(o,t),n=!1},d(t){t&&R(e),o&&o.d(t),i=!1,v(r)}}}function Zt(t,e,n){let i,r;const a=["selectedIndex","light","size"];let o=T(e,a),{$$slots:s={},$$scope:l}=e,{selectedIndex:h=0}=e,{light:c=!1}=e,{size:d}=e;const u=nt(),f=It(null);return it("ContentSwitcher",{currentId:f,add:({id:t,text:e,selected:i})=>{i&&n(3,h=r.length),n(5,r=[...r,{id:t,text:e,selected:i}])},update:t=>{n(3,h=r.map((({id:t})=>t)).indexOf(t))},change:t=>{let e=i+t;e<0?e=r.length-1:e>=r.length&&(e=0),n(3,h=e)}}),tt((()=>{h!==i&&n(4,i=h)})),t.$$set=t=>{e=p(p({},e),A(t)),n(2,o=T(e,a)),"selectedIndex"in t&&n(3,h=t.selectedIndex),"light"in t&&n(0,c=t.light),"size"in t&&n(1,d=t.size),"$$scope"in t&&n(6,l=t.$$scope)},t.$$.update=()=>{48&t.$$.dirty&&r[i]&&(u("change",i),f.set(r[i].id))},n(4,i=-1),n(5,r=[]),[c,d,o,h,i,r,l,s,function(e){at.call(this,t,e)},function(e){at.call(this,t,e)},function(e){at.call(this,t,e)},function(e){at.call(this,t,e)}]}class te extends Lt{constructor(t){super(),Ot(this,t,Zt,Qt,b,{selectedIndex:3,light:0,size:1})}}function ee(t){let e,n,i,r,a,o;const s=t[8].default,l=w(s,t,t[7],null),h=l||function(t){let e;return{c(){e=j(t[2])},m(t,n){$(t,e,n)},p(t,n){4&n&&V(e,t[2])},d(t){t&&R(e)}}}(t);let c=[{role:"tab"},{tabindex:i=t[0]?"0":"-1"},{"aria-selected":t[0]},{disabled:t[3]},{id:t[4]},t[6]],d={};for(let u=0;u<c.length;u+=1)d=p(d,c[u]);return{c(){e=F("button"),n=F("span"),h&&h.c(),K(n,"bx--content-switcher__label",!0),W(e,d),K(e,"bx--content-switcher-btn",!0),K(e,"bx--content-switcher--selected",t[0])},m(i,s){var l;$(i,e,s),O(e,n),h&&h.m(n,null),e.autofocus&&e.focus(),t[14](e),r=!0,a||(o=[Y(e,"click",t[9]),Y(e,"click",(l=t[15],function(t){return t.preventDefault(),l.call(this,t)})),Y(e,"mouseover",t[10]),Y(e,"mouseenter",t[11]),Y(e,"mouseleave",t[12]),Y(e,"keydown",t[13]),Y(e,"keydown",t[16])],a=!0)},p(t,[n]){l?l.p&&(!r||128&n)&&k(l,s,t,t[7],r?C(s,t[7],n,null):M(t[7]),null):h&&h.p&&(!r||4&n)&&h.p(t,r?n:-1),W(e,d=kt(c,[{role:"tab"},(!r||1&n&&i!==(i=t[0]?"0":"-1"))&&{tabindex:i},(!r||1&n)&&{"aria-selected":t[0]},(!r||8&n)&&{disabled:t[3]},(!r||16&n)&&{id:t[4]},64&n&&t[6]])),K(e,"bx--content-switcher-btn",!0),K(e,"bx--content-switcher--selected",t[0])},i(t){r||(wt(h,t),r=!0)},o(t){St(h,t),r=!1},d(n){n&&R(e),h&&h.d(n),t[14](null),a=!1,v(o)}}}function ne(t,e,n){const i=["text","selected","disabled","id","ref"];let r=T(e,i),{$$slots:a={},$$scope:o}=e,{text:s="Provide text"}=e,{selected:l=!1}=e,{disabled:h=!1}=e,{id:c="ccs-"+Math.random().toString(36)}=e,{ref:d=null}=e;const u=rt("ContentSwitcher");u.add({id:c,text:s,selected:l});const f=u.currentId.subscribe((t=>{n(0,l=t===c)}));tt((()=>{l&&d.focus()})),et((()=>{f()}));return t.$$set=t=>{e=p(p({},e),A(t)),n(6,r=T(e,i)),"text"in t&&n(2,s=t.text),"selected"in t&&n(0,l=t.selected),"disabled"in t&&n(3,h=t.disabled),"id"in t&&n(4,c=t.id),"ref"in t&&n(1,d=t.ref),"$$scope"in t&&n(7,o=t.$$scope)},[l,d,s,h,c,u,r,o,a,function(e){at.call(this,t,e)},function(e){at.call(this,t,e)},function(e){at.call(this,t,e)},function(e){at.call(this,t,e)},function(e){at.call(this,t,e)},function(t){st[t?"unshift":"push"]((()=>{d=t,n(1,d)}))},()=>{u.update(c)},({key:t})=>{"ArrowRight"===t?u.change(1):"ArrowLeft"===t&&u.change(-1)}]}class ie extends Lt{constructor(t){super(),Ot(this,t,ne,ee,b,{text:2,selected:0,disabled:3,id:4,ref:1})}}function re(t){let e,n;return{c(){e=G("title"),n=j(t[2])},m(t,i){$(t,e,i),O(e,n)},p(t,e){4&e&&V(n,t[2])},d(t){t&&R(e)}}}function ae(t){let e,n,i,r,a,o;const s=t[11].default,l=w(s,t,t[10],null),h=l||function(t){let e,n=t[2]&&re(t);return{c(){n&&n.c(),e=H()},m(t,i){n&&n.m(t,i),$(t,e,i)},p(t,i){t[2]?n?n.p(t,i):(n=re(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&R(e)}}}(t);let c=[{"data-carbon-icon":"WarningFilled16"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 16 16"},{fill:"currentColor"},{width:"16"},{height:"16"},{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},{style:t[3]},{id:t[1]},t[4]],d={};for(let u=0;u<c.length;u+=1)d=p(d,c[u]);return{c(){e=G("svg"),n=G("path"),i=G("path"),h&&h.c(),z(n,"d","M8,1C4.2,1,1,4.2,1,8s3.2,7,7,7s7-3.1,7-7S11.9,1,8,1z M7.5,4h1v5h-1C7.5,9,7.5,4,7.5,4z M8,12.2\tc-0.4,0-0.8-0.4-0.8-0.8s0.3-0.8,0.8-0.8c0.4,0,0.8,0.4,0.8,0.8S8.4,12.2,8,12.2z"),z(i,"d","M7.5,4h1v5h-1C7.5,9,7.5,4,7.5,4z M8,12.2c-0.4,0-0.8-0.4-0.8-0.8s0.3-0.8,0.8-0.8\tc0.4,0,0.8,0.4,0.8,0.8S8.4,12.2,8,12.2z"),z(i,"data-icon-path","inner-path"),z(i,"opacity","0"),U(e,d)},m(s,l){$(s,e,l),O(e,n),O(e,i),h&&h.m(e,null),r=!0,a||(o=[Y(e,"click",t[12]),Y(e,"mouseover",t[13]),Y(e,"mouseenter",t[14]),Y(e,"mouseleave",t[15]),Y(e,"keyup",t[16]),Y(e,"keydown",t[17])],a=!0)},p(t,[n]){l?l.p&&(!r||1024&n)&&k(l,s,t,t[10],r?C(s,t[10],n,null):M(t[10]),null):h&&h.p&&(!r||4&n)&&h.p(t,r?n:-1),U(e,d=kt(c,[{"data-carbon-icon":"WarningFilled16"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 16 16"},{fill:"currentColor"},{width:"16"},{height:"16"},(!r||1&n)&&{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},(!r||8&n)&&{style:t[3]},(!r||2&n)&&{id:t[1]},16&n&&t[4]]))},i(t){r||(wt(h,t),r=!0)},o(t){St(h,t),r=!1},d(t){t&&R(e),h&&h.d(t),a=!1,v(o)}}}function oe(t,e,n){let i,r,a,o,{$$slots:s={},$$scope:l}=e,{class:h}=e,{id:c}=e,{tabindex:d}=e,{focusable:u=!1}=e,{title:f}=e,{style:g}=e;return t.$$set=t=>{n(18,e=p(p({},e),A(t))),"class"in t&&n(0,h=t.class),"id"in t&&n(1,c=t.id),"tabindex"in t&&n(5,d=t.tabindex),"focusable"in t&&n(6,u=t.focusable),"title"in t&&n(2,f=t.title),"style"in t&&n(3,g=t.style),"$$scope"in t&&n(10,l=t.$$scope)},t.$$.update=()=>{n(9,i=e["aria-label"]),n(8,r=e["aria-labelledby"]),772&t.$$.dirty&&n(7,a=i||r||f),992&t.$$.dirty&&n(4,o={"aria-label":i,"aria-labelledby":r,"aria-hidden":!a||void 0,role:a?"img":void 0,focusable:"0"===d||u,tabindex:d})},e=A(e),[h,c,f,g,o,d,u,a,r,i,l,s,function(e){at.call(this,t,e)},function(e){at.call(this,t,e)},function(e){at.call(this,t,e)},function(e){at.call(this,t,e)},function(e){at.call(this,t,e)},function(e){at.call(this,t,e)}]}var se=class extends Lt{constructor(t){super(),Ot(this,t,oe,ae,b,{class:0,id:1,tabindex:5,focusable:6,title:2,style:3})}};function le(t){let e,n;return{c(){e=G("title"),n=j(t[2])},m(t,i){$(t,e,i),O(e,n)},p(t,e){4&e&&V(n,t[2])},d(t){t&&R(e)}}}function he(t){let e,n,i,r,a,o,s;const l=t[11].default,h=w(l,t,t[10],null),c=h||function(t){let e,n=t[2]&&le(t);return{c(){n&&n.c(),e=H()},m(t,i){n&&n.m(t,i),$(t,e,i)},p(t,i){t[2]?n?n.p(t,i):(n=le(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&R(e)}}}(t);let d=[{"data-carbon-icon":"WarningAltFilled16"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{width:"16"},{height:"16"},{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},{style:t[3]},{id:t[1]},t[4]],u={};for(let f=0;f<d.length;f+=1)u=p(u,d[f]);return{c(){e=G("svg"),n=G("path"),i=G("path"),r=G("path"),c&&c.c(),z(n,"fill","none"),z(n,"d","M16,26a1.5,1.5,0,1,1,1.5-1.5A1.5,1.5,0,0,1,16,26Zm-1.125-5h2.25V12h-2.25Z"),z(n,"data-icon-path","inner-path"),z(i,"d","M16.002,6.1714h-.004L4.6487,27.9966,4.6506,28H27.3494l.0019-.0034ZM14.875,12h2.25v9h-2.25ZM16,26a1.5,1.5,0,1,1,1.5-1.5A1.5,1.5,0,0,1,16,26Z"),z(r,"d","M29,30H3a1,1,0,0,1-.8872-1.4614l13-25a1,1,0,0,1,1.7744,0l13,25A1,1,0,0,1,29,30ZM4.6507,28H27.3493l.002-.0033L16.002,6.1714h-.004L4.6487,27.9967Z"),U(e,u)},m(l,h){$(l,e,h),O(e,n),O(e,i),O(e,r),c&&c.m(e,null),a=!0,o||(s=[Y(e,"click",t[12]),Y(e,"mouseover",t[13]),Y(e,"mouseenter",t[14]),Y(e,"mouseleave",t[15]),Y(e,"keyup",t[16]),Y(e,"keydown",t[17])],o=!0)},p(t,[n]){h?h.p&&(!a||1024&n)&&k(h,l,t,t[10],a?C(l,t[10],n,null):M(t[10]),null):c&&c.p&&(!a||4&n)&&c.p(t,a?n:-1),U(e,u=kt(d,[{"data-carbon-icon":"WarningAltFilled16"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{width:"16"},{height:"16"},(!a||1&n)&&{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},(!a||8&n)&&{style:t[3]},(!a||2&n)&&{id:t[1]},16&n&&t[4]]))},i(t){a||(wt(c,t),a=!0)},o(t){St(c,t),a=!1},d(t){t&&R(e),c&&c.d(t),o=!1,v(s)}}}function ce(t,e,n){let i,r,a,o,{$$slots:s={},$$scope:l}=e,{class:h}=e,{id:c}=e,{tabindex:d}=e,{focusable:u=!1}=e,{title:f}=e,{style:g}=e;return t.$$set=t=>{n(18,e=p(p({},e),A(t))),"class"in t&&n(0,h=t.class),"id"in t&&n(1,c=t.id),"tabindex"in t&&n(5,d=t.tabindex),"focusable"in t&&n(6,u=t.focusable),"title"in t&&n(2,f=t.title),"style"in t&&n(3,g=t.style),"$$scope"in t&&n(10,l=t.$$scope)},t.$$.update=()=>{n(9,i=e["aria-label"]),n(8,r=e["aria-labelledby"]),772&t.$$.dirty&&n(7,a=i||r||f),992&t.$$.dirty&&n(4,o={"aria-label":i,"aria-labelledby":r,"aria-hidden":!a||void 0,role:a?"img":void 0,focusable:"0"===d||u,tabindex:d})},e=A(e),[h,c,f,g,o,d,u,a,r,i,l,s,function(e){at.call(this,t,e)},function(e){at.call(this,t,e)},function(e){at.call(this,t,e)},function(e){at.call(this,t,e)},function(e){at.call(this,t,e)},function(e){at.call(this,t,e)}]}var de=class extends Lt{constructor(t){super(),Ot(this,t,ce,he,b,{class:0,id:1,tabindex:5,focusable:6,title:2,style:3})}};function ue(t){let e,n;return{c(){e=G("title"),n=j(t[2])},m(t,i){$(t,e,i),O(e,n)},p(t,e){4&e&&V(n,t[2])},d(t){t&&R(e)}}}function fe(t){let e,n,i,r,a;const o=t[11].default,s=w(o,t,t[10],null),l=s||function(t){let e,n=t[2]&&ue(t);return{c(){n&&n.c(),e=H()},m(t,i){n&&n.m(t,i),$(t,e,i)},p(t,i){t[2]?n?n.p(t,i):(n=ue(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&R(e)}}}(t);let h=[{"data-carbon-icon":"ChevronDown16"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 16 16"},{fill:"currentColor"},{width:"16"},{height:"16"},{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},{style:t[3]},{id:t[1]},t[4]],c={};for(let d=0;d<h.length;d+=1)c=p(c,h[d]);return{c(){e=G("svg"),n=G("path"),l&&l.c(),z(n,"d","M8 11L3 6 3.7 5.3 8 9.6 12.3 5.3 13 6z"),U(e,c)},m(o,s){$(o,e,s),O(e,n),l&&l.m(e,null),i=!0,r||(a=[Y(e,"click",t[12]),Y(e,"mouseover",t[13]),Y(e,"mouseenter",t[14]),Y(e,"mouseleave",t[15]),Y(e,"keyup",t[16]),Y(e,"keydown",t[17])],r=!0)},p(t,[n]){s?s.p&&(!i||1024&n)&&k(s,o,t,t[10],i?C(o,t[10],n,null):M(t[10]),null):l&&l.p&&(!i||4&n)&&l.p(t,i?n:-1),U(e,c=kt(h,[{"data-carbon-icon":"ChevronDown16"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 16 16"},{fill:"currentColor"},{width:"16"},{height:"16"},(!i||1&n)&&{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},(!i||8&n)&&{style:t[3]},(!i||2&n)&&{id:t[1]},16&n&&t[4]]))},i(t){i||(wt(l,t),i=!0)},o(t){St(l,t),i=!1},d(t){t&&R(e),l&&l.d(t),r=!1,v(a)}}}function pe(t,e,n){let i,r,a,o,{$$slots:s={},$$scope:l}=e,{class:h}=e,{id:c}=e,{tabindex:d}=e,{focusable:u=!1}=e,{title:f}=e,{style:g}=e;return t.$$set=t=>{n(18,e=p(p({},e),A(t))),"class"in t&&n(0,h=t.class),"id"in t&&n(1,c=t.id),"tabindex"in t&&n(5,d=t.tabindex),"focusable"in t&&n(6,u=t.focusable),"title"in t&&n(2,f=t.title),"style"in t&&n(3,g=t.style),"$$scope"in t&&n(10,l=t.$$scope)},t.$$.update=()=>{n(9,i=e["aria-label"]),n(8,r=e["aria-labelledby"]),772&t.$$.dirty&&n(7,a=i||r||f),992&t.$$.dirty&&n(4,o={"aria-label":i,"aria-labelledby":r,"aria-hidden":!a||void 0,role:a?"img":void 0,focusable:"0"===d||u,tabindex:d})},e=A(e),[h,c,f,g,o,d,u,a,r,i,l,s,function(e){at.call(this,t,e)},function(e){at.call(this,t,e)},function(e){at.call(this,t,e)},function(e){at.call(this,t,e)},function(e){at.call(this,t,e)},function(e){at.call(this,t,e)}]}var ge=class extends Lt{constructor(t){super(),Ot(this,t,pe,fe,b,{class:0,id:1,tabindex:5,focusable:6,title:2,style:3})}};const me=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],ve={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:"object"==typeof window&&-1===window.navigator.userAgent.indexOf("MSIE"),ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:t=>"undefined"!=typeof console&&console.warn(t),getWeek:t=>{const e=new Date(t.getTime());e.setHours(0,0,0,0),e.setDate(e.getDate()+3-(e.getDay()+6)%7);var n=new Date(e.getFullYear(),0,4);return 1+Math.round(((e.getTime()-n.getTime())/864e5-3+(n.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},ye={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:t=>{const e=t%100;if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},be=(t,e=2)=>`000${t}`.slice(-1*e),_e=t=>!0===t?1:0;function xe(t,e){let n;return function(){clearTimeout(n),n=setTimeout((()=>t.apply(this,arguments)),e)}}const we=t=>t instanceof Array?t:[t];function Se(t,e,n){if(!0===n)return t.classList.add(e);t.classList.remove(e)}function Ce(t,e,n){const i=window.document.createElement(t);return e=e||"",n=n||"",i.className=e,void 0!==n&&(i.textContent=n),i}function ke(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function Me(t,e){return e(t)?t:t.parentNode?Me(t.parentNode,e):void 0}function Ae(t,e){const n=Ce("div","numInputWrapper"),i=Ce("input","numInput "+t),r=Ce("span","arrowUp"),a=Ce("span","arrowDown");if(-1===navigator.userAgent.indexOf("MSIE 9.0")?i.type="number":(i.type="text",i.pattern="\\d*"),void 0!==e)for(const o in e)i.setAttribute(o,e[o]);return n.appendChild(i),n.appendChild(r),n.appendChild(a),n}function Te(t){try{if("function"==typeof t.composedPath){return t.composedPath()[0]}return t.target}catch(e){return t.target}}const Pe=()=>{},De=(t,e,n)=>n.months[e?"shorthand":"longhand"][t],Ee={D:Pe,F:function(t,e,n){t.setMonth(n.months.longhand.indexOf(e))},G:(t,e)=>{t.setHours(parseFloat(e))},H:(t,e)=>{t.setHours(parseFloat(e))},J:(t,e)=>{t.setDate(parseFloat(e))},K:(t,e,n)=>{t.setHours(t.getHours()%12+12*_e(new RegExp(n.amPM[1],"i").test(e)))},M:function(t,e,n){t.setMonth(n.months.shorthand.indexOf(e))},S:(t,e)=>{t.setSeconds(parseFloat(e))},U:(t,e)=>new Date(1e3*parseFloat(e)),W:function(t,e,n){const i=parseInt(e),r=new Date(t.getFullYear(),0,2+7*(i-1),0,0,0,0);return r.setDate(r.getDate()-r.getDay()+n.firstDayOfWeek),r},Y:(t,e)=>{t.setFullYear(parseFloat(e))},Z:(t,e)=>new Date(e),d:(t,e)=>{t.setDate(parseFloat(e))},h:(t,e)=>{t.setHours(parseFloat(e))},i:(t,e)=>{t.setMinutes(parseFloat(e))},j:(t,e)=>{t.setDate(parseFloat(e))},l:Pe,m:(t,e)=>{t.setMonth(parseFloat(e)-1)},n:(t,e)=>{t.setMonth(parseFloat(e)-1)},s:(t,e)=>{t.setSeconds(parseFloat(e))},u:(t,e)=>new Date(parseFloat(e)),w:Pe,y:(t,e)=>{t.setFullYear(2e3+parseFloat(e))}},Oe={D:"(\\w+)",F:"(\\w+)",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"(\\w+)",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"(\\w+)",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},Le={Z:t=>t.toISOString(),D:function(t,e,n){return e.weekdays.shorthand[Le.w(t,e,n)]},F:function(t,e,n){return De(Le.n(t,e,n)-1,!1,e)},G:function(t,e,n){return be(Le.h(t,e,n))},H:t=>be(t.getHours()),J:function(t,e){return void 0!==e.ordinal?t.getDate()+e.ordinal(t.getDate()):t.getDate()},K:(t,e)=>e.amPM[_e(t.getHours()>11)],M:function(t,e){return De(t.getMonth(),!0,e)},S:t=>be(t.getSeconds()),U:t=>t.getTime()/1e3,W:function(t,e,n){return n.getWeek(t)},Y:t=>be(t.getFullYear(),4),d:t=>be(t.getDate()),h:t=>t.getHours()%12?t.getHours()%12:12,i:t=>be(t.getMinutes()),j:t=>t.getDate(),l:function(t,e){return e.weekdays.longhand[t.getDay()]},m:t=>be(t.getMonth()+1),n:t=>t.getMonth()+1,s:t=>t.getSeconds(),u:t=>t.getTime(),w:t=>t.getDay(),y:t=>String(t.getFullYear()).substring(2)},$e=({config:t=ve,l10n:e=ye,isMobile:n=!1})=>(i,r,a)=>{const o=a||e;return void 0===t.formatDate||n?r.split("").map(((e,n,r)=>Le[e]&&"\\"!==r[n-1]?Le[e](i,o,t):"\\"!==e?e:"")).join(""):t.formatDate(i,r,o)},Ie=({config:t=ve,l10n:e=ye})=>(n,i,r,a)=>{if(0!==n&&!n)return;const o=a||e;let s;const l=n;if(n instanceof Date)s=new Date(n.getTime());else if("string"!=typeof n&&void 0!==n.toFixed)s=new Date(n);else if("string"==typeof n){const e=i||(t||ve).dateFormat,a=String(n).trim();if("today"===a)s=new Date,r=!0;else if(/Z$/.test(a)||/GMT$/.test(a))s=new Date(n);else if(t&&t.parseDate)s=t.parseDate(n,e);else{s=t&&t.noCalendar?new Date((new Date).setHours(0,0,0,0)):new Date((new Date).getFullYear(),0,1,0,0,0,0);let i,r=[];for(let t=0,a=0,l="";t<e.length;t++){const h=e[t],c="\\"===h,d="\\"===e[t-1]||c;if(Oe[h]&&!d){l+=Oe[h];const t=new RegExp(l).exec(n);t&&(i=!0)&&r["Y"!==h?"push":"unshift"]({fn:Ee[h],val:t[++a]})}else c||(l+=".");r.forEach((({fn:t,val:e})=>s=t(s,e,o)||s))}s=i?s:void 0}}if(s instanceof Date&&!isNaN(s.getTime()))return!0===r&&s.setHours(0,0,0,0),s;t.errorHandler(new Error(`Invalid date provided: ${l}`))};function Re(t,e,n=!0){return!1!==n?new Date(t.getTime()).setHours(0,0,0,0)-new Date(e.getTime()).setHours(0,0,0,0):t.getTime()-e.getTime()}const Ne=864e5;function Fe(t){let e=t.defaultHour,n=t.defaultMinute,i=t.defaultSeconds;if(void 0!==t.minDate){const r=t.minDate.getHours(),a=t.minDate.getMinutes(),o=t.minDate.getSeconds();e<r&&(e=r),e===r&&n<a&&(n=a),e===r&&n===a&&i<o&&(i=t.minDate.getSeconds())}if(void 0!==t.maxDate){const r=t.maxDate.getHours(),a=t.maxDate.getMinutes();e=Math.min(e,r),e===r&&(n=Math.min(a,n)),e===r&&n===a&&(i=t.maxDate.getSeconds())}return{hours:e,minutes:n,seconds:i}}"function"!=typeof Object.assign&&(Object.assign=function(t,...e){if(!t)throw TypeError("Cannot convert undefined or null to object");for(const n of e)n&&Object.keys(n).forEach((e=>t[e]=n[e]));return t});function Ge(t,e){const n={config:Object.assign(Object.assign({},ve),Be.defaultConfig),l10n:ye};function i(t){return t.bind(n)}function r(){const t=n.config;!1===t.weekNumbers&&1===t.showMonths||!0!==t.noCalendar&&window.requestAnimationFrame((function(){if(void 0!==n.calendarContainer&&(n.calendarContainer.style.visibility="hidden",n.calendarContainer.style.display="block"),void 0!==n.daysContainer){const e=(n.days.offsetWidth+1)*t.showMonths;n.daysContainer.style.width=e+"px",n.calendarContainer.style.width=e+(void 0!==n.weekWrapper?n.weekWrapper.offsetWidth:0)+"px",n.calendarContainer.style.removeProperty("visibility"),n.calendarContainer.style.removeProperty("display")}}))}function a(t){if(0===n.selectedDates.length){const t=void 0===n.config.minDate||Re(new Date,n.config.minDate)>=0?new Date:new Date(n.config.minDate.getTime()),e=Fe(n.config);t.setHours(e.hours,e.minutes,e.seconds,t.getMilliseconds()),n.selectedDates=[t],n.latestSelectedDateObj=t}void 0!==t&&"blur"!==t.type&&function(t){t.preventDefault();const e="keydown"===t.type,i=Te(t),r=i;void 0!==n.amPM&&i===n.amPM&&(n.amPM.textContent=n.l10n.amPM[_e(n.amPM.textContent===n.l10n.amPM[0])]);const a=parseFloat(r.getAttribute("min")),o=parseFloat(r.getAttribute("max")),s=parseFloat(r.getAttribute("step")),l=parseInt(r.value,10),h=t.delta||(e?38===t.which?1:-1:0);let c=l+s*h;if(void 0!==r.value&&2===r.value.length){const t=r===n.hourElement,e=r===n.minuteElement;c<a?(c=o+c+_e(!t)+(_e(t)&&_e(!n.amPM)),e&&p(void 0,-1,n.hourElement)):c>o&&(c=r===n.hourElement?c-o-_e(!n.amPM):a,e&&p(void 0,1,n.hourElement)),n.amPM&&t&&(1===s?c+l===23:Math.abs(c-l)>s)&&(n.amPM.textContent=n.l10n.amPM[_e(n.amPM.textContent===n.l10n.amPM[0])]),r.value=be(c)}}(t);const e=n._input.value;o(),J(),n._input.value!==e&&n._debouncedChange()}function o(){if(void 0===n.hourElement||void 0===n.minuteElement)return;let t=(parseInt(n.hourElement.value.slice(-2),10)||0)%24,e=(parseInt(n.minuteElement.value,10)||0)%60,i=void 0!==n.secondElement?(parseInt(n.secondElement.value,10)||0)%60:0;var r,a;void 0!==n.amPM&&(r=t,a=n.amPM.textContent,t=r%12+12*_e(a===n.l10n.amPM[1]));const o=void 0!==n.config.minTime||n.config.minDate&&n.minDateHasTime&&n.latestSelectedDateObj&&0===Re(n.latestSelectedDateObj,n.config.minDate,!0);if(void 0!==n.config.maxTime||n.config.maxDate&&n.maxDateHasTime&&n.latestSelectedDateObj&&0===Re(n.latestSelectedDateObj,n.config.maxDate,!0)){const r=void 0!==n.config.maxTime?n.config.maxTime:n.config.maxDate;t=Math.min(t,r.getHours()),t===r.getHours()&&(e=Math.min(e,r.getMinutes())),e===r.getMinutes()&&(i=Math.min(i,r.getSeconds()))}if(o){const r=void 0!==n.config.minTime?n.config.minTime:n.config.minDate;t=Math.max(t,r.getHours()),t===r.getHours()&&e<r.getMinutes()&&(e=r.getMinutes()),e===r.getMinutes()&&(i=Math.max(i,r.getSeconds()))}l(t,e,i)}function s(t){const e=t||n.latestSelectedDateObj;e&&l(e.getHours(),e.getMinutes(),e.getSeconds())}function l(t,e,i){void 0!==n.latestSelectedDateObj&&n.latestSelectedDateObj.setHours(t%24,e,i||0,0),n.hourElement&&n.minuteElement&&!n.isMobile&&(n.hourElement.value=be(n.config.time_24hr?t:(12+t)%12+12*_e(t%12==0)),n.minuteElement.value=be(e),void 0!==n.amPM&&(n.amPM.textContent=n.l10n.amPM[_e(t>=12)]),void 0!==n.secondElement&&(n.secondElement.value=be(i)))}function h(t){const e=Te(t),n=parseInt(e.value)+(t.delta||0);(n/1e3>1||"Enter"===t.key&&!/[^\d]/.test(n.toString()))&&P(n)}function c(t,e,i,r){return e instanceof Array?e.forEach((e=>c(t,e,i,r))):t instanceof Array?t.forEach((t=>c(t,e,i,r))):(t.addEventListener(e,i,r),void n._handlers.push({remove:()=>t.removeEventListener(e,i)}))}function d(){U("onChange")}function u(t,e){const i=void 0!==t?n.parseDate(t):n.latestSelectedDateObj||(n.config.minDate&&n.config.minDate>n.now?n.config.minDate:n.config.maxDate&&n.config.maxDate<n.now?n.config.maxDate:n.now),r=n.currentYear,a=n.currentMonth;try{void 0!==i&&(n.currentYear=i.getFullYear(),n.currentMonth=i.getMonth())}catch(o){o.message="Invalid date supplied: "+i,n.config.errorHandler(o)}e&&n.currentYear!==r&&(U("onYearChange"),x()),!e||n.currentYear===r&&n.currentMonth===a||U("onMonthChange"),n.redraw()}function f(t){const e=Te(t);~e.className.indexOf("arrow")&&p(t,e.classList.contains("arrowUp")?1:-1)}function p(t,e,n){const i=t&&Te(t),r=n||i&&i.parentNode&&i.parentNode.firstChild,a=q("increment");a.delta=e,r&&r.dispatchEvent(a)}function g(t,e,i,r){const a=D(e,!0),o=Ce("span","flatpickr-day "+t,e.getDate().toString());return o.dateObj=e,o.$i=r,o.setAttribute("aria-label",n.formatDate(e,n.config.ariaDateFormat)),-1===t.indexOf("hidden")&&0===Re(e,n.now)&&(n.todayDateElem=o,o.classList.add("today"),o.setAttribute("aria-current","date")),a?(o.tabIndex=-1,X(e)&&(o.classList.add("selected"),n.selectedDateElem=o,"range"===n.config.mode&&(Se(o,"startRange",n.selectedDates[0]&&0===Re(e,n.selectedDates[0],!0)),Se(o,"endRange",n.selectedDates[1]&&0===Re(e,n.selectedDates[1],!0)),"nextMonthDay"===t&&o.classList.add("inRange")))):o.classList.add("flatpickr-disabled"),"range"===n.config.mode&&function(t){return!("range"!==n.config.mode||n.selectedDates.length<2)&&(Re(t,n.selectedDates[0])>=0&&Re(t,n.selectedDates[1])<=0)}(e)&&!X(e)&&o.classList.add("inRange"),n.weekNumbers&&1===n.config.showMonths&&"prevMonthDay"!==t&&i%7==1&&n.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+n.config.getWeek(e)+"</span>"),U("onDayCreate",o),o}function m(t){t.focus(),"range"===n.config.mode&&$(t)}function v(t){const e=t>0?0:n.config.showMonths-1,i=t>0?n.config.showMonths:-1;for(let r=e;r!=i;r+=t){const e=n.daysContainer.children[r],i=t>0?0:e.children.length-1,a=t>0?e.children.length:-1;for(let n=i;n!=a;n+=t){const t=e.children[n];if(-1===t.className.indexOf("hidden")&&D(t.dateObj))return t}}}function y(t,e){const i=E(document.activeElement||document.body),r=void 0!==t?t:i?document.activeElement:void 0!==n.selectedDateElem&&E(n.selectedDateElem)?n.selectedDateElem:void 0!==n.todayDateElem&&E(n.todayDateElem)?n.todayDateElem:v(e>0?1:-1);void 0===r?n._input.focus():i?function(t,e){const i=-1===t.className.indexOf("Month")?t.dateObj.getMonth():n.currentMonth,r=e>0?n.config.showMonths:-1,a=e>0?1:-1;for(let o=i-n.currentMonth;o!=r;o+=a){const r=n.daysContainer.children[o],s=i-n.currentMonth===o?t.$i+e:e<0?r.children.length-1:0,l=r.children.length;for(let n=s;n>=0&&n<l&&n!=(e>0?l:-1);n+=a){const i=r.children[n];if(-1===i.className.indexOf("hidden")&&D(i.dateObj)&&Math.abs(t.$i-n)>=Math.abs(e))return m(i)}}n.changeMonth(a),y(v(a),0)}(r,e):m(r)}function b(t,e){const i=(new Date(t,e,1).getDay()-n.l10n.firstDayOfWeek+7)%7,r=n.utils.getDaysInMonth((e-1+12)%12,t),a=n.utils.getDaysInMonth(e,t),o=window.document.createDocumentFragment(),s=n.config.showMonths>1,l=s?"prevMonthDay hidden":"prevMonthDay",h=s?"nextMonthDay hidden":"nextMonthDay";let c=r+1-i,d=0;for(;c<=r;c++,d++)o.appendChild(g(l,new Date(t,e-1,c),c,d));for(c=1;c<=a;c++,d++)o.appendChild(g("",new Date(t,e,c),c,d));for(let f=a+1;f<=42-i&&(1===n.config.showMonths||d%7!=0);f++,d++)o.appendChild(g(h,new Date(t,e+1,f%a),f,d));const u=Ce("div","dayContainer");return u.appendChild(o),u}function _(){if(void 0===n.daysContainer)return;ke(n.daysContainer),n.weekNumbers&&ke(n.weekNumbers);const t=document.createDocumentFragment();for(let e=0;e<n.config.showMonths;e++){const i=new Date(n.currentYear,n.currentMonth,1);i.setMonth(n.currentMonth+e),t.appendChild(b(i.getFullYear(),i.getMonth()))}n.daysContainer.appendChild(t),n.days=n.daysContainer.firstChild,"range"===n.config.mode&&1===n.selectedDates.length&&$()}function x(){if(n.config.showMonths>1||"dropdown"!==n.config.monthSelectorType)return;const t=function(t){return!(void 0!==n.config.minDate&&n.currentYear===n.config.minDate.getFullYear()&&t<n.config.minDate.getMonth())&&!(void 0!==n.config.maxDate&&n.currentYear===n.config.maxDate.getFullYear()&&t>n.config.maxDate.getMonth())};n.monthsDropdownContainer.tabIndex=-1,n.monthsDropdownContainer.innerHTML="";for(let e=0;e<12;e++){if(!t(e))continue;const i=Ce("option","flatpickr-monthDropdown-month");i.value=new Date(n.currentYear,e).getMonth().toString(),i.textContent=De(e,n.config.shorthandCurrentMonth,n.l10n),i.tabIndex=-1,n.currentMonth===e&&(i.selected=!0),n.monthsDropdownContainer.appendChild(i)}}function w(){const t=Ce("div","flatpickr-month"),e=window.document.createDocumentFragment();let i;n.config.showMonths>1||"static"===n.config.monthSelectorType?i=Ce("span","cur-month"):(n.monthsDropdownContainer=Ce("select","flatpickr-monthDropdown-months"),n.monthsDropdownContainer.setAttribute("aria-label",n.l10n.monthAriaLabel),c(n.monthsDropdownContainer,"change",(t=>{const e=Te(t),i=parseInt(e.value,10);n.changeMonth(i-n.currentMonth),U("onMonthChange")})),x(),i=n.monthsDropdownContainer);const r=Ae("cur-year",{tabindex:"-1"}),a=r.getElementsByTagName("input")[0];a.setAttribute("aria-label",n.l10n.yearAriaLabel),n.config.minDate&&a.setAttribute("min",n.config.minDate.getFullYear().toString()),n.config.maxDate&&(a.setAttribute("max",n.config.maxDate.getFullYear().toString()),a.disabled=!!n.config.minDate&&n.config.minDate.getFullYear()===n.config.maxDate.getFullYear());const o=Ce("div","flatpickr-current-month");return o.appendChild(i),o.appendChild(r),e.appendChild(o),t.appendChild(e),{container:t,yearElement:a,monthElement:i}}function S(){ke(n.monthNav),n.monthNav.appendChild(n.prevMonthNav),n.config.showMonths&&(n.yearElements=[],n.monthElements=[]);for(let t=n.config.showMonths;t--;){const t=w();n.yearElements.push(t.yearElement),n.monthElements.push(t.monthElement),n.monthNav.appendChild(t.container)}n.monthNav.appendChild(n.nextMonthNav)}function C(){n.weekdayContainer?ke(n.weekdayContainer):n.weekdayContainer=Ce("div","flatpickr-weekdays");for(let t=n.config.showMonths;t--;){const t=Ce("div","flatpickr-weekdaycontainer");n.weekdayContainer.appendChild(t)}return k(),n.weekdayContainer}function k(){if(!n.weekdayContainer)return;const t=n.l10n.firstDayOfWeek;let e=[...n.l10n.weekdays.shorthand];t>0&&t<e.length&&(e=[...e.splice(t,e.length),...e.splice(0,t)]);for(let i=n.config.showMonths;i--;)n.weekdayContainer.children[i].innerHTML=`\n      <span class='flatpickr-weekday'>\n        ${e.join("</span><span class='flatpickr-weekday'>")}\n      </span>\n      `}function M(t,e=!0){const i=e?t:t-n.currentMonth;i<0&&!0===n._hidePrevMonthArrow||i>0&&!0===n._hideNextMonthArrow||(n.currentMonth+=i,(n.currentMonth<0||n.currentMonth>11)&&(n.currentYear+=n.currentMonth>11?1:-1,n.currentMonth=(n.currentMonth+12)%12,U("onYearChange"),x()),_(),U("onMonthChange"),V())}function A(t){return!(!n.config.appendTo||!n.config.appendTo.contains(t))||n.calendarContainer.contains(t)}function T(t){if(n.isOpen&&!n.config.inline){const e=Te(t),i=A(e),r=e===n.input||e===n.altInput||n.element.contains(e)||t.path&&t.path.indexOf&&(~t.path.indexOf(n.input)||~t.path.indexOf(n.altInput)),o="blur"===t.type?r&&t.relatedTarget&&!A(t.relatedTarget):!r&&!i&&!A(t.relatedTarget),s=!n.config.ignoredFocusElements.some((t=>t.contains(e)));o&&s&&(void 0!==n.timeContainer&&void 0!==n.minuteElement&&void 0!==n.hourElement&&""!==n.input.value&&void 0!==n.input.value&&a(),n.close(),n.config&&"range"===n.config.mode&&1===n.selectedDates.length&&(n.clear(!1),n.redraw()))}}function P(t){if(!t||n.config.minDate&&t<n.config.minDate.getFullYear()||n.config.maxDate&&t>n.config.maxDate.getFullYear())return;const e=t,i=n.currentYear!==e;n.currentYear=e||n.currentYear,n.config.maxDate&&n.currentYear===n.config.maxDate.getFullYear()?n.currentMonth=Math.min(n.config.maxDate.getMonth(),n.currentMonth):n.config.minDate&&n.currentYear===n.config.minDate.getFullYear()&&(n.currentMonth=Math.max(n.config.minDate.getMonth(),n.currentMonth)),i&&(n.redraw(),U("onYearChange"),x())}function D(t,e=!0){var i;const r=n.parseDate(t,void 0,e);if(n.config.minDate&&r&&Re(r,n.config.minDate,void 0!==e?e:!n.minDateHasTime)<0||n.config.maxDate&&r&&Re(r,n.config.maxDate,void 0!==e?e:!n.maxDateHasTime)>0)return!1;if(!n.config.enable&&0===n.config.disable.length)return!0;if(void 0===r)return!1;const a=!!n.config.enable,o=null!==(i=n.config.enable)&&void 0!==i?i:n.config.disable;for(let s,l=0;l<o.length;l++){if(s=o[l],"function"==typeof s&&s(r))return a;if(s instanceof Date&&void 0!==r&&s.getTime()===r.getTime())return a;if("string"==typeof s){const t=n.parseDate(s,void 0,!0);return t&&t.getTime()===r.getTime()?a:!a}if("object"==typeof s&&void 0!==r&&s.from&&s.to&&r.getTime()>=s.from.getTime()&&r.getTime()<=s.to.getTime())return a}return!a}function E(t){return void 0!==n.daysContainer&&(-1===t.className.indexOf("hidden")&&-1===t.className.indexOf("flatpickr-disabled")&&n.daysContainer.contains(t))}function O(t){!(t.target===n._input)||!(n.selectedDates.length>0||n._input.value.length>0)||t.relatedTarget&&A(t.relatedTarget)||n.setDate(n._input.value,!0,t.target===n.altInput?n.config.altFormat:n.config.dateFormat)}function L(e){const i=Te(e),r=n.config.wrap?t.contains(i):i===n._input,s=n.config.allowInput,l=n.isOpen&&(!s||!r),h=n.config.inline&&r&&!s;if(13===e.keyCode&&r){if(s)return n.setDate(n._input.value,!0,i===n.altInput?n.config.altFormat:n.config.dateFormat),i.blur();n.open()}else if(A(i)||l||h){const t=!!n.timeContainer&&n.timeContainer.contains(i);switch(e.keyCode){case 13:t?(e.preventDefault(),a(),B()):H(e);break;case 27:e.preventDefault(),B();break;case 8:case 46:r&&!n.config.allowInput&&(e.preventDefault(),n.clear());break;case 37:case 39:if(t||r)n.hourElement&&n.hourElement.focus();else if(e.preventDefault(),void 0!==n.daysContainer&&(!1===s||document.activeElement&&E(document.activeElement))){const t=39===e.keyCode?1:-1;e.ctrlKey?(e.stopPropagation(),M(t),y(v(1),0)):y(void 0,t)}break;case 38:case 40:e.preventDefault();const o=40===e.keyCode?1:-1;n.daysContainer&&void 0!==i.$i||i===n.input||i===n.altInput?e.ctrlKey?(e.stopPropagation(),P(n.currentYear-o),y(v(1),0)):t||y(void 0,7*o):i===n.currentYearElement?P(n.currentYear-o):n.config.enableTime&&(!t&&n.hourElement&&n.hourElement.focus(),a(e),n._debouncedChange());break;case 9:if(t){const t=[n.hourElement,n.minuteElement,n.secondElement,n.amPM].concat(n.pluginElements).filter((t=>t)),r=t.indexOf(i);if(-1!==r){const i=t[r+(e.shiftKey?-1:1)];e.preventDefault(),(i||n._input).focus()}}else!n.config.noCalendar&&n.daysContainer&&n.daysContainer.contains(i)&&e.shiftKey&&(e.preventDefault(),n._input.focus())}}if(void 0!==n.amPM&&i===n.amPM)switch(e.key){case n.l10n.amPM[0].charAt(0):case n.l10n.amPM[0].charAt(0).toLowerCase():n.amPM.textContent=n.l10n.amPM[0],o(),J();break;case n.l10n.amPM[1].charAt(0):case n.l10n.amPM[1].charAt(0).toLowerCase():n.amPM.textContent=n.l10n.amPM[1],o(),J()}(r||A(i))&&U("onKeyDown",e)}function $(t){if(1!==n.selectedDates.length||t&&(!t.classList.contains("flatpickr-day")||t.classList.contains("flatpickr-disabled")))return;const e=t?t.dateObj.getTime():n.days.firstElementChild.dateObj.getTime(),i=n.parseDate(n.selectedDates[0],void 0,!0).getTime(),r=Math.min(e,n.selectedDates[0].getTime()),a=Math.max(e,n.selectedDates[0].getTime());let o=!1,s=0,l=0;for(let n=r;n<a;n+=Ne)D(new Date(n),!0)||(o=o||n>r&&n<a,n<i&&(!s||n>s)?s=n:n>i&&(!l||n<l)&&(l=n));for(let u=0;u<n.config.showMonths;u++){const r=n.daysContainer.children[u];for(let a=0,u=r.children.length;a<u;a++){const u=r.children[a],f=u.dateObj.getTime(),p=s>0&&f<s||l>0&&f>l;p?(u.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach((t=>{u.classList.remove(t)}))):o&&!p||(["startRange","inRange","endRange","notAllowed"].forEach((t=>{u.classList.remove(t)})),void 0!==t&&(t.classList.add(e<=n.selectedDates[0].getTime()?"startRange":"endRange"),i<e&&f===i?u.classList.add("startRange"):i>e&&f===i&&u.classList.add("endRange"),f>=s&&(0===l||f<=l)&&(c=i,d=e,(h=f)>Math.min(c,d)&&h<Math.max(c,d))&&u.classList.add("inRange")))}}var h,c,d}function I(){!n.isOpen||n.config.static||n.config.inline||G()}function R(t){return e=>{const i=n.config[`_${t}Date`]=n.parseDate(e,n.config.dateFormat),r=n.config[`_${"min"===t?"max":"min"}Date`];void 0!==i&&(n["min"===t?"minDateHasTime":"maxDateHasTime"]=i.getHours()>0||i.getMinutes()>0||i.getSeconds()>0),n.selectedDates&&(n.selectedDates=n.selectedDates.filter((t=>D(t))),n.selectedDates.length||"min"!==t||s(i),J()),n.daysContainer&&(j(),void 0!==i?n.currentYearElement[t]=i.getFullYear().toString():n.currentYearElement.removeAttribute(t),n.currentYearElement.disabled=!!r&&void 0!==i&&r.getFullYear()===i.getFullYear())}}function N(){return n.config.wrap?t.querySelector("[data-input]"):t}function F(){"object"!=typeof n.config.locale&&void 0===Be.l10ns[n.config.locale]&&n.config.errorHandler(new Error(`flatpickr: invalid locale ${n.config.locale}`)),n.l10n=Object.assign(Object.assign({},Be.l10ns.default),"object"==typeof n.config.locale?n.config.locale:"default"!==n.config.locale?Be.l10ns[n.config.locale]:void 0),Oe.K=`(${n.l10n.amPM[0]}|${n.l10n.amPM[1]}|${n.l10n.amPM[0].toLowerCase()}|${n.l10n.amPM[1].toLowerCase()})`;void 0===Object.assign(Object.assign({},e),JSON.parse(JSON.stringify(t.dataset||{}))).time_24hr&&void 0===Be.defaultConfig.time_24hr&&(n.config.time_24hr=n.l10n.time_24hr),n.formatDate=$e(n),n.parseDate=Ie({config:n.config,l10n:n.l10n})}function G(t){if("function"==typeof n.config.position)return void n.config.position(n,t);if(void 0===n.calendarContainer)return;U("onPreCalendarPosition");const e=t||n._positionElement,i=Array.prototype.reduce.call(n.calendarContainer.children,((t,e)=>t+e.offsetHeight),0),r=n.calendarContainer.offsetWidth,a=n.config.position.split(" "),o=a[0],s=a.length>1?a[1]:null,l=e.getBoundingClientRect(),h=window.innerHeight-l.bottom,c="above"===o||"below"!==o&&h<i&&l.top>i,d=window.pageYOffset+l.top+(c?-i-2:e.offsetHeight+2);if(Se(n.calendarContainer,"arrowTop",!c),Se(n.calendarContainer,"arrowBottom",c),n.config.inline)return;let u=window.pageXOffset+l.left,f=!1,p=!1;"center"===s?(u-=(r-l.width)/2,f=!0):"right"===s&&(u-=r-l.width,p=!0),Se(n.calendarContainer,"arrowLeft",!f&&!p),Se(n.calendarContainer,"arrowCenter",f),Se(n.calendarContainer,"arrowRight",p);const g=window.document.body.offsetWidth-(window.pageXOffset+l.right),m=u+r>window.document.body.offsetWidth,v=g+r>window.document.body.offsetWidth;if(Se(n.calendarContainer,"rightMost",m),!n.config.static)if(n.calendarContainer.style.top=`${d}px`,m)if(v){const t=function(){let t=null;for(let n=0;n<document.styleSheets.length;n++){const i=document.styleSheets[n];try{i.cssRules}catch(e){continue}t=i;break}return null!=t?t:function(){const t=document.createElement("style");return document.head.appendChild(t),t.sheet}()}();if(void 0===t)return;const e=window.document.body.offsetWidth,i=Math.max(0,e/2-r/2),a=".flatpickr-calendar.centerMost:before",o=".flatpickr-calendar.centerMost:after",s=t.cssRules.length,h=`{left:${l.left}px;right:auto;}`;Se(n.calendarContainer,"rightMost",!1),Se(n.calendarContainer,"centerMost",!0),t.insertRule(`${a},${o}${h}`,s),n.calendarContainer.style.left=`${i}px`,n.calendarContainer.style.right="auto"}else n.calendarContainer.style.left="auto",n.calendarContainer.style.right=`${g}px`;else n.calendarContainer.style.left=`${u}px`,n.calendarContainer.style.right="auto"}function j(){n.config.noCalendar||n.isMobile||(x(),V(),_())}function B(){n._input.focus(),-1!==window.navigator.userAgent.indexOf("MSIE")||void 0!==navigator.msMaxTouchPoints?setTimeout(n.close,0):n.close()}function H(t){t.preventDefault(),t.stopPropagation();const e=Me(Te(t),(t=>t.classList&&t.classList.contains("flatpickr-day")&&!t.classList.contains("flatpickr-disabled")&&!t.classList.contains("notAllowed")));if(void 0===e)return;const i=e,r=n.latestSelectedDateObj=new Date(i.dateObj.getTime()),a=(r.getMonth()<n.currentMonth||r.getMonth()>n.currentMonth+n.config.showMonths-1)&&"range"!==n.config.mode;if(n.selectedDateElem=i,"single"===n.config.mode)n.selectedDates=[r];else if("multiple"===n.config.mode){const t=X(r);t?n.selectedDates.splice(parseInt(t),1):n.selectedDates.push(r)}else"range"===n.config.mode&&(2===n.selectedDates.length&&n.clear(!1,!1),n.latestSelectedDateObj=r,n.selectedDates.push(r),0!==Re(r,n.selectedDates[0],!0)&&n.selectedDates.sort(((t,e)=>t.getTime()-e.getTime())));if(o(),a){const t=n.currentYear!==r.getFullYear();n.currentYear=r.getFullYear(),n.currentMonth=r.getMonth(),t&&(U("onYearChange"),x()),U("onMonthChange")}if(V(),_(),J(),a||"range"===n.config.mode||1!==n.config.showMonths?void 0!==n.selectedDateElem&&void 0===n.hourElement&&n.selectedDateElem&&n.selectedDateElem.focus():m(i),void 0!==n.hourElement&&void 0!==n.hourElement&&n.hourElement.focus(),n.config.closeOnSelect){const t="single"===n.config.mode&&!n.config.enableTime,e="range"===n.config.mode&&2===n.selectedDates.length&&!n.config.enableTime;(t||e)&&B()}d()}n.parseDate=Ie({config:n.config,l10n:n.l10n}),n._handlers=[],n.pluginElements=[],n.loadedPlugins=[],n._bind=c,n._setHoursFromDate=s,n._positionCalendar=G,n.changeMonth=M,n.changeYear=P,n.clear=function(t=!0,e=!0){n.input.value="",void 0!==n.altInput&&(n.altInput.value="");void 0!==n.mobileInput&&(n.mobileInput.value="");n.selectedDates=[],n.latestSelectedDateObj=void 0,!0===e&&(n.currentYear=n._initialDate.getFullYear(),n.currentMonth=n._initialDate.getMonth());if(!0===n.config.enableTime){const{hours:t,minutes:e,seconds:i}=Fe(n.config);l(t,e,i)}n.redraw(),t&&U("onChange")},n.close=function(){n.isOpen=!1,n.isMobile||(void 0!==n.calendarContainer&&n.calendarContainer.classList.remove("open"),void 0!==n._input&&n._input.classList.remove("active"));U("onClose")},n._createElement=Ce,n.destroy=function(){void 0!==n.config&&U("onDestroy");for(let t=n._handlers.length;t--;)n._handlers[t].remove();if(n._handlers=[],n.mobileInput)n.mobileInput.parentNode&&n.mobileInput.parentNode.removeChild(n.mobileInput),n.mobileInput=void 0;else if(n.calendarContainer&&n.calendarContainer.parentNode)if(n.config.static&&n.calendarContainer.parentNode){const t=n.calendarContainer.parentNode;if(t.lastChild&&t.removeChild(t.lastChild),t.parentNode){for(;t.firstChild;)t.parentNode.insertBefore(t.firstChild,t);t.parentNode.removeChild(t)}}else n.calendarContainer.parentNode.removeChild(n.calendarContainer);n.altInput&&(n.input.type="text",n.altInput.parentNode&&n.altInput.parentNode.removeChild(n.altInput),delete n.altInput);n.input&&(n.input.type=n.input._type,n.input.classList.remove("flatpickr-input"),n.input.removeAttribute("readonly"));["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach((t=>{try{delete n[t]}catch(e){}}))},n.isEnabled=D,n.jumpToDate=u,n.open=function(t,e=n._positionElement){if(!0===n.isMobile){if(t){t.preventDefault();const e=Te(t);e&&e.blur()}return void 0!==n.mobileInput&&(n.mobileInput.focus(),n.mobileInput.click()),void U("onOpen")}if(n._input.disabled||n.config.inline)return;const i=n.isOpen;n.isOpen=!0,i||(n.calendarContainer.classList.add("open"),n._input.classList.add("active"),U("onOpen"),G(e));!0===n.config.enableTime&&!0===n.config.noCalendar&&(!1!==n.config.allowInput||void 0!==t&&n.timeContainer.contains(t.relatedTarget)||setTimeout((()=>n.hourElement.select()),50))},n.redraw=j,n.set=function(t,e){if(null!==t&&"object"==typeof t){Object.assign(n.config,t);for(const e in t)void 0!==Y[e]&&Y[e].forEach((t=>t()))}else n.config[t]=e,void 0!==Y[t]?Y[t].forEach((t=>t())):me.indexOf(t)>-1&&(n.config[t]=we(e));n.redraw(),J(!0)},n.setDate=function(t,e=!1,i=n.config.dateFormat){if(0!==t&&!t||t instanceof Array&&0===t.length)return n.clear(e);z(t,i),n.latestSelectedDateObj=n.selectedDates[n.selectedDates.length-1],n.redraw(),u(void 0,e),s(),0===n.selectedDates.length&&n.clear(!1);J(e),e&&U("onChange")},n.toggle=function(t){if(!0===n.isOpen)return n.close();n.open(t)};const Y={locale:[F,k],showMonths:[S,r,C],minDate:[u],maxDate:[u],clickOpens:[()=>{!0===n.config.clickOpens?(c(n._input,"focus",n.open),c(n._input,"click",n.open)):(n._input.removeEventListener("focus",n.open),n._input.removeEventListener("click",n.open))}]};function z(t,e){let i=[];if(t instanceof Array)i=t.map((t=>n.parseDate(t,e)));else if(t instanceof Date||"number"==typeof t)i=[n.parseDate(t,e)];else if("string"==typeof t)switch(n.config.mode){case"single":case"time":i=[n.parseDate(t,e)];break;case"multiple":i=t.split(n.config.conjunction).map((t=>n.parseDate(t,e)));break;case"range":i=t.split(n.l10n.rangeSeparator).map((t=>n.parseDate(t,e)))}else n.config.errorHandler(new Error(`Invalid date supplied: ${JSON.stringify(t)}`));n.selectedDates=n.config.allowInvalidPreload?i:i.filter((t=>t instanceof Date&&D(t,!1))),"range"===n.config.mode&&n.selectedDates.sort(((t,e)=>t.getTime()-e.getTime()))}function W(t){return t.slice().map((t=>"string"==typeof t||"number"==typeof t||t instanceof Date?n.parseDate(t,void 0,!0):t&&"object"==typeof t&&t.from&&t.to?{from:n.parseDate(t.from,void 0),to:n.parseDate(t.to,void 0)}:t)).filter((t=>t))}function U(t,e){if(void 0===n.config)return;const i=n.config[t];if(void 0!==i&&i.length>0)for(let r=0;i[r]&&r<i.length;r++)i[r](n.selectedDates,n.input.value,n,e);"onChange"===t&&(n.input.dispatchEvent(q("change")),n.input.dispatchEvent(q("input")))}function q(t){const e=document.createEvent("Event");return e.initEvent(t,!0,!0),e}function X(t){for(let e=0;e<n.selectedDates.length;e++)if(0===Re(n.selectedDates[e],t))return""+e;return!1}function V(){n.config.noCalendar||n.isMobile||!n.monthNav||(n.yearElements.forEach(((t,e)=>{const i=new Date(n.currentYear,n.currentMonth,1);i.setMonth(n.currentMonth+e),n.config.showMonths>1||"static"===n.config.monthSelectorType?n.monthElements[e].textContent=De(i.getMonth(),n.config.shorthandCurrentMonth,n.l10n)+" ":n.monthsDropdownContainer.value=i.getMonth().toString(),t.value=i.getFullYear().toString()})),n._hidePrevMonthArrow=void 0!==n.config.minDate&&(n.currentYear===n.config.minDate.getFullYear()?n.currentMonth<=n.config.minDate.getMonth():n.currentYear<n.config.minDate.getFullYear()),n._hideNextMonthArrow=void 0!==n.config.maxDate&&(n.currentYear===n.config.maxDate.getFullYear()?n.currentMonth+1>n.config.maxDate.getMonth():n.currentYear>n.config.maxDate.getFullYear()))}function K(t){return n.selectedDates.map((e=>n.formatDate(e,t))).filter(((t,e,i)=>"range"!==n.config.mode||n.config.enableTime||i.indexOf(t)===e)).join("range"!==n.config.mode?n.config.conjunction:n.l10n.rangeSeparator)}function J(t=!0){void 0!==n.mobileInput&&n.mobileFormatStr&&(n.mobileInput.value=void 0!==n.latestSelectedDateObj?n.formatDate(n.latestSelectedDateObj,n.mobileFormatStr):""),n.input.value=K(n.config.dateFormat),void 0!==n.altInput&&(n.altInput.value=K(n.config.altFormat)),!1!==t&&U("onValueUpdate")}function Q(t){const e=Te(t),i=n.prevMonthNav.contains(e),r=n.nextMonthNav.contains(e);i||r?M(i?-1:1):n.yearElements.indexOf(e)>=0?e.select():e.classList.contains("arrowUp")?n.changeYear(n.currentYear+1):e.classList.contains("arrowDown")&&n.changeYear(n.currentYear-1)}return function(){n.element=n.input=t,n.isOpen=!1,function(){const r=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],a=Object.assign(Object.assign({},JSON.parse(JSON.stringify(t.dataset||{}))),e),o={};n.config.parseDate=a.parseDate,n.config.formatDate=a.formatDate,Object.defineProperty(n.config,"enable",{get:()=>n.config._enable,set:t=>{n.config._enable=W(t)}}),Object.defineProperty(n.config,"disable",{get:()=>n.config._disable,set:t=>{n.config._disable=W(t)}});const s="time"===a.mode;if(!a.dateFormat&&(a.enableTime||s)){const t=Be.defaultConfig.dateFormat||ve.dateFormat;o.dateFormat=a.noCalendar||s?"H:i"+(a.enableSeconds?":S":""):t+" H:i"+(a.enableSeconds?":S":"")}if(a.altInput&&(a.enableTime||s)&&!a.altFormat){const t=Be.defaultConfig.altFormat||ve.altFormat;o.altFormat=a.noCalendar||s?"h:i"+(a.enableSeconds?":S K":" K"):t+` h:i${a.enableSeconds?":S":""} K`}Object.defineProperty(n.config,"minDate",{get:()=>n.config._minDate,set:R("min")}),Object.defineProperty(n.config,"maxDate",{get:()=>n.config._maxDate,set:R("max")});const l=t=>e=>{n.config["min"===t?"_minTime":"_maxTime"]=n.parseDate(e,"H:i:S")};Object.defineProperty(n.config,"minTime",{get:()=>n.config._minTime,set:l("min")}),Object.defineProperty(n.config,"maxTime",{get:()=>n.config._maxTime,set:l("max")}),"time"===a.mode&&(n.config.noCalendar=!0,n.config.enableTime=!0);Object.assign(n.config,o,a);for(let t=0;t<r.length;t++)n.config[r[t]]=!0===n.config[r[t]]||"true"===n.config[r[t]];me.filter((t=>void 0!==n.config[t])).forEach((t=>{n.config[t]=we(n.config[t]||[]).map(i)})),n.isMobile=!n.config.disableMobile&&!n.config.inline&&"single"===n.config.mode&&!n.config.disable.length&&!n.config.enable&&!n.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(let t=0;t<n.config.plugins.length;t++){const e=n.config.plugins[t](n)||{};for(const t in e)me.indexOf(t)>-1?n.config[t]=we(e[t]).map(i).concat(n.config[t]):void 0===a[t]&&(n.config[t]=e[t])}a.altInputClass||(n.config.altInputClass=N().className+" "+n.config.altInputClass);U("onParseConfig")}(),F(),function(){if(n.input=N(),!n.input)return void n.config.errorHandler(new Error("Invalid input element specified"));n.input._type=n.input.type,n.input.type="text",n.input.classList.add("flatpickr-input"),n._input=n.input,n.config.altInput&&(n.altInput=Ce(n.input.nodeName,n.config.altInputClass),n._input=n.altInput,n.altInput.placeholder=n.input.placeholder,n.altInput.disabled=n.input.disabled,n.altInput.required=n.input.required,n.altInput.tabIndex=n.input.tabIndex,n.altInput.type="text",n.input.setAttribute("type","hidden"),!n.config.static&&n.input.parentNode&&n.input.parentNode.insertBefore(n.altInput,n.input.nextSibling));n.config.allowInput||n._input.setAttribute("readonly","readonly");n._positionElement=n.config.positionElement||n._input}(),function(){n.selectedDates=[],n.now=n.parseDate(n.config.now)||new Date;const t=n.config.defaultDate||("INPUT"!==n.input.nodeName&&"TEXTAREA"!==n.input.nodeName||!n.input.placeholder||n.input.value!==n.input.placeholder?n.input.value:null);t&&z(t,n.config.dateFormat);n._initialDate=n.selectedDates.length>0?n.selectedDates[0]:n.config.minDate&&n.config.minDate.getTime()>n.now.getTime()?n.config.minDate:n.config.maxDate&&n.config.maxDate.getTime()<n.now.getTime()?n.config.maxDate:n.now,n.currentYear=n._initialDate.getFullYear(),n.currentMonth=n._initialDate.getMonth(),n.selectedDates.length>0&&(n.latestSelectedDateObj=n.selectedDates[0]);void 0!==n.config.minTime&&(n.config.minTime=n.parseDate(n.config.minTime,"H:i"));void 0!==n.config.maxTime&&(n.config.maxTime=n.parseDate(n.config.maxTime,"H:i"));n.minDateHasTime=!!n.config.minDate&&(n.config.minDate.getHours()>0||n.config.minDate.getMinutes()>0||n.config.minDate.getSeconds()>0),n.maxDateHasTime=!!n.config.maxDate&&(n.config.maxDate.getHours()>0||n.config.maxDate.getMinutes()>0||n.config.maxDate.getSeconds()>0)}(),n.utils={getDaysInMonth:(t=n.currentMonth,e=n.currentYear)=>1===t&&(e%4==0&&e%100!=0||e%400==0)?29:n.l10n.daysInMonth[t]},n.isMobile||function(){const t=window.document.createDocumentFragment();if(n.calendarContainer=Ce("div","flatpickr-calendar"),n.calendarContainer.tabIndex=-1,!n.config.noCalendar){if(t.appendChild((n.monthNav=Ce("div","flatpickr-months"),n.yearElements=[],n.monthElements=[],n.prevMonthNav=Ce("span","flatpickr-prev-month"),n.prevMonthNav.innerHTML=n.config.prevArrow,n.nextMonthNav=Ce("span","flatpickr-next-month"),n.nextMonthNav.innerHTML=n.config.nextArrow,S(),Object.defineProperty(n,"_hidePrevMonthArrow",{get:()=>n.__hidePrevMonthArrow,set(t){n.__hidePrevMonthArrow!==t&&(Se(n.prevMonthNav,"flatpickr-disabled",t),n.__hidePrevMonthArrow=t)}}),Object.defineProperty(n,"_hideNextMonthArrow",{get:()=>n.__hideNextMonthArrow,set(t){n.__hideNextMonthArrow!==t&&(Se(n.nextMonthNav,"flatpickr-disabled",t),n.__hideNextMonthArrow=t)}}),n.currentYearElement=n.yearElements[0],V(),n.monthNav)),n.innerContainer=Ce("div","flatpickr-innerContainer"),n.config.weekNumbers){const{weekWrapper:t,weekNumbers:e}=function(){n.calendarContainer.classList.add("hasWeeks");const t=Ce("div","flatpickr-weekwrapper");t.appendChild(Ce("span","flatpickr-weekday",n.l10n.weekAbbreviation));const e=Ce("div","flatpickr-weeks");return t.appendChild(e),{weekWrapper:t,weekNumbers:e}}();n.innerContainer.appendChild(t),n.weekNumbers=e,n.weekWrapper=t}n.rContainer=Ce("div","flatpickr-rContainer"),n.rContainer.appendChild(C()),n.daysContainer||(n.daysContainer=Ce("div","flatpickr-days"),n.daysContainer.tabIndex=-1),_(),n.rContainer.appendChild(n.daysContainer),n.innerContainer.appendChild(n.rContainer),t.appendChild(n.innerContainer)}n.config.enableTime&&t.appendChild(function(){n.calendarContainer.classList.add("hasTime"),n.config.noCalendar&&n.calendarContainer.classList.add("noCalendar");const t=Fe(n.config);n.timeContainer=Ce("div","flatpickr-time"),n.timeContainer.tabIndex=-1;const e=Ce("span","flatpickr-time-separator",":"),i=Ae("flatpickr-hour",{"aria-label":n.l10n.hourAriaLabel});n.hourElement=i.getElementsByTagName("input")[0];const r=Ae("flatpickr-minute",{"aria-label":n.l10n.minuteAriaLabel});n.minuteElement=r.getElementsByTagName("input")[0],n.hourElement.tabIndex=n.minuteElement.tabIndex=-1,n.hourElement.value=be(n.latestSelectedDateObj?n.latestSelectedDateObj.getHours():n.config.time_24hr?t.hours:function(t){switch(t%24){case 0:case 12:return 12;default:return t%12}}(t.hours)),n.minuteElement.value=be(n.latestSelectedDateObj?n.latestSelectedDateObj.getMinutes():t.minutes),n.hourElement.setAttribute("step",n.config.hourIncrement.toString()),n.minuteElement.setAttribute("step",n.config.minuteIncrement.toString()),n.hourElement.setAttribute("min",n.config.time_24hr?"0":"1"),n.hourElement.setAttribute("max",n.config.time_24hr?"23":"12"),n.hourElement.setAttribute("maxlength","2"),n.minuteElement.setAttribute("min","0"),n.minuteElement.setAttribute("max","59"),n.minuteElement.setAttribute("maxlength","2"),n.timeContainer.appendChild(i),n.timeContainer.appendChild(e),n.timeContainer.appendChild(r),n.config.time_24hr&&n.timeContainer.classList.add("time24hr");if(n.config.enableSeconds){n.timeContainer.classList.add("hasSeconds");const e=Ae("flatpickr-second");n.secondElement=e.getElementsByTagName("input")[0],n.secondElement.value=be(n.latestSelectedDateObj?n.latestSelectedDateObj.getSeconds():t.seconds),n.secondElement.setAttribute("step",n.minuteElement.getAttribute("step")),n.secondElement.setAttribute("min","0"),n.secondElement.setAttribute("max","59"),n.secondElement.setAttribute("maxlength","2"),n.timeContainer.appendChild(Ce("span","flatpickr-time-separator",":")),n.timeContainer.appendChild(e)}n.config.time_24hr||(n.amPM=Ce("span","flatpickr-am-pm",n.l10n.amPM[_e((n.latestSelectedDateObj?n.hourElement.value:n.config.defaultHour)>11)]),n.amPM.title=n.l10n.toggleTitle,n.amPM.tabIndex=-1,n.timeContainer.appendChild(n.amPM));return n.timeContainer}());Se(n.calendarContainer,"rangeMode","range"===n.config.mode),Se(n.calendarContainer,"animate",!0===n.config.animate),Se(n.calendarContainer,"multiMonth",n.config.showMonths>1),n.calendarContainer.appendChild(t);const e=void 0!==n.config.appendTo&&void 0!==n.config.appendTo.nodeType;if((n.config.inline||n.config.static)&&(n.calendarContainer.classList.add(n.config.inline?"inline":"static"),n.config.inline&&(!e&&n.element.parentNode?n.element.parentNode.insertBefore(n.calendarContainer,n._input.nextSibling):void 0!==n.config.appendTo&&n.config.appendTo.appendChild(n.calendarContainer)),n.config.static)){const t=Ce("div","flatpickr-wrapper");n.element.parentNode&&n.element.parentNode.insertBefore(t,n.element),t.appendChild(n.element),n.altInput&&t.appendChild(n.altInput),t.appendChild(n.calendarContainer)}n.config.static||n.config.inline||(void 0!==n.config.appendTo?n.config.appendTo:window.document.body).appendChild(n.calendarContainer)}(),function(){n.config.wrap&&["open","close","toggle","clear"].forEach((t=>{Array.prototype.forEach.call(n.element.querySelectorAll(`[data-${t}]`),(e=>c(e,"click",n[t])))}));if(n.isMobile)return void function(){const t=n.config.enableTime?n.config.noCalendar?"time":"datetime-local":"date";n.mobileInput=Ce("input",n.input.className+" flatpickr-mobile"),n.mobileInput.tabIndex=1,n.mobileInput.type=t,n.mobileInput.disabled=n.input.disabled,n.mobileInput.required=n.input.required,n.mobileInput.placeholder=n.input.placeholder,n.mobileFormatStr="datetime-local"===t?"Y-m-d\\TH:i:S":"date"===t?"Y-m-d":"H:i:S",n.selectedDates.length>0&&(n.mobileInput.defaultValue=n.mobileInput.value=n.formatDate(n.selectedDates[0],n.mobileFormatStr));n.config.minDate&&(n.mobileInput.min=n.formatDate(n.config.minDate,"Y-m-d"));n.config.maxDate&&(n.mobileInput.max=n.formatDate(n.config.maxDate,"Y-m-d"));n.input.getAttribute("step")&&(n.mobileInput.step=String(n.input.getAttribute("step")));n.input.type="hidden",void 0!==n.altInput&&(n.altInput.type="hidden");try{n.input.parentNode&&n.input.parentNode.insertBefore(n.mobileInput,n.input.nextSibling)}catch(e){}c(n.mobileInput,"change",(t=>{n.setDate(Te(t).value,!1,n.mobileFormatStr),U("onChange"),U("onClose")}))}();const t=xe(I,50);n._debouncedChange=xe(d,300),n.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&c(n.daysContainer,"mouseover",(t=>{"range"===n.config.mode&&$(Te(t))}));c(window.document.body,"keydown",L),n.config.inline||n.config.static||c(window,"resize",t);void 0!==window.ontouchstart?c(window.document,"touchstart",T):c(window.document,"mousedown",T);c(window.document,"focus",T,{capture:!0}),!0===n.config.clickOpens&&(c(n._input,"focus",n.open),c(n._input,"click",n.open));void 0!==n.daysContainer&&(c(n.monthNav,"click",Q),c(n.monthNav,["keyup","increment"],h),c(n.daysContainer,"click",H));if(void 0!==n.timeContainer&&void 0!==n.minuteElement&&void 0!==n.hourElement){const t=t=>Te(t).select();c(n.timeContainer,["increment"],a),c(n.timeContainer,"blur",a,{capture:!0}),c(n.timeContainer,"click",f),c([n.hourElement,n.minuteElement],["focus","click"],t),void 0!==n.secondElement&&c(n.secondElement,"focus",(()=>n.secondElement&&n.secondElement.select())),void 0!==n.amPM&&c(n.amPM,"click",(t=>{a(t),d()}))}n.config.allowInput&&c(n._input,"blur",O)}(),(n.selectedDates.length||n.config.noCalendar)&&(n.config.enableTime&&s(n.config.noCalendar?n.latestSelectedDateObj:void 0),J(!1)),r();const o=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!n.isMobile&&o&&G(),U("onReady")}(),n}function je(t,e){const n=Array.prototype.slice.call(t).filter((t=>t instanceof HTMLElement)),i=[];for(let a=0;a<n.length;a++){const t=n[a];try{if(null!==t.getAttribute("data-fp-omit"))continue;void 0!==t._flatpickr&&(t._flatpickr.destroy(),t._flatpickr=void 0),t._flatpickr=Ge(t,e||{}),i.push(t._flatpickr)}catch(r){console.error(r)}}return 1===i.length?i[0]:i}"undefined"!=typeof HTMLElement&&"undefined"!=typeof HTMLCollection&&"undefined"!=typeof NodeList&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(t){return je(this,t)},HTMLElement.prototype.flatpickr=function(t){return je([this],t)});var Be=function(t,e){return"string"==typeof t?je(window.document.querySelectorAll(t),e):t instanceof Node?je([t],e):je(t,e)};function He(){localStorage.clear()}function Ye(t,e,n){let{key:i="local-storage-key"}=e,{value:r=""}=e;const a=nt();let o=r;function s(){"object"==typeof r?localStorage.setItem(i,JSON.stringify(r)):localStorage.setItem(i,r)}return Z((()=>{const t=localStorage.getItem(i);if(null!=t)try{n(0,r=JSON.parse(t))}catch(e){n(0,r=t)}else s(),a("save")})),tt((()=>{o!==r&&(s(),a("update",{prevValue:o,value:r})),o=r})),t.$$set=t=>{"key"in t&&n(1,i=t.key),"value"in t&&n(0,r=t.value)},[r,i,function(){localStorage.removeItem(i)},He]}Be.defaultConfig={},Be.l10ns={en:Object.assign({},ye),default:Object.assign({},ye)},Be.localize=t=>{Be.l10ns.default=Object.assign(Object.assign({},Be.l10ns.default),t)},Be.setDefaults=t=>{Be.defaultConfig=Object.assign(Object.assign({},Be.defaultConfig),t)},Be.parseDate=Ie({}),Be.formatDate=$e({}),Be.compareDates=Re,"undefined"!=typeof jQuery&&void 0!==jQuery.fn&&(jQuery.fn.flatpickr=function(t){return je(this,t)}),Date.prototype.fp_incr=function(t){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+("string"==typeof t?parseInt(t,10):t))},"undefined"!=typeof window&&(window.flatpickr=Be);class ze extends Lt{constructor(t){super(),Ot(this,t,Ye,null,b,{key:1,value:0,clearItem:2,clearAll:3})}get clearItem(){return this.$$.ctx[2]}get clearAll(){return He}}function We(t){let e,n;return{c(){e=G("title"),n=j(t[2])},m(t,i){$(t,e,i),O(e,n)},p(t,e){4&e&&V(n,t[2])},d(t){t&&R(e)}}}function Ue(t){let e,n,i,r,a;const o=t[11].default,s=w(o,t,t[10],null),l=s||function(t){let e,n=t[2]&&We(t);return{c(){n&&n.c(),e=H()},m(t,i){n&&n.m(t,i),$(t,e,i)},p(t,i){t[2]?n?n.p(t,i):(n=We(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&R(e)}}}(t);let h=[{"data-carbon-icon":"Add16"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{width:"16"},{height:"16"},{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},{style:t[3]},{id:t[1]},t[4]],c={};for(let d=0;d<h.length;d+=1)c=p(c,h[d]);return{c(){e=G("svg"),n=G("path"),l&&l.c(),z(n,"d","M17 15L17 8 15 8 15 15 8 15 8 17 15 17 15 24 17 24 17 17 24 17 24 15z"),U(e,c)},m(o,s){$(o,e,s),O(e,n),l&&l.m(e,null),i=!0,r||(a=[Y(e,"click",t[12]),Y(e,"mouseover",t[13]),Y(e,"mouseenter",t[14]),Y(e,"mouseleave",t[15]),Y(e,"keyup",t[16]),Y(e,"keydown",t[17])],r=!0)},p(t,[n]){s?s.p&&(!i||1024&n)&&k(s,o,t,t[10],i?C(o,t[10],n,null):M(t[10]),null):l&&l.p&&(!i||4&n)&&l.p(t,i?n:-1),U(e,c=kt(h,[{"data-carbon-icon":"Add16"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{width:"16"},{height:"16"},(!i||1&n)&&{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},(!i||8&n)&&{style:t[3]},(!i||2&n)&&{id:t[1]},16&n&&t[4]]))},i(t){i||(wt(l,t),i=!0)},o(t){St(l,t),i=!1},d(t){t&&R(e),l&&l.d(t),r=!1,v(a)}}}function qe(t,e,n){let i,r,a,o,{$$slots:s={},$$scope:l}=e,{class:h}=e,{id:c}=e,{tabindex:d}=e,{focusable:u=!1}=e,{title:f}=e,{style:g}=e;return t.$$set=t=>{n(18,e=p(p({},e),A(t))),"class"in t&&n(0,h=t.class),"id"in t&&n(1,c=t.id),"tabindex"in t&&n(5,d=t.tabindex),"focusable"in t&&n(6,u=t.focusable),"title"in t&&n(2,f=t.title),"style"in t&&n(3,g=t.style),"$$scope"in t&&n(10,l=t.$$scope)},t.$$.update=()=>{n(9,i=e["aria-label"]),n(8,r=e["aria-labelledby"]),772&t.$$.dirty&&n(7,a=i||r||f),992&t.$$.dirty&&n(4,o={"aria-label":i,"aria-labelledby":r,"aria-hidden":!a||void 0,role:a?"img":void 0,focusable:"0"===d||u,tabindex:d})},e=A(e),[h,c,f,g,o,d,u,a,r,i,l,s,function(e){at.call(this,t,e)},function(e){at.call(this,t,e)},function(e){at.call(this,t,e)},function(e){at.call(this,t,e)},function(e){at.call(this,t,e)},function(e){at.call(this,t,e)}]}var Xe=class extends Lt{constructor(t){super(),Ot(this,t,qe,Ue,b,{class:0,id:1,tabindex:5,focusable:6,title:2,style:3})}};function Ve(t){let e,n;return{c(){e=G("title"),n=j(t[2])},m(t,i){$(t,e,i),O(e,n)},p(t,e){4&e&&V(n,t[2])},d(t){t&&R(e)}}}function Ke(t){let e,n,i,r,a;const o=t[11].default,s=w(o,t,t[10],null),l=s||function(t){let e,n=t[2]&&Ve(t);return{c(){n&&n.c(),e=H()},m(t,i){n&&n.m(t,i),$(t,e,i)},p(t,i){t[2]?n?n.p(t,i):(n=Ve(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&R(e)}}}(t);let h=[{"data-carbon-icon":"Subtract16"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{width:"16"},{height:"16"},{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},{style:t[3]},{id:t[1]},t[4]],c={};for(let d=0;d<h.length;d+=1)c=p(c,h[d]);return{c(){e=G("svg"),n=G("path"),l&&l.c(),z(n,"d","M8 15H24V17H8z"),U(e,c)},m(o,s){$(o,e,s),O(e,n),l&&l.m(e,null),i=!0,r||(a=[Y(e,"click",t[12]),Y(e,"mouseover",t[13]),Y(e,"mouseenter",t[14]),Y(e,"mouseleave",t[15]),Y(e,"keyup",t[16]),Y(e,"keydown",t[17])],r=!0)},p(t,[n]){s?s.p&&(!i||1024&n)&&k(s,o,t,t[10],i?C(o,t[10],n,null):M(t[10]),null):l&&l.p&&(!i||4&n)&&l.p(t,i?n:-1),U(e,c=kt(h,[{"data-carbon-icon":"Subtract16"},{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{width:"16"},{height:"16"},(!i||1&n)&&{class:t[0]},{preserveAspectRatio:"xMidYMid meet"},(!i||8&n)&&{style:t[3]},(!i||2&n)&&{id:t[1]},16&n&&t[4]]))},i(t){i||(wt(l,t),i=!0)},o(t){St(l,t),i=!1},d(t){t&&R(e),l&&l.d(t),r=!1,v(a)}}}function Je(t,e,n){let i,r,a,o,{$$slots:s={},$$scope:l}=e,{class:h}=e,{id:c}=e,{tabindex:d}=e,{focusable:u=!1}=e,{title:f}=e,{style:g}=e;return t.$$set=t=>{n(18,e=p(p({},e),A(t))),"class"in t&&n(0,h=t.class),"id"in t&&n(1,c=t.id),"tabindex"in t&&n(5,d=t.tabindex),"focusable"in t&&n(6,u=t.focusable),"title"in t&&n(2,f=t.title),"style"in t&&n(3,g=t.style),"$$scope"in t&&n(10,l=t.$$scope)},t.$$.update=()=>{n(9,i=e["aria-label"]),n(8,r=e["aria-labelledby"]),772&t.$$.dirty&&n(7,a=i||r||f),992&t.$$.dirty&&n(4,o={"aria-label":i,"aria-labelledby":r,"aria-hidden":!a||void 0,role:a?"img":void 0,focusable:"0"===d||u,tabindex:d})},e=A(e),[h,c,f,g,o,d,u,a,r,i,l,s,function(e){at.call(this,t,e)},function(e){at.call(this,t,e)},function(e){at.call(this,t,e)},function(e){at.call(this,t,e)},function(e){at.call(this,t,e)},function(e){at.call(this,t,e)}]}var Qe=class extends Lt{constructor(t){super(),Ot(this,t,Je,Ke,b,{class:0,id:1,tabindex:5,focusable:6,title:2,style:3})}};const Ze=t=>({}),tn=t=>({});function en(t){let e,n;const i=t[20].labelText,r=w(i,t,t[19],tn),a=r||function(t){let e;return{c(){e=j(t[13])},m(t,n){$(t,e,n)},p(t,n){8192&n[0]&&V(e,t[13])},d(t){t&&R(e)}}}(t);return{c(){e=F("label"),a&&a.c(),z(e,"for",t[5]),K(e,"bx--label",!0),K(e,"bx--visually-hidden",t[14]),K(e,"bx--label--disabled",t[4])},m(t,i){$(t,e,i),a&&a.m(e,null),n=!0},p(t,o){r?r.p&&(!n||524288&o[0])&&k(r,i,t,t[19],n?C(i,t[19],o,Ze):M(t[19]),tn):a&&a.p&&(!n||8192&o[0])&&a.p(t,n?o:[-1,-1]),(!n||32&o[0])&&z(e,"for",t[5]),16384&o[0]&&K(e,"bx--visually-hidden",t[14]),16&o[0]&&K(e,"bx--label--disabled",t[4])},i(t){n||(wt(a,t),n=!0)},o(t){St(a,t),n=!1},d(t){t&&R(e),a&&a.d(t)}}}function nn(t){let e,n,i,r,a,o,s,l,h,c,d,u,f,p,g,m,y;const b=t[20].default,_=w(b,t,t[19],null);h=new ge({props:{class:"bx--select__arrow"}});let x=t[7]&&rn(),S=t[7]&&an(t),A=t[11]&&on(t);return{c(){e=F("div"),n=F("div"),i=F("select"),_&&_.c(),l=B(),Tt(h.$$.fragment),c=B(),x&&x.c(),u=B(),S&&S.c(),f=B(),A&&A.c(),p=H(),z(i,"aria-describedby",r=t[7]?t[15]:void 0),z(i,"aria-invalid",a=t[7]||void 0),i.disabled=o=t[4]||void 0,z(i,"id",t[5]),z(i,"name",t[6]),z(i,"class",s=t[1]&&`bx--select-input--${t[1]}`),K(i,"bx--select-input",!0),z(n,"data-invalid",d=t[7]||void 0),K(n,"bx--select-input__wrapper",!0),K(e,"bx--select-input--inline__wrapper",!0)},m(r,a){$(r,e,a),O(e,n),O(n,i),_&&_.m(i,null),t[27](i),O(n,l),Pt(h,n,null),O(n,c),x&&x.m(n,null),O(e,u),S&&S.m(e,null),$(r,f,a),A&&A.m(r,a),$(r,p,a),g=!0,m||(y=[Y(i,"change",t[28]),Y(i,"input",t[24]),Y(i,"focus",t[25]),Y(i,"blur",t[26])],m=!0)},p(t,l){_&&_.p&&(!g||524288&l[0])&&k(_,b,t,t[19],g?C(b,t[19],l,null):M(t[19]),null),(!g||32896&l[0]&&r!==(r=t[7]?t[15]:void 0))&&z(i,"aria-describedby",r),(!g||128&l[0]&&a!==(a=t[7]||void 0))&&z(i,"aria-invalid",a),(!g||16&l[0]&&o!==(o=t[4]||void 0))&&(i.disabled=o),(!g||32&l[0])&&z(i,"id",t[5]),(!g||64&l[0])&&z(i,"name",t[6]),(!g||2&l[0]&&s!==(s=t[1]&&`bx--select-input--${t[1]}`))&&z(i,"class",s),2&l[0]&&K(i,"bx--select-input",!0),t[7]?x?128&l[0]&&wt(x,1):(x=rn(),x.c(),wt(x,1),x.m(n,null)):x&&(_t(),St(x,1,1,(()=>{x=null})),xt()),(!g||128&l[0]&&d!==(d=t[7]||void 0))&&z(n,"data-invalid",d),t[7]?S?S.p(t,l):(S=an(t),S.c(),S.m(e,null)):S&&(S.d(1),S=null),t[11]?A?A.p(t,l):(A=on(t),A.c(),A.m(p.parentNode,p)):A&&(A.d(1),A=null)},i(t){g||(wt(_,t),wt(h.$$.fragment,t),wt(x),g=!0)},o(t){St(_,t),St(h.$$.fragment,t),St(x),g=!1},d(n){n&&R(e),_&&_.d(n),t[27](null),Dt(h),x&&x.d(),S&&S.d(),n&&R(f),A&&A.d(n),n&&R(p),m=!1,v(y)}}}function rn(t){let e,n;return e=new se({props:{class:"bx--select__invalid-icon"}}),{c(){Tt(e.$$.fragment)},m(t,i){Pt(e,t,i),n=!0},i(t){n||(wt(e.$$.fragment,t),n=!0)},o(t){St(e.$$.fragment,t),n=!1},d(t){Dt(e,t)}}}function an(t){let e,n;return{c(){e=F("div"),n=j(t[8]),z(e,"id",t[15]),K(e,"bx--form-requirement",!0)},m(t,i){$(t,e,i),O(e,n)},p(t,i){256&i[0]&&V(n,t[8]),32768&i[0]&&z(e,"id",t[15])},d(t){t&&R(e)}}}function on(t){let e,n;return{c(){e=F("div"),n=j(t[11]),K(e,"bx--form__helper-text",!0),K(e,"bx--form__helper-text--disabled",t[4])},m(t,i){$(t,e,i),O(e,n)},p(t,i){2048&i[0]&&V(n,t[11]),16&i[0]&&K(e,"bx--form__helper-text--disabled",t[4])},d(t){t&&R(e)}}}function sn(t){let e,n,i,r,a,o,s,l,h,c,d,u,f,p,g,m,y,b;const _=t[20].default,x=w(_,t,t[19],null);l=new ge({props:{class:"bx--select__arrow"}});let S=t[7]&&ln(),A=!t[7]&&t[9]&&hn(),T=!t[7]&&t[11]&&cn(t),P=t[7]&&dn(t),D=!t[7]&&t[9]&&un(t);return{c(){e=F("div"),n=F("select"),x&&x.c(),s=B(),Tt(l.$$.fragment),h=B(),S&&S.c(),c=B(),A&&A.c(),u=B(),T&&T.c(),f=B(),P&&P.c(),p=B(),D&&D.c(),g=H(),z(n,"id",t[5]),z(n,"name",t[6]),z(n,"aria-describedby",i=t[7]?t[15]:void 0),n.disabled=r=t[4]||void 0,z(n,"aria-invalid",a=t[7]||void 0),z(n,"class",o=t[1]&&`bx--select-input--${t[1]}`),K(n,"bx--select-input",!0),z(e,"data-invalid",d=t[7]||void 0),K(e,"bx--select-input__wrapper",!0)},m(i,r){$(i,e,r),O(e,n),x&&x.m(n,null),t[29](n),O(e,s),Pt(l,e,null),O(e,h),S&&S.m(e,null),O(e,c),A&&A.m(e,null),$(i,u,r),T&&T.m(i,r),$(i,f,r),P&&P.m(i,r),$(i,p,r),D&&D.m(i,r),$(i,g,r),m=!0,y||(b=[Y(n,"change",t[30]),Y(n,"input",t[21]),Y(n,"focus",t[22]),Y(n,"blur",t[23])],y=!0)},p(t,s){x&&x.p&&(!m||524288&s[0])&&k(x,_,t,t[19],m?C(_,t[19],s,null):M(t[19]),null),(!m||32&s[0])&&z(n,"id",t[5]),(!m||64&s[0])&&z(n,"name",t[6]),(!m||32896&s[0]&&i!==(i=t[7]?t[15]:void 0))&&z(n,"aria-describedby",i),(!m||16&s[0]&&r!==(r=t[4]||void 0))&&(n.disabled=r),(!m||128&s[0]&&a!==(a=t[7]||void 0))&&z(n,"aria-invalid",a),(!m||2&s[0]&&o!==(o=t[1]&&`bx--select-input--${t[1]}`))&&z(n,"class",o),2&s[0]&&K(n,"bx--select-input",!0),t[7]?S?128&s[0]&&wt(S,1):(S=ln(),S.c(),wt(S,1),S.m(e,c)):S&&(_t(),St(S,1,1,(()=>{S=null})),xt()),!t[7]&&t[9]?A?640&s[0]&&wt(A,1):(A=hn(),A.c(),wt(A,1),A.m(e,null)):A&&(_t(),St(A,1,1,(()=>{A=null})),xt()),(!m||128&s[0]&&d!==(d=t[7]||void 0))&&z(e,"data-invalid",d),!t[7]&&t[11]?T?T.p(t,s):(T=cn(t),T.c(),T.m(f.parentNode,f)):T&&(T.d(1),T=null),t[7]?P?P.p(t,s):(P=dn(t),P.c(),P.m(p.parentNode,p)):P&&(P.d(1),P=null),!t[7]&&t[9]?D?D.p(t,s):(D=un(t),D.c(),D.m(g.parentNode,g)):D&&(D.d(1),D=null)},i(t){m||(wt(x,t),wt(l.$$.fragment,t),wt(S),wt(A),m=!0)},o(t){St(x,t),St(l.$$.fragment,t),St(S),St(A),m=!1},d(n){n&&R(e),x&&x.d(n),t[29](null),Dt(l),S&&S.d(),A&&A.d(),n&&R(u),T&&T.d(n),n&&R(f),P&&P.d(n),n&&R(p),D&&D.d(n),n&&R(g),y=!1,v(b)}}}function ln(t){let e,n;return e=new se({props:{class:"bx--select__invalid-icon"}}),{c(){Tt(e.$$.fragment)},m(t,i){Pt(e,t,i),n=!0},i(t){n||(wt(e.$$.fragment,t),n=!0)},o(t){St(e.$$.fragment,t),n=!1},d(t){Dt(e,t)}}}function hn(t){let e,n;return e=new de({props:{class:"bx--select__invalid-icon bx--select__invalid-icon--warning"}}),{c(){Tt(e.$$.fragment)},m(t,i){Pt(e,t,i),n=!0},i(t){n||(wt(e.$$.fragment,t),n=!0)},o(t){St(e.$$.fragment,t),n=!1},d(t){Dt(e,t)}}}function cn(t){let e,n;return{c(){e=F("div"),n=j(t[11]),K(e,"bx--form__helper-text",!0),K(e,"bx--form__helper-text--disabled",t[4])},m(t,i){$(t,e,i),O(e,n)},p(t,i){2048&i[0]&&V(n,t[11]),16&i[0]&&K(e,"bx--form__helper-text--disabled",t[4])},d(t){t&&R(e)}}}function dn(t){let e,n;return{c(){e=F("div"),n=j(t[8]),z(e,"id",t[15]),K(e,"bx--form-requirement",!0)},m(t,i){$(t,e,i),O(e,n)},p(t,i){256&i[0]&&V(n,t[8]),32768&i[0]&&z(e,"id",t[15])},d(t){t&&R(e)}}}function un(t){let e,n;return{c(){e=F("div"),n=j(t[10]),z(e,"id",t[15]),K(e,"bx--form-requirement",!0)},m(t,i){$(t,e,i),O(e,n)},p(t,i){1024&i[0]&&V(n,t[10]),32768&i[0]&&z(e,"id",t[15])},d(t){t&&R(e)}}}function fn(t){let e,n,i,r,a,o=!t[12]&&en(t),s=t[2]&&nn(t),l=!t[2]&&sn(t),h=[t[17]],c={};for(let d=0;d<h.length;d+=1)c=p(c,h[d]);return{c(){e=F("div"),n=F("div"),o&&o.c(),i=B(),s&&s.c(),r=B(),l&&l.c(),K(n,"bx--select",!0),K(n,"bx--select--inline",t[2]),K(n,"bx--select--light",t[3]),K(n,"bx--select--invalid",t[7]),K(n,"bx--select--disabled",t[4]),K(n,"bx--select--warning",t[9]),W(e,c),K(e,"bx--form-item",!0)},m(t,h){$(t,e,h),O(e,n),o&&o.m(n,null),O(n,i),s&&s.m(n,null),O(n,r),l&&l.m(n,null),a=!0},p(t,a){t[12]?o&&(_t(),St(o,1,1,(()=>{o=null})),xt()):o?(o.p(t,a),4096&a[0]&&wt(o,1)):(o=en(t),o.c(),wt(o,1),o.m(n,i)),t[2]?s?(s.p(t,a),4&a[0]&&wt(s,1)):(s=nn(t),s.c(),wt(s,1),s.m(n,r)):s&&(_t(),St(s,1,1,(()=>{s=null})),xt()),t[2]?l&&(_t(),St(l,1,1,(()=>{l=null})),xt()):l?(l.p(t,a),4&a[0]&&wt(l,1)):(l=sn(t),l.c(),wt(l,1),l.m(n,null)),4&a[0]&&K(n,"bx--select--inline",t[2]),8&a[0]&&K(n,"bx--select--light",t[3]),128&a[0]&&K(n,"bx--select--invalid",t[7]),16&a[0]&&K(n,"bx--select--disabled",t[4]),512&a[0]&&K(n,"bx--select--warning",t[9]),W(e,c=kt(h,[131072&a[0]&&t[17]])),K(e,"bx--form-item",!0)},i(t){a||(wt(o),wt(s),wt(l),a=!0)},o(t){St(o),St(s),St(l),a=!1},d(t){t&&R(e),o&&o.d(),s&&s.d(),l&&l.d()}}}function pn(t,e,n){let i;const r=["selected","size","inline","light","disabled","id","name","invalid","invalidText","warn","warnText","helperText","noLabel","labelText","hideLabel","ref"];let a,o=T(e,r),{$$slots:s={},$$scope:l}=e,{selected:h}=e,{size:c}=e,{inline:d=!1}=e,{light:u=!1}=e,{disabled:f=!1}=e,{id:g="ccs-"+Math.random().toString(36)}=e,{name:m}=e,{invalid:v=!1}=e,{invalidText:y=""}=e,{warn:b=!1}=e,{warnText:_=""}=e,{helperText:w=""}=e,{noLabel:S=!1}=e,{labelText:C=""}=e,{hideLabel:k=!1}=e,{ref:M=null}=e;const P=nt(),D=It(h);x(t,D,(t=>n(31,a=t))),it("Select",{selectedValue:D}),tt((()=>{n(18,h=a),P("change",a)}));return t.$$set=t=>{e=p(p({},e),A(t)),n(17,o=T(e,r)),"selected"in t&&n(18,h=t.selected),"size"in t&&n(1,c=t.size),"inline"in t&&n(2,d=t.inline),"light"in t&&n(3,u=t.light),"disabled"in t&&n(4,f=t.disabled),"id"in t&&n(5,g=t.id),"name"in t&&n(6,m=t.name),"invalid"in t&&n(7,v=t.invalid),"invalidText"in t&&n(8,y=t.invalidText),"warn"in t&&n(9,b=t.warn),"warnText"in t&&n(10,_=t.warnText),"helperText"in t&&n(11,w=t.helperText),"noLabel"in t&&n(12,S=t.noLabel),"labelText"in t&&n(13,C=t.labelText),"hideLabel"in t&&n(14,k=t.hideLabel),"ref"in t&&n(0,M=t.ref),"$$scope"in t&&n(19,l=t.$$scope)},t.$$.update=()=>{32&t.$$.dirty[0]&&n(15,i=`error-${g}`),262144&t.$$.dirty[0]&&D.set(h)},[M,c,d,u,f,g,m,v,y,b,_,w,S,C,k,i,D,o,h,l,s,function(e){at.call(this,t,e)},function(e){at.call(this,t,e)},function(e){at.call(this,t,e)},function(e){at.call(this,t,e)},function(e){at.call(this,t,e)},function(e){at.call(this,t,e)},function(t){st[t?"unshift":"push"]((()=>{M=t,n(0,M)}))},({target:t})=>{D.set(t.value)},function(t){st[t?"unshift":"push"]((()=>{M=t,n(0,M)}))},({target:t})=>{D.set(t.value)}]}class gn extends Lt{constructor(t){super(),Ot(this,t,pn,fn,b,{selected:18,size:1,inline:2,light:3,disabled:4,id:5,name:6,invalid:7,invalidText:8,warn:9,warnText:10,helperText:11,noLabel:12,labelText:13,hideLabel:14,ref:0},null,[-1,-1])}}function mn(t){let e,n,i,r,a=(t[1]||t[0])+"";return{c(){e=F("option"),n=j(a),e.__value=t[0],e.value=e.__value,e.disabled=t[3],e.hidden=t[2],e.selected=t[4],z(e,"class",i=t[5].class),z(e,"style",r=t[5].style),K(e,"bx--select-option",!0)},m(t,i){$(t,e,i),O(e,n)},p(t,[o]){3&o&&a!==(a=(t[1]||t[0])+"")&&V(n,a),1&o&&(e.__value=t[0],e.value=e.__value),8&o&&(e.disabled=t[3]),4&o&&(e.hidden=t[2]),16&o&&(e.selected=t[4]),32&o&&i!==(i=t[5].class)&&z(e,"class",i),32&o&&r!==(r=t[5].style)&&z(e,"style",r),32&o&&K(e,"bx--select-option",!0)},i:f,o:f,d(t){t&&R(e)}}}function vn(t,e,n){const i=["value","text","hidden","disabled"];let r=T(e,i),{value:a=""}=e,{text:o=""}=e,{hidden:s=!1}=e,{disabled:l=!1}=e;const h=rt("Select")||rt("TimePickerSelect");let c=!1;const d=h.selectedValue.subscribe((t=>{n(4,c=t===a)}));return et((()=>{d()})),t.$$set=t=>{e=p(p({},e),A(t)),n(5,r=T(e,i)),"value"in t&&n(0,a=t.value),"text"in t&&n(1,o=t.text),"hidden"in t&&n(2,s=t.hidden),"disabled"in t&&n(3,l=t.disabled)},[a,o,s,l,c,r]}class yn extends Lt{constructor(t){super(),Ot(this,t,vn,mn,b,{value:0,text:1,hidden:2,disabled:3})}}const bn=t=>({}),_n=t=>({});function xn(t){let e,n,i,r,a,o,s,l,h,c,d,u,f,g,m;const y=t[11].labelText,b=w(y,t,t[10],_n),_=b||function(t){let e;return{c(){e=j(t[5])},m(t,n){$(t,e,n)},p(t,n){32&n&&V(e,t[5])},d(t){t&&R(e)}}}(t);let x=[t[8]],S={};for(let v=0;v<x.length;v+=1)S=p(S,x[v]);return{c(){e=F("div"),n=F("input"),i=B(),r=F("label"),_&&_.c(),a=B(),o=F("span"),s=F("span"),l=j(t[3]),h=B(),c=F("span"),d=j(t[4]),z(n,"type","checkbox"),n.checked=t[0],n.disabled=t[2],z(n,"id",t[6]),z(n,"name",t[7]),K(n,"bx--toggle-input",!0),K(n,"bx--toggle-input--small","sm"===t[1]),z(s,"aria-hidden","true"),K(s,"bx--toggle__text--off",!0),z(c,"aria-hidden","true"),K(c,"bx--toggle__text--on",!0),K(o,"bx--toggle__switch",!0),z(r,"aria-label",u=t[5]?void 0:t[9]["aria-label"]||"Toggle"),z(r,"for",t[6]),K(r,"bx--toggle-input__label",!0),W(e,S),K(e,"bx--form-item",!0)},m(u,p){$(u,e,p),O(e,n),O(e,i),O(e,r),_&&_.m(r,null),O(r,a),O(r,o),O(o,s),O(s,l),O(o,h),O(o,c),O(c,d),f=!0,g||(m=[Y(n,"change",t[16]),Y(n,"change",t[20]),Y(n,"keyup",t[17]),Y(n,"keyup",t[21]),Y(n,"focus",t[18]),Y(n,"blur",t[19]),Y(e,"click",t[12]),Y(e,"mouseover",t[13]),Y(e,"mouseenter",t[14]),Y(e,"mouseleave",t[15])],g=!0)},p(t,[i]){(!f||1&i)&&(n.checked=t[0]),(!f||4&i)&&(n.disabled=t[2]),(!f||64&i)&&z(n,"id",t[6]),(!f||128&i)&&z(n,"name",t[7]),2&i&&K(n,"bx--toggle-input--small","sm"===t[1]),b?b.p&&(!f||1024&i)&&k(b,y,t,t[10],f?C(y,t[10],i,bn):M(t[10]),_n):_&&_.p&&(!f||32&i)&&_.p(t,f?i:-1),(!f||8&i)&&V(l,t[3]),(!f||16&i)&&V(d,t[4]),(!f||544&i&&u!==(u=t[5]?void 0:t[9]["aria-label"]||"Toggle"))&&z(r,"aria-label",u),(!f||64&i)&&z(r,"for",t[6]),W(e,S=kt(x,[256&i&&t[8]])),K(e,"bx--form-item",!0)},i(t){f||(wt(_,t),f=!0)},o(t){St(_,t),f=!1},d(t){t&&R(e),_&&_.d(t),g=!1,v(m)}}}function wn(t,e,n){const i=["size","toggled","disabled","labelA","labelB","labelText","id","name"];let r=T(e,i),{$$slots:a={},$$scope:o}=e,{size:s="default"}=e,{toggled:l=!1}=e,{disabled:h=!1}=e,{labelA:c="Off"}=e,{labelB:d="On"}=e,{labelText:u=""}=e,{id:f="ccs-"+Math.random().toString(36)}=e,{name:g}=e;const m=nt();return t.$$set=t=>{n(9,e=p(p({},e),A(t))),n(8,r=T(e,i)),"size"in t&&n(1,s=t.size),"toggled"in t&&n(0,l=t.toggled),"disabled"in t&&n(2,h=t.disabled),"labelA"in t&&n(3,c=t.labelA),"labelB"in t&&n(4,d=t.labelB),"labelText"in t&&n(5,u=t.labelText),"id"in t&&n(6,f=t.id),"name"in t&&n(7,g=t.name),"$$scope"in t&&n(10,o=t.$$scope)},t.$$.update=()=>{1&t.$$.dirty&&m("toggle",{toggled:l})},e=A(e),[l,s,h,c,d,u,f,g,r,e,o,a,function(e){at.call(this,t,e)},function(e){at.call(this,t,e)},function(e){at.call(this,t,e)},function(e){at.call(this,t,e)},function(e){at.call(this,t,e)},function(e){at.call(this,t,e)},function(e){at.call(this,t,e)},function(e){at.call(this,t,e)},()=>{n(0,l=!l)},t=>{" "!==t.key&&"Enter"!==t.key||(t.preventDefault(),n(0,l=!l))}]}class Sn extends Lt{constructor(t){super(),Ot(this,t,wn,xn,b,{size:1,toggled:0,disabled:2,labelA:3,labelB:4,labelText:5,id:6,name:7})}}const Cn=t=>({theme:1&t}),kn=t=>({theme:t[0]});function Mn(t,e,n){const i=t.slice();return i[0]=e[n],i}function An(t){let e,n,i;function r(e){t[9](e)}let a={key:t[2]};return void 0!==t[0]&&(a.value=t[0]),e=new ze({props:a}),st.push((()=>At(e,"value",r))),{c(){Tt(e.$$.fragment)},m(t,n){Pt(e,t,n),i=!0},p(t,i){const r={};4&i&&(r.key=t[2]),!n&&1&i&&(n=!0,r.value=t[0],ft((()=>n=!1))),e.$set(r)},i(t){i||(wt(e.$$.fragment,t),i=!0)},o(t){St(e.$$.fragment,t),i=!1},d(t){Dt(e,t)}}}function Tn(t){let e,n,i;const r=[t[5]];function a(e){t[11](e)}let o={$$slots:{default:[En]},$$scope:{ctx:t}};for(let s=0;s<r.length;s+=1)o=p(o,r[s]);return void 0!==t[0]&&(o.selected=t[0]),e=new gn({props:o}),st.push((()=>At(e,"selected",a))),{c(){Tt(e.$$.fragment)},m(t,n){Pt(e,t,n),i=!0},p(t,i){const a=32&i?kt(r,[Mt(t[5])]):{};4128&i&&(a.$$scope={dirty:i,ctx:t}),!n&&1&i&&(n=!0,a.selected=t[0],ft((()=>n=!1))),e.$set(a)},i(t){i||(wt(e.$$.fragment,t),i=!0)},o(t){St(e.$$.fragment,t),i=!1},d(t){Dt(e,t)}}}function Pn(t){let e,n;const i=[t[4],{toggled:t[0]===t[4].themes[1]}];let r={};for(let a=0;a<i.length;a+=1)r=p(r,i[a]);return e=new Sn({props:r}),e.$on("toggle",t[10]),{c(){Tt(e.$$.fragment)},m(t,i){Pt(e,t,i),n=!0},p(t,n){const r=17&n?kt(i,[16&n&&Mt(t[4]),{toggled:t[0]===t[4].themes[1]}]):{};e.$set(r)},i(t){n||(wt(e.$$.fragment,t),n=!0)},o(t){St(e.$$.fragment,t),n=!1},d(t){Dt(e,t)}}}function Dn(t,e){let n,i,r;return i=new yn({props:{value:e[0],text:e[6][e[0]]}}),{key:t,first:null,c(){n=H(),Tt(i.$$.fragment),this.first=n},m(t,e){$(t,n,e),Pt(i,t,e),r=!0},p(t,n){e=t;const r={};32&n&&(r.value=e[0]),32&n&&(r.text=e[6][e[0]]),i.$set(r)},i(t){r||(wt(i.$$.fragment,t),r=!0)},o(t){St(i.$$.fragment,t),r=!1},d(t){t&&R(n),Dt(i,t)}}}function En(t){let e,n,i=[],r=new Map,a=t[5].themes;const o=t=>t[0];for(let s=0;s<a.length;s+=1){let e=Mn(t,a,s),n=o(e);r.set(n,i[s]=Dn(n,e))}return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=H()},m(t,r){for(let e=0;e<i.length;e+=1)i[e].m(t,r);$(t,e,r),n=!0},p(t,n){96&n&&(a=t[5].themes,_t(),i=function(t,e,n,i,r,a,o,s,l,h,c,d){let u=t.length,f=a.length,p=u;const g={};for(;p--;)g[t[p].key]=p;const m=[],v=new Map,y=new Map;for(p=f;p--;){const t=d(r,a,p),s=n(t);let l=o.get(s);l?i&&l.p(t,e):(l=h(s,t),l.c()),v.set(s,m[p]=l),s in g&&y.set(s,Math.abs(p-g[s]))}const b=new Set,_=new Set;function x(t){wt(t,1),t.m(s,c),o.set(t.key,t),c=t.first,f--}for(;u&&f;){const e=m[f-1],n=t[u-1],i=e.key,r=n.key;e===n?(c=e.first,u--,f--):v.has(r)?!o.has(i)||b.has(i)?x(e):_.has(r)?u--:y.get(i)>y.get(r)?(_.add(i),x(e)):(b.add(r),u--):(l(n,o),u--)}for(;u--;){const e=t[u];v.has(e.key)||l(e,o)}for(;f;)x(m[f-1]);return m}(i,n,o,1,t,a,r,e.parentNode,Ct,Dn,e,Mn),xt())},i(t){if(!n){for(let t=0;t<a.length;t+=1)wt(i[t]);n=!0}},o(t){for(let e=0;e<i.length;e+=1)St(i[e]);n=!1},d(t){for(let e=0;e<i.length;e+=1)i[e].d(t);t&&R(e)}}}function On(t){let e,n,i,r,a,o=t[1]&&An(t);const s=[Pn,Tn],l=[];function h(t,e){return"toggle"===t[3]?0:"select"===t[3]?1:-1}~(n=h(t))&&(i=l[n]=s[n](t));const c=t[8].default,d=w(c,t,t[12],kn);return{c(){o&&o.c(),e=B(),i&&i.c(),r=B(),d&&d.c()},m(t,i){o&&o.m(t,i),$(t,e,i),~n&&l[n].m(t,i),$(t,r,i),d&&d.m(t,i),a=!0},p(t,[u]){t[1]?o?(o.p(t,u),2&u&&wt(o,1)):(o=An(t),o.c(),wt(o,1),o.m(e.parentNode,e)):o&&(_t(),St(o,1,1,(()=>{o=null})),xt());let f=n;n=h(t),n===f?~n&&l[n].p(t,u):(i&&(_t(),St(l[f],1,1,(()=>{l[f]=null})),xt()),~n?(i=l[n],i?i.p(t,u):(i=l[n]=s[n](t),i.c()),wt(i,1),i.m(r.parentNode,r)):i=null),d&&d.p&&(!a||4097&u)&&k(d,c,t,t[12],a?C(c,t[12],u,Cn):M(t[12]),kn)},i(t){a||(wt(o),wt(i),wt(d,t),a=!0)},o(t){St(o),St(i),St(d,t),a=!1},d(t){o&&o.d(t),t&&R(e),~n&&l[n].d(t),t&&R(r),d&&d.d(t)}}}function Ln(t,e,n){let{$$slots:i={},$$scope:r}=e,{theme:a="white"}=e,{tokens:o={}}=e,{persist:s=!1}=e,{persistKey:l="theme"}=e,{render:h}=e,{toggle:c={themes:["white","g100"],labelA:"",labelB:"",labelText:"Dark mode",hideLabel:!1}}=e;const d={white:"White",g10:"Gray 10",g80:"Gray 80",g90:"Gray 90",g100:"Gray 100"},u=Object.keys(d);let{select:f={themes:u,labelText:"Themes",hideLabel:!1}}=e;const p=nt();return t.$$set=t=>{"theme"in t&&n(0,a=t.theme),"tokens"in t&&n(7,o=t.tokens),"persist"in t&&n(1,s=t.persist),"persistKey"in t&&n(2,l=t.persistKey),"render"in t&&n(3,h=t.render),"toggle"in t&&n(4,c=t.toggle),"select"in t&&n(5,f=t.select),"$$scope"in t&&n(12,r=t.$$scope)},t.$$.update=()=>{129&t.$$.dirty&&"undefined"!=typeof window&&(Object.entries(o).forEach((([t,e])=>{document.documentElement.style.setProperty(`--cds-${t}`,e)})),a in d?(document.documentElement.setAttribute("theme",a),p("update",{theme:a})):console.warn(`[Theme.svelte] invalid theme "${a}". Value must be one of: ${JSON.stringify(Object.keys(d))}`))},[a,s,l,h,c,f,d,o,i,function(t){a=t,n(0,a)},({detail:t})=>{n(0,a=t.toggled?c.themes[1]:c.themes[0])},function(t){a=t,n(0,a)},r]}class $n extends Lt{constructor(t){super(),Ot(this,t,Ln,On,b,{theme:0,tokens:7,persist:1,persistKey:2,render:3,toggle:4,select:5})}}const In=It(void 0);In.subscribe;function Rn(t){let e=t;if(-1!==e.indexOf("ms")){if(-1!==e.indexOf(",")){let t=e.split(",");t.sort((function(t,e){return Number(e.trim().replace("ms",""))-Number(t.trim().replace("ms",""))})),e=t[0]}e=e.replace("ms",""),e=Number(e)}else if(-1!==e.indexOf("s")){if(-1!==e.indexOf(",")){let t=e.split(",");t.sort((function(t,e){return Number(e.trim().replace("s",""))-Number(t.trim().replace("s",""))})),e=t[0]}0===e.indexOf(".")&&(e="0"+e),e=e.replace("s",""),e=1e3*Number(e)}return e}function Nn(){return"undefined"!=typeof window&&void 0!==window.document}function Fn(t){return new Promise((e=>{setTimeout((()=>{e()}),t)}))}function Gn(t){let e,n,i;var r=t[0];function a(t){return{props:{router:t[3]}}}return r&&(e=new r(a(t))),{c(){e&&Tt(e.$$.fragment),n=H()},m(t,r){e&&Pt(e,t,r),$(t,n,r),i=!0},p(t,i){if(r!==(r=t[0])){if(e){_t();const t=e;St(t.$$.fragment,1,0,(()=>{Dt(t,1)})),xt()}r?(e=new r(a(t)),Tt(e.$$.fragment),wt(e.$$.fragment,1),Pt(e,n.parentNode,n)):e=null}},i(t){i||(e&&wt(e.$$.fragment,t),i=!0)},o(t){e&&St(e.$$.fragment,t),i=!1},d(t){t&&R(n),e&&Dt(e,t)}}}function jn(t){let e,n,i,r=t[2]&&Gn(t);return{c(){e=F("div"),r&&r.c(),z(e,"class",n="easyroute-outlet "+t[5].class+" "+t[1])},m(t,n){$(t,e,n),r&&r.m(e,null),i=!0},p(t,[a]){t[2]?r?(r.p(t,a),4&a&&wt(r,1)):(r=Gn(t),r.c(),wt(r,1),r.m(e,null)):r&&(_t(),St(r,1,1,(()=>{r=null})),xt()),(!i||34&a&&n!==(n="easyroute-outlet "+t[5].class+" "+t[1]))&&z(e,"class",n)},i(t){i||(wt(r),i=!0)},o(t){St(r),i=!1},d(t){t&&R(e),r&&r.d()}}}function Bn(t,e,n){const i=["transition","forceRemount","name"];let r,a=T(e,i),{transition:o=null,forceRemount:s=!1,name:l="default"}=e;const h=!Nn(),c=rt("easyrouteContext"),d=c&&c.depth+1||0,u=c?c.router:null,f=h?null:o?function(t){let e=0,n=0;for(let i=0;i<document.styleSheets.length;i++){let r=document.styleSheets[i].rules;for(let i=0;i<r.length;i++)r[i].selectorText&&(-1!==r[i].selectorText.indexOf(`.${t}-enter-active`)&&(e=Rn(r[i].style.transitionDuration)),-1!==r[i].selectorText.indexOf(`.${t}-leave-active`)&&(n=Rn(r[i].style.transitionDuration)))}return{enteringDuration:e,leavingDuration:n}}(o):null;let g=null,m=null,v="",y=h;if(!u)throw new Error("[Easyroute] RouterOutlet: no router instance found. Did you forget to wrap your root component with <EasyrouteProvider>?");const b=u.currentMatched;async function _(t,e){(g!==e.id||s)&&(f?async function(t,e,n,i,r,a,o){i(`${n}-leave-active ${n}-leave-to`),await Fn(o.leavingDuration+10),i(`${n}-leave-active ${n}-leave-to ${n}-leave`);const s=[...a.transitionOutHooks];e.transitionOut&&s.push(e.transitionOut),await a.runHooksArray(s,a.currentRouteData.getValue,a.currentRouteFromData.getValue,"transition"),await Fn(5),i(`${n}-enter`),i(`${n}-enter-active`),r(t),i(`${n}-enter-active ${n}-enter-to`),await Fn(o.enteringDuration+10),i("")}(t,e,o,(t=>n(1,v=t)),(t=>n(0,m=t)),u,f):n(0,m=t),g=e.id)}async function w(t){const e=t.find((t=>t.nestingDepth===d));if(e){let t;t="default"===l?e.component||e.components.default:e.components?e.components[l]:null,await _(t,e),n(2,y=!0)}else _(null,`${Date.now()}-nonexistent-route`)}return x(t,b,(t=>n(9,r=t))),it("easyrouteContext",{depth:d,router:u}),h&&w(u.currentMatched.getValue),t.$$set=t=>{e=p(p({},e),A(t)),n(5,a=T(e,i)),"transition"in t&&n(6,o=t.transition),"forceRemount"in t&&n(7,s=t.forceRemount),"name"in t&&n(8,l=t.name)},t.$$.update=()=>{512&t.$$.dirty&&w(r)},[m,v,y,u,b,a,o,s,l,r]}class Hn extends Lt{constructor(t){super(),Ot(this,t,Bn,jn,b,{transition:6,forceRemount:7,name:8})}}function Yn(t){let e;const n=t[2].default,i=w(n,t,t[1],null);return{c(){i&&i.c()},m(t,n){i&&i.m(t,n),e=!0},p(t,[r]){i&&i.p&&(!e||2&r)&&k(i,n,t,t[1],e?C(n,t[1],r,null):M(t[1]),null)},i(t){e||(wt(i,t),e=!0)},o(t){St(i,t),e=!1},d(t){i&&i.d(t)}}}function zn(t,e,n){let{$$slots:i={},$$scope:r}=e,{router:a=null}=e;if(!a)throw new Error("[Easyroute] no router instance passed into EasyrouteProvider");return it("easyrouteContext",{depth:-1,router:a}),t.$$set=t=>{"router"in t&&n(0,a=t.router),"$$scope"in t&&n(1,r=t.$$scope)},[a,r,i]}class Wn extends Lt{constructor(t){super(),Ot(this,t,zn,Yn,b,{router:0})}}let Un=(t,e)=>{if(e=e||{},t=t||[],"undefined"==typeof window)return;let n=e.key||"storeon",i=e.storage||localStorage,r=e.serializer||JSON.stringify,a=e.deserializer||JSON.parse,o=e=>{let a;t.length&&(e=qn(e,t));try{a=r(e)}catch(o){return}i.setItem(n,a)},s=Symbol("persistState");return t=>{t.on(s,((t,e)=>{try{return a(e)}catch(n){}})),t.on("@init",(()=>{t.on("@changed",o);let e=i.getItem(n);if(e)if("function"==typeof e.then)e.then((e=>t.dispatch(s,e)));else try{return a(e)}catch(r){}}))}},qn=(t,e)=>{let n={};for(let i in t)for(let r of e)(r.test&&r.test(i)||r===i)&&(n[i]=t[i]);return n};const Xn="undefined"!=typeof Symbol?Symbol("storeon"):"@@storeon";function Vn(t){it(Xn,t)}function Kn(...t){let e=rt(Xn),n={};e.on("@changed",((e,i)=>{t.forEach((t=>{t in i&&n[t]&&n[t](i[t])}))}));let i={};return t.forEach((t=>{i[t]=(t=>({subscribe:i=>{let r=e.get();return n[t]=i,i(r[t]),()=>{delete n[t]}}}))(t)})),i.dispatch=e.dispatch,i}let Jn=t=>{let e={},n={},i={dispatch(t,r){if("@dispatch"!==t&&i.dispatch("@dispatch",[t,r,e[t]]),e[t]){let a;e[t].forEach((o=>{let s=e[t].includes(o)&&o(n,r,i);s&&"function"!=typeof s.then&&(n=h(h({},n),s),a=h(h({},a),s))})),a&&i.dispatch("@changed",a)}},get:()=>n,on:(t,n)=>((e[t]||(e[t]=[])).push(n),()=>{e[t]=e[t].filter((t=>t!==n))})};return t.forEach((t=>{t&&t(i)})),i.dispatch("@init"),i};var Qn,Zn;(Zn=Qn||(Qn={}))[Zn.PLAIN_TO_CLASS=0]="PLAIN_TO_CLASS",Zn[Zn.CLASS_TO_PLAIN=1]="CLASS_TO_PLAIN",Zn[Zn.CLASS_TO_CLASS=2]="CLASS_TO_CLASS";var ti=new(function(){function t(){this._typeMetadatas=new Map,this._transformMetadatas=new Map,this._exposeMetadatas=new Map,this._excludeMetadatas=new Map,this._ancestorsMap=new Map}return t.prototype.addTypeMetadata=function(t){this._typeMetadatas.has(t.target)||this._typeMetadatas.set(t.target,new Map),this._typeMetadatas.get(t.target).set(t.propertyName,t)},t.prototype.addTransformMetadata=function(t){this._transformMetadatas.has(t.target)||this._transformMetadatas.set(t.target,new Map),this._transformMetadatas.get(t.target).has(t.propertyName)||this._transformMetadatas.get(t.target).set(t.propertyName,[]),this._transformMetadatas.get(t.target).get(t.propertyName).push(t)},t.prototype.addExposeMetadata=function(t){this._exposeMetadatas.has(t.target)||this._exposeMetadatas.set(t.target,new Map),this._exposeMetadatas.get(t.target).set(t.propertyName,t)},t.prototype.addExcludeMetadata=function(t){this._excludeMetadatas.has(t.target)||this._excludeMetadatas.set(t.target,new Map),this._excludeMetadatas.get(t.target).set(t.propertyName,t)},t.prototype.findTransformMetadatas=function(t,e,n){return this.findMetadatas(this._transformMetadatas,t,e).filter((function(t){return!t.options||(!0===t.options.toClassOnly&&!0===t.options.toPlainOnly||(!0===t.options.toClassOnly?n===Qn.CLASS_TO_CLASS||n===Qn.PLAIN_TO_CLASS:!0!==t.options.toPlainOnly||n===Qn.CLASS_TO_PLAIN))}))},t.prototype.findExcludeMetadata=function(t,e){return this.findMetadata(this._excludeMetadatas,t,e)},t.prototype.findExposeMetadata=function(t,e){return this.findMetadata(this._exposeMetadatas,t,e)},t.prototype.findExposeMetadataByCustomName=function(t,e){return this.getExposedMetadatas(t).find((function(t){return t.options&&t.options.name===e}))},t.prototype.findTypeMetadata=function(t,e){return this.findMetadata(this._typeMetadatas,t,e)},t.prototype.getStrategy=function(t){var e=this._excludeMetadatas.get(t),n=e&&e.get(void 0),i=this._exposeMetadatas.get(t),r=i&&i.get(void 0);return n&&r||!n&&!r?"none":n?"excludeAll":"exposeAll"},t.prototype.getExposedMetadatas=function(t){return this.getMetadata(this._exposeMetadatas,t)},t.prototype.getExcludedMetadatas=function(t){return this.getMetadata(this._excludeMetadatas,t)},t.prototype.getExposedProperties=function(t,e){return this.getExposedMetadatas(t).filter((function(t){return!t.options||(!0===t.options.toClassOnly&&!0===t.options.toPlainOnly||(!0===t.options.toClassOnly?e===Qn.CLASS_TO_CLASS||e===Qn.PLAIN_TO_CLASS:!0!==t.options.toPlainOnly||e===Qn.CLASS_TO_PLAIN))})).map((function(t){return t.propertyName}))},t.prototype.getExcludedProperties=function(t,e){return this.getExcludedMetadatas(t).filter((function(t){return!t.options||(!0===t.options.toClassOnly&&!0===t.options.toPlainOnly||(!0===t.options.toClassOnly?e===Qn.CLASS_TO_CLASS||e===Qn.PLAIN_TO_CLASS:!0!==t.options.toPlainOnly||e===Qn.CLASS_TO_PLAIN))})).map((function(t){return t.propertyName}))},t.prototype.clear=function(){this._typeMetadatas.clear(),this._exposeMetadatas.clear(),this._excludeMetadatas.clear(),this._ancestorsMap.clear()},t.prototype.getMetadata=function(t,e){var n,i=t.get(e);i&&(n=Array.from(i.values()).filter((function(t){return void 0!==t.propertyName})));for(var r=[],a=0,o=this.getAncestors(e);a<o.length;a++){var s=o[a],l=t.get(s);if(l){var h=Array.from(l.values()).filter((function(t){return void 0!==t.propertyName}));r.push.apply(r,h)}}return r.concat(n||[])},t.prototype.findMetadata=function(t,e,n){var i=t.get(e);if(i){var r=i.get(n);if(r)return r}for(var a=0,o=this.getAncestors(e);a<o.length;a++){var s=o[a],l=t.get(s);if(l){var h=l.get(n);if(h)return h}}},t.prototype.findMetadatas=function(t,e,n){var i,r=t.get(e);r&&(i=r.get(n));for(var a=[],o=0,s=this.getAncestors(e);o<s.length;o++){var l=s[o],h=t.get(l);h&&h.has(n)&&a.push.apply(a,h.get(n))}return a.slice().reverse().concat((i||[]).slice().reverse())},t.prototype.getAncestors=function(t){if(!t)return[];if(!this._ancestorsMap.has(t)){for(var e=[],n=Object.getPrototypeOf(t.prototype.constructor);void 0!==n.prototype;n=Object.getPrototypeOf(n.prototype.constructor))e.push(n);this._ancestorsMap.set(t,e)}return this._ancestorsMap.get(t)},t}());var ei=function(){function t(t,e){this.transformationType=t,this.options=e,this.recursionStack=new Set}return t.prototype.transform=function(t,e,n,i,r,a){var o,s=this;if(void 0===a&&(a=0),Array.isArray(e)||e instanceof Set){var l=i&&this.transformationType===Qn.PLAIN_TO_CLASS?function(t){var e=new t;return e instanceof Set||"push"in e?e:[]}(i):[];return e.forEach((function(e,i){var r=t?t[i]:void 0;if(s.options.enableCircularCheck&&s.isCircular(e))s.transformationType===Qn.CLASS_TO_CLASS&&(l instanceof Set?l.add(e):l.push(e));else{var o=void 0;if("function"!=typeof n&&n&&n.options&&n.options.discriminator&&n.options.discriminator.property&&n.options.discriminator.subTypes){if(s.transformationType===Qn.PLAIN_TO_CLASS){o=n.options.discriminator.subTypes.find((function(t){return t.name===e[n.options.discriminator.property]}));var h={newObject:l,object:e,property:void 0},c=n.typeFunction(h);o=void 0===o?c:o.value,n.options.keepDiscriminatorProperty||delete e[n.options.discriminator.property]}s.transformationType===Qn.CLASS_TO_CLASS&&(o=e.constructor),s.transformationType===Qn.CLASS_TO_PLAIN&&(e[n.options.discriminator.property]=n.options.discriminator.subTypes.find((function(t){return t.value===e.constructor})).name)}else o=n;var d=s.transform(r,e,o,void 0,e instanceof Map,a+1);l instanceof Set?l.add(d):l.push(d)}})),l}if(n!==String||r){if(n!==Number||r){if(n!==Boolean||r){if((n===Date||e instanceof Date)&&!r)return e instanceof Date?new Date(e.valueOf()):null==e?e:new Date(e);if(("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:void 0).Buffer&&(n===Buffer||e instanceof Buffer)&&!r)return null==e?e:Buffer.from(e);if(null===(o=e)||"object"!=typeof o||"function"!=typeof o.then||r){if(r||null===e||"object"!=typeof e||"function"!=typeof e.then){if("object"==typeof e&&null!==e){n||e.constructor===Object||(n=e.constructor),!n&&t&&(n=t.constructor),this.options.enableCircularCheck&&this.recursionStack.add(e);var h=this.getKeys(n,e,r),c=t||{};t||this.transformationType!==Qn.PLAIN_TO_CLASS&&this.transformationType!==Qn.CLASS_TO_CLASS||(c=r?new Map:n?new n:{});for(var d=function(i){if("__proto__"===i||"constructor"===i)return"continue";var o=i,s=i,l=i;if(!u.options.ignoreDecorators&&n)if(u.transformationType===Qn.PLAIN_TO_CLASS)(h=ti.findExposeMetadataByCustomName(n,i))&&(l=h.propertyName,s=h.propertyName);else if(u.transformationType===Qn.CLASS_TO_PLAIN||u.transformationType===Qn.CLASS_TO_CLASS){var h;(h=ti.findExposeMetadata(n,i))&&h.options&&h.options.name&&(s=h.options.name)}var d=void 0;d=e instanceof Map?e.get(o):e[o]instanceof Function?e[o]():e[o];var f=void 0,p=d instanceof Map;if(n&&r)f=n;else if(n){var g=ti.findTypeMetadata(n,l);if(g){var m={newObject:c,object:e,property:l},v=g.typeFunction?g.typeFunction(m):g.reflectedType;g.options&&g.options.discriminator&&g.options.discriminator.property&&g.options.discriminator.subTypes?e[o]instanceof Array?f=g:(u.transformationType===Qn.PLAIN_TO_CLASS&&(f=void 0===(f=g.options.discriminator.subTypes.find((function(t){if(d&&d instanceof Object&&g.options.discriminator.property in d)return t.name===d[g.options.discriminator.property]})))?v:f.value,g.options.keepDiscriminatorProperty||d&&d instanceof Object&&g.options.discriminator.property in d&&delete d[g.options.discriminator.property]),u.transformationType===Qn.CLASS_TO_CLASS&&(f=d.constructor),u.transformationType===Qn.CLASS_TO_PLAIN&&(d[g.options.discriminator.property]=g.options.discriminator.subTypes.find((function(t){return t.value===d.constructor})).name)):f=v,p=p||g.reflectedType===Map}else if(u.options.targetMaps)u.options.targetMaps.filter((function(t){return t.target===n&&!!t.properties[l]})).forEach((function(t){return f=t.properties[l]}));else if(u.options.enableImplicitConversion&&u.transformationType===Qn.PLAIN_TO_CLASS){var y=Reflect.getMetadata("design:type",n.prototype,l);y&&(f=y)}}var b=Array.isArray(e[o])?u.getReflectedType(n,l):void 0,_=t?t[o]:void 0;if(c.constructor.prototype){var x=Object.getOwnPropertyDescriptor(c.constructor.prototype,s);if((u.transformationType===Qn.PLAIN_TO_CLASS||u.transformationType===Qn.CLASS_TO_CLASS)&&(x&&!x.set||c[s]instanceof Function))return"continue"}if(u.options.enableCircularCheck&&u.isCircular(d)){if(u.transformationType===Qn.CLASS_TO_CLASS){S=d;(void 0!==(S=u.applyCustomTransformations(S,n,i,e,u.transformationType))||u.options.exposeUnsetFields)&&(c instanceof Map?c.set(s,S):c[s]=S)}}else{var w=u.transformationType===Qn.PLAIN_TO_CLASS?s:i,S=void 0;u.transformationType===Qn.CLASS_TO_PLAIN?(S=e[w],S=u.applyCustomTransformations(S,n,w,e,u.transformationType),S=e[w]===S?d:S,S=u.transform(_,S,f,b,p,a+1)):void 0===d&&u.options.exposeDefaultValues?S=c[s]:(S=u.transform(_,d,f,b,p,a+1),S=u.applyCustomTransformations(S,n,w,e,u.transformationType)),(void 0!==S||u.options.exposeUnsetFields)&&(c instanceof Map?c.set(s,S):c[s]=S)}},u=this,f=0,p=h;f<p.length;f++){d(p[f])}return this.options.enableCircularCheck&&this.recursionStack.delete(e),c}return e}return e}return new Promise((function(t,i){e.then((function(e){return t(s.transform(void 0,e,n,void 0,void 0,a+1))}),i)}))}return null==e?e:Boolean(e)}return null==e?e:Number(e)}return null==e?e:String(e)},t.prototype.applyCustomTransformations=function(t,e,n,i,r){var a=this,o=ti.findTransformMetadatas(e,n,this.transformationType);return void 0!==this.options.version&&(o=o.filter((function(t){return!t.options||a.checkVersion(t.options.since,t.options.until)}))),(o=this.options.groups&&this.options.groups.length?o.filter((function(t){return!t.options||a.checkGroups(t.options.groups)})):o.filter((function(t){return!t.options||!t.options.groups||!t.options.groups.length}))).forEach((function(e){t=e.transformFn({value:t,key:n,obj:i,type:r,options:a.options})})),t},t.prototype.isCircular=function(t){return this.recursionStack.has(t)},t.prototype.getReflectedType=function(t,e){if(t){var n=ti.findTypeMetadata(t,e);return n?n.reflectedType:void 0}},t.prototype.getKeys=function(t,e,n){var i=this,r=ti.getStrategy(t);"none"===r&&(r=this.options.strategy||"exposeAll");var a=[];if(("exposeAll"===r||n)&&(a=e instanceof Map?Array.from(e.keys()):Object.keys(e)),n)return a;if(!this.options.ignoreDecorators&&t){var o=ti.getExposedProperties(t,this.transformationType);this.transformationType===Qn.PLAIN_TO_CLASS&&(o=o.map((function(e){var n=ti.findExposeMetadata(t,e);return n&&n.options&&n.options.name?n.options.name:e}))),a=this.options.excludeExtraneousValues?o:a.concat(o);var s=ti.getExcludedProperties(t,this.transformationType);s.length>0&&(a=a.filter((function(t){return!s.includes(t)}))),void 0!==this.options.version&&(a=a.filter((function(e){var n=ti.findExposeMetadata(t,e);return!n||!n.options||i.checkVersion(n.options.since,n.options.until)}))),a=this.options.groups&&this.options.groups.length?a.filter((function(e){var n=ti.findExposeMetadata(t,e);return!n||!n.options||i.checkGroups(n.options.groups)})):a.filter((function(e){var n=ti.findExposeMetadata(t,e);return!(n&&n.options&&n.options.groups&&n.options.groups.length)}))}return this.options.excludePrefixes&&this.options.excludePrefixes.length&&(a=a.filter((function(t){return i.options.excludePrefixes.every((function(e){return t.substr(0,e.length)!==e}))}))),a=a.filter((function(t,e,n){return n.indexOf(t)===e}))},t.prototype.checkVersion=function(t,e){var n=!0;return n&&t&&(n=this.options.version>=t),n&&e&&(n=this.options.version<e),n},t.prototype.checkGroups=function(t){return!t||this.options.groups.some((function(e){return t.includes(e)}))},t}(),ni={enableCircularCheck:!1,enableImplicitConversion:!1,excludeExtraneousValues:!1,excludePrefixes:void 0,exposeDefaultValues:!1,exposeUnsetFields:!0,groups:void 0,ignoreDecorators:!1,strategy:void 0,targetMaps:void 0,version:void 0},ii=function(){return(ii=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function ri(t,e){return void 0===e&&(e={}),function(n,i){var r=Reflect.getMetadata("design:type",n,i);ti.addTypeMetadata({target:n.constructor,propertyName:i,reflectedType:r,typeFunction:t,options:e})}}var ai=new(function(){function t(){}return t.prototype.classToPlain=function(t,e){return new ei(Qn.CLASS_TO_PLAIN,ii(ii({},ni),e)).transform(void 0,t,void 0,void 0,void 0,void 0)},t.prototype.classToPlainFromExist=function(t,e,n){return new ei(Qn.CLASS_TO_PLAIN,ii(ii({},ni),n)).transform(e,t,void 0,void 0,void 0,void 0)},t.prototype.plainToClass=function(t,e,n){return new ei(Qn.PLAIN_TO_CLASS,ii(ii({},ni),n)).transform(void 0,e,t,void 0,void 0,void 0)},t.prototype.plainToClassFromExist=function(t,e,n){return new ei(Qn.PLAIN_TO_CLASS,ii(ii({},ni),n)).transform(t,e,void 0,void 0,void 0,void 0)},t.prototype.classToClass=function(t,e){return new ei(Qn.CLASS_TO_CLASS,ii(ii({},ni),e)).transform(void 0,t,void 0,void 0,void 0,void 0)},t.prototype.classToClassFromExist=function(t,e,n){return new ei(Qn.CLASS_TO_CLASS,ii(ii({},ni),n)).transform(e,t,void 0,void 0,void 0,void 0)},t.prototype.serialize=function(t,e){return JSON.stringify(this.classToPlain(t,e))},t.prototype.deserialize=function(t,e,n){var i=JSON.parse(e);return this.plainToClass(t,i,n)},t.prototype.deserializeArray=function(t,e,n){var i=JSON.parse(e);return this.plainToClass(t,i,n)},t}());function oi(t,e){return ai.classToPlain(t,e)}function si(t,e,n){return ai.plainToClass(t,e,n)}function li(t,e){return ai.classToClass(t,e)}var hi=Math.PI/180;const ci="undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope?self:{},di={_global:ci,version:"8.1.1",isBrowser:"undefined"!=typeof window&&("[object Window]"==={}.toString.call(window)||"[object global]"==={}.toString.call(window)),isUnminified:/param/.test(function(t){}.toString()),dblClickWindow:400,getAngle:t=>di.angleDeg?t*hi:t,enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,pixelRatio:"undefined"!=typeof window&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging:()=>di.DD.isDragging,isDragReady:()=>!!di.DD.node,document:ci.document,_injectGlobal(t){ci.Konva=t}},ui=t=>{di[t.prototype.getClassName()]=t};di._injectGlobal(di);class fi{constructor(t=[1,0,0,1,0,0]){this.dirty=!1,this.m=t&&t.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new fi(this.m)}copyInto(t){t.m[0]=this.m[0],t.m[1]=this.m[1],t.m[2]=this.m[2],t.m[3]=this.m[3],t.m[4]=this.m[4],t.m[5]=this.m[5]}point(t){var e=this.m;return{x:e[0]*t.x+e[2]*t.y+e[4],y:e[1]*t.x+e[3]*t.y+e[5]}}translate(t,e){return this.m[4]+=this.m[0]*t+this.m[2]*e,this.m[5]+=this.m[1]*t+this.m[3]*e,this}scale(t,e){return this.m[0]*=t,this.m[1]*=t,this.m[2]*=e,this.m[3]*=e,this}rotate(t){var e=Math.cos(t),n=Math.sin(t),i=this.m[0]*e+this.m[2]*n,r=this.m[1]*e+this.m[3]*n,a=this.m[0]*-n+this.m[2]*e,o=this.m[1]*-n+this.m[3]*e;return this.m[0]=i,this.m[1]=r,this.m[2]=a,this.m[3]=o,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(t,e){var n=this.m[0]+this.m[2]*e,i=this.m[1]+this.m[3]*e,r=this.m[2]+this.m[0]*t,a=this.m[3]+this.m[1]*t;return this.m[0]=n,this.m[1]=i,this.m[2]=r,this.m[3]=a,this}multiply(t){var e=this.m[0]*t.m[0]+this.m[2]*t.m[1],n=this.m[1]*t.m[0]+this.m[3]*t.m[1],i=this.m[0]*t.m[2]+this.m[2]*t.m[3],r=this.m[1]*t.m[2]+this.m[3]*t.m[3],a=this.m[0]*t.m[4]+this.m[2]*t.m[5]+this.m[4],o=this.m[1]*t.m[4]+this.m[3]*t.m[5]+this.m[5];return this.m[0]=e,this.m[1]=n,this.m[2]=i,this.m[3]=r,this.m[4]=a,this.m[5]=o,this}invert(){var t=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),e=this.m[3]*t,n=-this.m[1]*t,i=-this.m[2]*t,r=this.m[0]*t,a=t*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),o=t*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=e,this.m[1]=n,this.m[2]=i,this.m[3]=r,this.m[4]=a,this.m[5]=o,this}getMatrix(){return this.m}setAbsolutePosition(t,e){var n=this.m[0],i=this.m[1],r=this.m[2],a=this.m[3],o=this.m[4],s=(n*(e-this.m[5])-i*(t-o))/(n*a-i*r),l=(t-o-r*s)/n;return this.translate(l,s)}decompose(){var t=this.m[0],e=this.m[1],n=this.m[2],i=this.m[3],r=t*i-e*n;let a={x:this.m[4],y:this.m[5],rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(0!=t||0!=e){var o=Math.sqrt(t*t+e*e);a.rotation=e>0?Math.acos(t/o):-Math.acos(t/o),a.scaleX=o,a.scaleY=r/o,a.skewX=(t*n+e*i)/r,a.skewY=0}else if(0!=n||0!=i){var s=Math.sqrt(n*n+i*i);a.rotation=Math.PI/2-(i>0?Math.acos(-n/s):-Math.acos(n/s)),a.scaleX=r/s,a.scaleY=s,a.skewX=0,a.skewY=(t*n+e*i)/r}return a.rotation=_i._getRotation(a.rotation),a}}var pi=Math.PI/180,gi=180/Math.PI,mi={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},vi=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,yi=[];const bi="undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||function(t){setTimeout(t,60)},_i={_isElement:t=>!(!t||1!=t.nodeType),_isFunction:t=>!!(t&&t.constructor&&t.call&&t.apply),_isPlainObject:t=>!!t&&t.constructor===Object,_isArray:t=>"[object Array]"===Object.prototype.toString.call(t),_isNumber:t=>"[object Number]"===Object.prototype.toString.call(t)&&!isNaN(t)&&isFinite(t),_isString:t=>"[object String]"===Object.prototype.toString.call(t),_isBoolean:t=>"[object Boolean]"===Object.prototype.toString.call(t),isObject:t=>t instanceof Object,isValidSelector(t){if("string"!=typeof t)return!1;var e=t[0];return"#"===e||"."===e||e===e.toUpperCase()},_sign:t=>0===t||t>0?1:-1,requestAnimFrame(t){yi.push(t),1===yi.length&&bi((function(){const t=yi;yi=[],t.forEach((function(t){t()}))}))},createCanvasElement(){var t=document.createElement("canvas");try{t.style=t.style||{}}catch(e){}return t},createImageElement:()=>document.createElement("img"),_isInDocument(t){for(;t=t.parentNode;)if(t==document)return!0;return!1},_urlToImage(t,e){var n=_i.createImageElement();n.onload=function(){e(n)},n.src=t},_rgbToHex:(t,e,n)=>((1<<24)+(t<<16)+(e<<8)+n).toString(16).slice(1),_hexToRgb(t){t=t.replace("#","");var e=parseInt(t,16);return{r:e>>16&255,g:e>>8&255,b:255&e}},getRandomColor(){for(var t=(16777215*Math.random()<<0).toString(16);t.length<6;)t="0"+t;return"#"+t},getRGB(t){var e;return t in mi?{r:(e=mi[t])[0],g:e[1],b:e[2]}:"#"===t[0]?this._hexToRgb(t.substring(1)):"rgb("===t.substr(0,4)?(e=vi.exec(t.replace(/ /g,"")),{r:parseInt(e[1],10),g:parseInt(e[2],10),b:parseInt(e[3],10)}):{r:0,g:0,b:0}},colorToRGBA:t=>(t=t||"black",_i._namedColorToRBA(t)||_i._hex3ColorToRGBA(t)||_i._hex6ColorToRGBA(t)||_i._rgbColorToRGBA(t)||_i._rgbaColorToRGBA(t)||_i._hslColorToRGBA(t)),_namedColorToRBA(t){var e=mi[t.toLowerCase()];return e?{r:e[0],g:e[1],b:e[2],a:1}:null},_rgbColorToRGBA(t){if(0===t.indexOf("rgb(")){var e=(t=t.match(/rgb\(([^)]+)\)/)[1]).split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:1}}},_rgbaColorToRGBA(t){if(0===t.indexOf("rgba(")){var e=(t=t.match(/rgba\(([^)]+)\)/)[1]).split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:e[3]}}},_hex6ColorToRGBA(t){if("#"===t[0]&&7===t.length)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:1}},_hex3ColorToRGBA(t){if("#"===t[0]&&4===t.length)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:1}},_hslColorToRGBA(t){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(t)){const[e,...n]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t),i=Number(n[0])/360,r=Number(n[1])/100,a=Number(n[2])/100;let o,s,l;if(0===r)return l=255*a,{r:Math.round(l),g:Math.round(l),b:Math.round(l),a:1};o=a<.5?a*(1+r):a+r-a*r;const h=2*a-o,c=[0,0,0];for(let t=0;t<3;t++)s=i+1/3*-(t-1),s<0&&s++,s>1&&s--,l=6*s<1?h+6*(o-h)*s:2*s<1?o:3*s<2?h+(o-h)*(2/3-s)*6:h,c[t]=255*l;return{r:Math.round(c[0]),g:Math.round(c[1]),b:Math.round(c[2]),a:1}}},haveIntersection:(t,e)=>!(e.x>t.x+t.width||e.x+e.width<t.x||e.y>t.y+t.height||e.y+e.height<t.y),cloneObject(t){var e={};for(var n in t)this._isPlainObject(t[n])?e[n]=this.cloneObject(t[n]):this._isArray(t[n])?e[n]=this.cloneArray(t[n]):e[n]=t[n];return e},cloneArray:t=>t.slice(0),degToRad:t=>t*pi,radToDeg:t=>t*gi,_degToRad:t=>(_i.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),_i.degToRad(t)),_radToDeg:t=>(_i.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),_i.radToDeg(t)),_getRotation:t=>di.angleDeg?_i.radToDeg(t):t,_capitalize:t=>t.charAt(0).toUpperCase()+t.slice(1),throw(t){throw new Error("Konva error: "+t)},error(t){console.error("Konva error: "+t)},warn(t){di.showWarnings&&console.warn("Konva warning: "+t)},each(t,e){for(var n in t)e(n,t[n])},_inRange:(t,e,n)=>e<=t&&t<n,_getProjectionToSegment(t,e,n,i,r,a){var o,s,l,h=(t-n)*(t-n)+(e-i)*(e-i);if(0==h)o=t,s=e,l=(r-n)*(r-n)+(a-i)*(a-i);else{var c=((r-t)*(n-t)+(a-e)*(i-e))/h;c<0?(o=t,s=e,l=(t-r)*(t-r)+(e-a)*(e-a)):c>1?(o=n,s=i,l=(n-r)*(n-r)+(i-a)*(i-a)):l=((o=t+c*(n-t))-r)*(o-r)+((s=e+c*(i-e))-a)*(s-a)}return[o,s,l]},_getProjectionToLine(t,e,n){var i=_i.cloneObject(t),r=Number.MAX_VALUE;return e.forEach((function(a,o){if(n||o!==e.length-1){var s=e[(o+1)%e.length],l=_i._getProjectionToSegment(a.x,a.y,s.x,s.y,t.x,t.y),h=l[0],c=l[1],d=l[2];d<r&&(i.x=h,i.y=c,r=d)}})),i},_prepareArrayForTween(t,e,n){var i,r=[],a=[];if(t.length>e.length){var o=e;e=t,t=o}for(i=0;i<t.length;i+=2)r.push({x:t[i],y:t[i+1]});for(i=0;i<e.length;i+=2)a.push({x:e[i],y:e[i+1]});var s=[];return a.forEach((function(t){var e=_i._getProjectionToLine(t,r,n);s.push(e.x),s.push(e.y)})),s},_prepareToStringify(t){var e;for(var n in t.visitedByCircularReferenceRemoval=!0,t)if(t.hasOwnProperty(n)&&t[n]&&"object"==typeof t[n])if(e=Object.getOwnPropertyDescriptor(t,n),t[n].visitedByCircularReferenceRemoval||_i._isElement(t[n])){if(!e.configurable)return null;delete t[n]}else if(null===_i._prepareToStringify(t[n])){if(!e.configurable)return null;delete t[n]}return delete t.visitedByCircularReferenceRemoval,t},_assign(t,e){for(var n in e)t[n]=e[n];return t},_getFirstPointerId:t=>t.touches?t.changedTouches[0].identifier:999};function xi(t){return _i._isString(t)?'"'+t+'"':"[object Number]"===Object.prototype.toString.call(t)||_i._isBoolean(t)?t:Object.prototype.toString.call(t)}function wi(t){return t>255?255:t<0?0:Math.round(t)}function Si(){if(di.isUnminified)return function(t,e){return _i._isNumber(t)||_i.warn(xi(t)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),t}}function Ci(t){if(di.isUnminified)return function(e,n){let i=_i._isNumber(e),r=_i._isArray(e)&&e.length==t;return i||r||_i.warn(xi(e)+' is a not valid value for "'+n+'" attribute. The value should be a number or Array<number>('+t+")"),e}}function ki(){if(di.isUnminified)return function(t,e){return _i._isNumber(t)||"auto"===t||_i.warn(xi(t)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),t}}function Mi(){if(di.isUnminified)return function(t,e){return _i._isString(t)||_i.warn(xi(t)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),t}}function Ai(){if(di.isUnminified)return function(t,e){const n=_i._isString(t),i="[object CanvasGradient]"===Object.prototype.toString.call(t)||t&&t.addColorStop;return n||i||_i.warn(xi(t)+' is a not valid value for "'+e+'" attribute. The value should be a string or a native gradient.'),t}}function Ti(){if(di.isUnminified)return function(t,e){return!0===t||!1===t||_i.warn(xi(t)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),t}}const Pi={addGetterSetter(t,e,n,i,r){Pi.addGetter(t,e,n),Pi.addSetter(t,e,i,r),Pi.addOverloadedGetterSetter(t,e)},addGetter(t,e,n){var i="get"+_i._capitalize(e);t.prototype[i]=t.prototype[i]||function(){var t=this.attrs[e];return void 0===t?n:t}},addSetter(t,e,n,i){var r="set"+_i._capitalize(e);t.prototype[r]||Pi.overWriteSetter(t,e,n,i)},overWriteSetter(t,e,n,i){var r="set"+_i._capitalize(e);t.prototype[r]=function(t){return n&&null!=t&&(t=n.call(this,t,e)),this._setAttr(e,t),i&&i.call(this),this}},addComponentsGetterSetter(t,e,n,i,r){var a,o,s=n.length,l=_i._capitalize,h="get"+l(e),c="set"+l(e);t.prototype[h]=function(){var t={};for(a=0;a<s;a++)t[o=n[a]]=this.getAttr(e+l(o));return t};var d=function(t){if(di.isUnminified)return function(e,n){return _i.isObject(e)||_i.warn(xi(e)+' is a not valid value for "'+n+'" attribute. The value should be an object with properties '+t),e}}(n);t.prototype[c]=function(t){var n,a=this.attrs[e];for(n in i&&(t=i.call(this,t)),d&&d.call(this,t,e),t)t.hasOwnProperty(n)&&this._setAttr(e+l(n),t[n]);return this._fireChangeEvent(e,a,t),r&&r.call(this),this},Pi.addOverloadedGetterSetter(t,e)},addOverloadedGetterSetter(t,e){var n=_i._capitalize(e),i="set"+n,r="get"+n;t.prototype[e]=function(){return arguments.length?(this[i](arguments[0]),this):this[r]()}},addDeprecatedGetterSetter(t,e,n,i){_i.error("Adding deprecated "+e);var r="get"+_i._capitalize(e),a=e+" property is deprecated and will be removed soon. Look at Konva change log for more information.";t.prototype[r]=function(){_i.error(a);var t=this.attrs[e];return void 0===t?n:t},Pi.addSetter(t,e,i,(function(){_i.error(a)})),Pi.addOverloadedGetterSetter(t,e)},backCompat(t,e){_i.each(e,(function(e,n){var i=t.prototype[n],r="get"+_i._capitalize(e),a="set"+_i._capitalize(e);function o(){i.apply(this,arguments),_i.error('"'+e+'" method is deprecated and will be removed soon. Use ""'+n+'" instead.')}t.prototype[e]=o,t.prototype[r]=o,t.prototype[a]=o}))},afterSetFilter(){this._filterUpToDate=!1}};function Di(t){var e,n,i=[],r=t.length,a=_i;for(e=0;e<r;e++)n=t[e],a._isNumber(n)?n=Math.round(1e3*n)/1e3:a._isString(n)||(n+=""),i.push(n);return i}var Ei=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"];class Oi{constructor(t){this.canvas=t,this._context=t._canvas.getContext("2d"),di.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(t){t.fillEnabled()&&this._fill(t)}_fill(t){}strokeShape(t){t.hasStroke()&&this._stroke(t)}_stroke(t){}fillStrokeShape(t){t.attrs.fillAfterStrokeEnabled?(this.strokeShape(t),this.fillShape(t)):(this.fillShape(t),this.strokeShape(t))}getTrace(t,e){var n,i,r,a,o=this.traceArr,s=o.length,l="";for(n=0;n<s;n++)(r=(i=o[n]).method)?(a=i.args,l+=r,t?l+="()":_i._isArray(a[0])?l+="(["+a.join(",")+"])":(e&&(a=a.map((t=>"number"==typeof t?Math.floor(t):t))),l+="("+a.join(",")+")")):(l+=i.property,t||(l+="="+i.val)),l+=";";return l}clearTrace(){this.traceArr=[]}_trace(t){var e=this.traceArr;e.push(t),e.length>=100&&e.shift()}reset(){var t=this.getCanvas().getPixelRatio();this.setTransform(1*t,0,0,1*t,0,0)}getCanvas(){return this.canvas}clear(t){var e=this.getCanvas();t?this.clearRect(t.x||0,t.y||0,t.width||0,t.height||0):this.clearRect(0,0,e.getWidth()/e.pixelRatio,e.getHeight()/e.pixelRatio)}_applyLineCap(t){var e=t.getLineCap();e&&this.setAttr("lineCap",e)}_applyOpacity(t){var e=t.getAbsoluteOpacity();1!==e&&this.setAttr("globalAlpha",e)}_applyLineJoin(t){var e=t.attrs.lineJoin;e&&this.setAttr("lineJoin",e)}setAttr(t,e){this._context[t]=e}arc(t,e,n,i,r,a){this._context.arc(t,e,n,i,r,a)}arcTo(t,e,n,i,r){this._context.arcTo(t,e,n,i,r)}beginPath(){this._context.beginPath()}bezierCurveTo(t,e,n,i,r,a){this._context.bezierCurveTo(t,e,n,i,r,a)}clearRect(t,e,n,i){this._context.clearRect(t,e,n,i)}clip(){this._context.clip()}closePath(){this._context.closePath()}createImageData(t,e){var n=arguments;return 2===n.length?this._context.createImageData(t,e):1===n.length?this._context.createImageData(t):void 0}createLinearGradient(t,e,n,i){return this._context.createLinearGradient(t,e,n,i)}createPattern(t,e){return this._context.createPattern(t,e)}createRadialGradient(t,e,n,i,r,a){return this._context.createRadialGradient(t,e,n,i,r,a)}drawImage(t,e,n,i,r,a,o,s,l){var h=arguments,c=this._context;3===h.length?c.drawImage(t,e,n):5===h.length?c.drawImage(t,e,n,i,r):9===h.length&&c.drawImage(t,e,n,i,r,a,o,s,l)}ellipse(t,e,n,i,r,a,o,s){this._context.ellipse(t,e,n,i,r,a,o,s)}isPointInPath(t,e){return this._context.isPointInPath(t,e)}fill(t){t?this._context.fill(t):this._context.fill()}fillRect(t,e,n,i){this._context.fillRect(t,e,n,i)}strokeRect(t,e,n,i){this._context.strokeRect(t,e,n,i)}fillText(t,e,n,i){i?this._context.fillText(t,e,n,i):this._context.fillText(t,e,n)}measureText(t){return this._context.measureText(t)}getImageData(t,e,n,i){return this._context.getImageData(t,e,n,i)}lineTo(t,e){this._context.lineTo(t,e)}moveTo(t,e){this._context.moveTo(t,e)}rect(t,e,n,i){this._context.rect(t,e,n,i)}putImageData(t,e,n){this._context.putImageData(t,e,n)}quadraticCurveTo(t,e,n,i){this._context.quadraticCurveTo(t,e,n,i)}restore(){this._context.restore()}rotate(t){this._context.rotate(t)}save(){this._context.save()}scale(t,e){this._context.scale(t,e)}setLineDash(t){this._context.setLineDash?this._context.setLineDash(t):"mozDash"in this._context?this._context.mozDash=t:"webkitLineDash"in this._context&&(this._context.webkitLineDash=t)}getLineDash(){return this._context.getLineDash()}setTransform(t,e,n,i,r,a){this._context.setTransform(t,e,n,i,r,a)}stroke(t){t?this._context.stroke(t):this._context.stroke()}strokeText(t,e,n,i){this._context.strokeText(t,e,n,i)}transform(t,e,n,i,r,a){this._context.transform(t,e,n,i,r,a)}translate(t,e){this._context.translate(t,e)}_enableTrace(){var t,e,n=this,i=Ei.length,r=this.setAttr,a=function(t){var i,r=n[t];n[t]=function(){return e=Di(Array.prototype.slice.call(arguments,0)),i=r.apply(n,arguments),n._trace({method:t,args:e}),i}};for(t=0;t<i;t++)a(Ei[t]);n.setAttr=function(){r.apply(n,arguments);var t=arguments[0],e=arguments[1];"shadowOffsetX"!==t&&"shadowOffsetY"!==t&&"shadowBlur"!==t||(e/=this.canvas.getPixelRatio()),n._trace({property:t,val:e})}}_applyGlobalCompositeOperation(t){const e=t.attrs.globalCompositeOperation;!e||"source-over"===e||this.setAttr("globalCompositeOperation",e)}}["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"].forEach((function(t){Object.defineProperty(Oi.prototype,t,{get(){return this._context[t]},set(e){this._context[t]=e}})}));class Li extends Oi{_fillColor(t){var e=t.fill();this.setAttr("fillStyle",e),t._fillFunc(this)}_fillPattern(t){this.setAttr("fillStyle",t._getFillPattern()),t._fillFunc(this)}_fillLinearGradient(t){var e=t._getLinearGradient();e&&(this.setAttr("fillStyle",e),t._fillFunc(this))}_fillRadialGradient(t){var e=t._getRadialGradient();e&&(this.setAttr("fillStyle",e),t._fillFunc(this))}_fill(t){var e=t.fill(),n=t.getFillPriority();if(e&&"color"===n)this._fillColor(t);else{var i=t.getFillPatternImage();if(i&&"pattern"===n)this._fillPattern(t);else{var r=t.getFillLinearGradientColorStops();if(r&&"linear-gradient"===n)this._fillLinearGradient(t);else{var a=t.getFillRadialGradientColorStops();a&&"radial-gradient"===n?this._fillRadialGradient(t):e?this._fillColor(t):i?this._fillPattern(t):r?this._fillLinearGradient(t):a&&this._fillRadialGradient(t)}}}}_strokeLinearGradient(t){var e=t.getStrokeLinearGradientStartPoint(),n=t.getStrokeLinearGradientEndPoint(),i=t.getStrokeLinearGradientColorStops(),r=this.createLinearGradient(e.x,e.y,n.x,n.y);if(i){for(var a=0;a<i.length;a+=2)r.addColorStop(i[a],i[a+1]);this.setAttr("strokeStyle",r)}}_stroke(t){var e=t.dash(),n=t.getStrokeScaleEnabled();if(t.hasStroke()){if(!n){this.save();var i=this.getCanvas().getPixelRatio();this.setTransform(i,0,0,i,0,0)}this._applyLineCap(t),e&&t.dashEnabled()&&(this.setLineDash(e),this.setAttr("lineDashOffset",t.dashOffset())),this.setAttr("lineWidth",t.strokeWidth()),t.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),t.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(t):this.setAttr("strokeStyle",t.stroke()),t._strokeFunc(this),n||this.restore()}}_applyShadow(t){var e,n,i,r=null!==(e=t.getShadowRGBA())&&void 0!==e?e:"black",a=null!==(n=t.getShadowBlur())&&void 0!==n?n:5,o=null!==(i=t.getShadowOffset())&&void 0!==i?i:{x:0,y:0},s=t.getAbsoluteScale(),l=this.canvas.getPixelRatio(),h=s.x*l,c=s.y*l;this.setAttr("shadowColor",r),this.setAttr("shadowBlur",a*Math.min(Math.abs(h),Math.abs(c))),this.setAttr("shadowOffsetX",o.x*h),this.setAttr("shadowOffsetY",o.y*c)}}class $i extends Oi{_fill(t){this.save(),this.setAttr("fillStyle",t.colorKey),t._fillFuncHit(this),this.restore()}strokeShape(t){t.hasHitStroke()&&this._stroke(t)}_stroke(t){if(t.hasHitStroke()){var e=t.getStrokeScaleEnabled();if(!e){this.save();var n=this.getCanvas().getPixelRatio();this.setTransform(n,0,0,n,0,0)}this._applyLineCap(t);var i=t.hitStrokeWidth(),r="auto"===i?t.strokeWidth():i;this.setAttr("lineWidth",r),this.setAttr("strokeStyle",t.colorKey),t._strokeFuncHit(this),e||this.restore()}}}var Ii;class Ri{constructor(t){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;var e=(t||{}).pixelRatio||di.pixelRatio||function(){if(Ii)return Ii;var t=_i.createCanvasElement().getContext("2d");return Ii=(di._global.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)}();this.pixelRatio=e,this._canvas=_i.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(t){var e=this.pixelRatio;this.pixelRatio=t,this.setSize(this.getWidth()/e,this.getHeight()/e)}setWidth(t){this.width=this._canvas.width=t*this.pixelRatio,this._canvas.style.width=t+"px";var e=this.pixelRatio;this.getContext()._context.scale(e,e)}setHeight(t){this.height=this._canvas.height=t*this.pixelRatio,this._canvas.style.height=t+"px";var e=this.pixelRatio;this.getContext()._context.scale(e,e)}getWidth(){return this.width}getHeight(){return this.height}setSize(t,e){this.setWidth(t||0),this.setHeight(e||0)}toDataURL(t,e){try{return this._canvas.toDataURL(t,e)}catch(n){try{return this._canvas.toDataURL()}catch(i){return _i.error("Unable to get data URL. "+i.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}Pi.addGetterSetter(Ri,"pixelRatio",void 0,Si());class Ni extends Ri{constructor(t={width:0,height:0}){super(t),this.context=new Li(this),this.setSize(t.width,t.height)}}class Fi extends Ri{constructor(t={width:0,height:0}){super(t),this.hitCanvas=!0,this.context=new $i(this),this.setSize(t.width,t.height)}}const Gi={get isDragging(){var t=!1;return Gi._dragElements.forEach((e=>{"dragging"===e.dragStatus&&(t=!0)})),t},justDragged:!1,get node(){var t;return Gi._dragElements.forEach((e=>{t=e.node})),t},_dragElements:new Map,_drag(t){const e=[];Gi._dragElements.forEach(((n,i)=>{const{node:r}=n,a=r.getStage();a.setPointersPositions(t),void 0===n.pointerId&&(n.pointerId=_i._getFirstPointerId(t));const o=a._changedPointerPositions.find((t=>t.id===n.pointerId));if(o){if("dragging"!==n.dragStatus){var s=r.dragDistance();if(Math.max(Math.abs(o.x-n.startPointerPos.x),Math.abs(o.y-n.startPointerPos.y))<s)return;if(r.startDrag({evt:t}),!r.isDragging())return}r._setDragPosition(t,n),e.push(r)}})),e.forEach((e=>{e.fire("dragmove",{type:"dragmove",target:e,evt:t},!0)}))},_endDragBefore(t){Gi._dragElements.forEach((e=>{const{node:n}=e,i=n.getStage();t&&i.setPointersPositions(t);if(!i._changedPointerPositions.find((t=>t.id===e.pointerId)))return;"dragging"!==e.dragStatus&&"stopped"!==e.dragStatus||(Gi.justDragged=!0,di._mouseListenClick=!1,di._touchListenClick=!1,di._pointerListenClick=!1,e.dragStatus="stopped");const r=e.node.getLayer()||e.node instanceof di.Stage&&e.node;r&&r.batchDraw()}))},_endDragAfter(t){Gi._dragElements.forEach(((e,n)=>{"stopped"===e.dragStatus&&e.node.fire("dragend",{type:"dragend",target:e.node,evt:t},!0),"dragging"!==e.dragStatus&&Gi._dragElements.delete(n)}))}};di.isBrowser&&(window.addEventListener("mouseup",Gi._endDragBefore,!0),window.addEventListener("touchend",Gi._endDragBefore,!0),window.addEventListener("mousemove",Gi._drag),window.addEventListener("touchmove",Gi._drag),window.addEventListener("mouseup",Gi._endDragAfter,!1),window.addEventListener("touchend",Gi._endDragAfter,!1));var ji=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(" ");let Bi=1;class Hi{constructor(t){this._id=Bi++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(t),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(t){"transform"!==t&&"absoluteTransform"!==t||!this._cache.get(t)?t?this._cache.delete(t):this._cache.clear():this._cache.get(t).dirty=!0}_getCache(t,e){var n=this._cache.get(t);return(void 0===n||("transform"===t||"absoluteTransform"===t)&&!0===n.dirty)&&(n=e.call(this),this._cache.set(t,n)),n}_calculate(t,e,n){if(!this._attachedDepsListeners.get(t)){const n=e.map((t=>t+"Change.konva")).join(" ");this.on(n,(()=>{this._clearCache(t)})),this._attachedDepsListeners.set(t,!0)}return this._getCache(t,n)}_getCanvasCache(){return this._cache.get("canvas")}_clearSelfAndDescendantCache(t){this._clearCache(t),"absoluteTransform"===t&&this.fire("absoluteTransformChange")}clearCache(){return this._cache.delete("canvas"),this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(t){var e=t||{},n={};void 0!==e.x&&void 0!==e.y&&void 0!==e.width&&void 0!==e.height||(n=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()}));var i=Math.ceil(e.width||n.width),r=Math.ceil(e.height||n.height),a=e.pixelRatio,o=void 0===e.x?n.x:e.x,s=void 0===e.y?n.y:e.y,l=e.offset||0,h=e.drawBorder||!1,c=e.hitCanvasPixelRatio||1;if(i&&r){o-=l,s-=l;var d=new Ni({pixelRatio:a,width:i+=2*l,height:r+=2*l}),u=new Ni({pixelRatio:a,width:0,height:0}),f=new Fi({pixelRatio:c,width:i,height:r}),p=d.getContext(),g=f.getContext();return f.isCache=!0,d.isCache=!0,this._cache.delete("canvas"),this._filterUpToDate=!1,!1===e.imageSmoothingEnabled&&(d.getContext()._context.imageSmoothingEnabled=!1,u.getContext()._context.imageSmoothingEnabled=!1),p.save(),g.save(),p.translate(-o,-s),g.translate(-o,-s),this._isUnderCache=!0,this._clearSelfAndDescendantCache("absoluteOpacity"),this._clearSelfAndDescendantCache("absoluteScale"),this.drawScene(d,this),this.drawHit(f,this),this._isUnderCache=!1,p.restore(),g.restore(),h&&(p.save(),p.beginPath(),p.rect(0,0,i,r),p.closePath(),p.setAttr("strokeStyle","red"),p.setAttr("lineWidth",5),p.stroke(),p.restore()),this._cache.set("canvas",{scene:d,filter:u,hit:f,x:o,y:s}),this._requestDraw(),this}_i.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.")}isCached(){return this._cache.has("canvas")}getClientRect(t){throw new Error('abstract "getClientRect" method call')}_transformedRect(t,e){var n,i,r,a,o=[{x:t.x,y:t.y},{x:t.x+t.width,y:t.y},{x:t.x+t.width,y:t.y+t.height},{x:t.x,y:t.y+t.height}],s=this.getAbsoluteTransform(e);return o.forEach((function(t){var e=s.point(t);void 0===n&&(n=r=e.x,i=a=e.y),n=Math.min(n,e.x),i=Math.min(i,e.y),r=Math.max(r,e.x),a=Math.max(a,e.y)})),{x:n,y:i,width:r-n,height:a-i}}_drawCachedSceneCanvas(t){t.save(),t._applyOpacity(this),t._applyGlobalCompositeOperation(this);const e=this._getCanvasCache();t.translate(e.x,e.y);var n=this._getCachedSceneCanvas(),i=n.pixelRatio;t.drawImage(n._canvas,0,0,n.width/i,n.height/i),t.restore()}_drawCachedHitCanvas(t){var e=this._getCanvasCache(),n=e.hit;t.save(),t.translate(e.x,e.y),t.drawImage(n._canvas,0,0,n.width/n.pixelRatio,n.height/n.pixelRatio),t.restore()}_getCachedSceneCanvas(){var t,e,n,i,r=this.filters(),a=this._getCanvasCache(),o=a.scene,s=a.filter,l=s.getContext();if(r){if(!this._filterUpToDate){var h=o.pixelRatio;s.setSize(o.width/o.pixelRatio,o.height/o.pixelRatio);try{for(t=r.length,l.clear(),l.drawImage(o._canvas,0,0,o.getWidth()/h,o.getHeight()/h),e=l.getImageData(0,0,s.getWidth(),s.getHeight()),n=0;n<t;n++)"function"==typeof(i=r[n])?(i.call(this,e),l.putImageData(e,0,0)):_i.error("Filter should be type of function, but got "+typeof i+" instead. Please check correct filters")}catch(c){_i.error("Unable to apply filter. "+c.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return s}return o}on(t,e){if(this._cache&&this._cache.delete("allEventListeners"),3===arguments.length)return this._delegate.apply(this,arguments);var n,i,r,a,o=t.split(" "),s=o.length;for(n=0;n<s;n++)r=(i=o[n].split("."))[0],a=i[1]||"",this.eventListeners[r]||(this.eventListeners[r]=[]),this.eventListeners[r].push({name:a,handler:e});return this}off(t,e){var n,i,r,a,o,s=(t||"").split(" "),l=s.length;if(this._cache&&this._cache.delete("allEventListeners"),!t)for(i in this.eventListeners)this._off(i);for(n=0;n<l;n++)if(a=(r=s[n].split("."))[0],o=r[1],a)this.eventListeners[a]&&this._off(a,o,e);else for(i in this.eventListeners)this._off(i,o,e);return this}dispatchEvent(t){var e={target:this,type:t.type,evt:t};return this.fire(t.type,e),this}addEventListener(t,e){return this.on(t,(function(t){e.call(this,t.evt)})),this}removeEventListener(t){return this.off(t),this}_delegate(t,e,n){var i=this;this.on(t,(function(t){for(var r=t.target.findAncestors(e,!0,i),a=0;a<r.length;a++)(t=_i.cloneObject(t)).currentTarget=r[a],n.call(r[a],t)}))}remove(){return this.isDragging()&&this.stopDrag(),Gi._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache("absoluteTransform"),this._clearSelfAndDescendantCache("absoluteOpacity"),this._clearSelfAndDescendantCache("absoluteScale"),this._clearSelfAndDescendantCache("stage"),this._clearSelfAndDescendantCache("visible"),this._clearSelfAndDescendantCache("listening")}_remove(){this._clearCaches();var t=this.getParent();t&&t.children&&(t.children.splice(this.index,1),t._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this}getAttr(t){var e="get"+_i._capitalize(t);return _i._isFunction(this[e])?this[e]():this.attrs[t]}getAncestors(){for(var t=this.getParent(),e=[];t;)e.push(t),t=t.getParent();return e}getAttrs(){return this.attrs||{}}setAttrs(t){return this._batchTransformChanges((()=>{var e,n;if(!t)return this;for(e in t)"children"!==e&&(n="set"+_i._capitalize(e),_i._isFunction(this[n])?this[n](t[e]):this._setAttr(e,t[e]))})),this}isListening(){return this._getCache("listening",this._isListening)}_isListening(t){if(!this.listening())return!1;const e=this.getParent();return!e||e===t||this===t||e._isListening(t)}isVisible(){return this._getCache("visible",this._isVisible)}_isVisible(t){if(!this.visible())return!1;const e=this.getParent();return!e||e===t||this===t||e._isVisible(t)}shouldDrawHit(t,e=!1){if(t)return this._isVisible(t)&&this._isListening(t);var n=this.getLayer(),i=!1;Gi._dragElements.forEach((t=>{"dragging"===t.dragStatus&&("Stage"===t.node.nodeType||t.node.getLayer()===n)&&(i=!0)}));var r=!e&&!di.hitOnDragEnabled&&i;return this.isListening()&&this.isVisible()&&!r}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){var t,e,n,i,r=this.getDepth(),a=this,o=0;return"Stage"!==a.nodeType&&function s(l){for(t=[],e=l.length,n=0;n<e;n++)i=l[n],o++,"Shape"!==i.nodeType&&(t=t.concat(i.getChildren().slice())),i._id===a._id&&(n=e);t.length>0&&t[0].getDepth()<=r&&s(t)}(a.getStage().getChildren()),o}getDepth(){for(var t=0,e=this.parent;e;)t++,e=e.parent;return t}_batchTransformChanges(t){this._batchingTransformChange=!0,t(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")),this._needClearTransformCache=!1}setPosition(t){return this._batchTransformChanges((()=>{this.x(t.x),this.y(t.y)})),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){if(!this.getStage())return null;var t=this.getStage().getPointerPosition();if(!t)return null;var e=this.getAbsoluteTransform().copy();return e.invert(),e.point(t)}getAbsolutePosition(t){let e=!1,n=this.parent;for(;n;){if(n.isCached()){e=!0;break}n=n.parent}e&&!t&&(t=!0);var i=this.getAbsoluteTransform(t).getMatrix(),r=new fi,a=this.offset();return r.m=i.slice(),r.translate(a.x,a.y),r.getTranslation()}setAbsolutePosition(t){var e=this._clearTransform();this.attrs.x=e.x,this.attrs.y=e.y,delete e.x,delete e.y,this._clearCache("transform");var n=this._getAbsoluteTransform().copy();return n.invert(),n.translate(t.x,t.y),t={x:this.attrs.x+n.getTranslation().x,y:this.attrs.y+n.getTranslation().y},this._setTransform(e),this.setPosition({x:t.x,y:t.y}),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform"),this}_setTransform(t){var e;for(e in t)this.attrs[e]=t[e]}_clearTransform(){var t={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,t}move(t){var e=t.x,n=t.y,i=this.x(),r=this.y();return void 0!==e&&(i+=e),void 0!==n&&(r+=n),this.setPosition({x:i,y:r}),this}_eachAncestorReverse(t,e){var n,i,r=[],a=this.getParent();if(!e||e._id!==this._id){for(r.unshift(this);a&&(!e||a._id!==e._id);)r.unshift(a),a=a.parent;for(n=r.length,i=0;i<n;i++)t(r[i])}}rotate(t){return this.rotation(this.rotation()+t),this}moveToTop(){if(!this.parent)return _i.warn("Node has no parent. moveToTop function is ignored."),!1;var t=this.index;return this.parent.children.splice(t,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0}moveUp(){if(!this.parent)return _i.warn("Node has no parent. moveUp function is ignored."),!1;var t=this.index;return t<this.parent.getChildren().length-1&&(this.parent.children.splice(t,1),this.parent.children.splice(t+1,0,this),this.parent._setChildrenIndices(),!0)}moveDown(){if(!this.parent)return _i.warn("Node has no parent. moveDown function is ignored."),!1;var t=this.index;return t>0&&(this.parent.children.splice(t,1),this.parent.children.splice(t-1,0,this),this.parent._setChildrenIndices(),!0)}moveToBottom(){if(!this.parent)return _i.warn("Node has no parent. moveToBottom function is ignored."),!1;var t=this.index;return t>0&&(this.parent.children.splice(t,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0)}setZIndex(t){if(!this.parent)return _i.warn("Node has no parent. zIndex parameter is ignored."),this;(t<0||t>=this.parent.children.length)&&_i.warn("Unexpected value "+t+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");var e=this.index;return this.parent.children.splice(e,1),this.parent.children.splice(t,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache("absoluteOpacity",this._getAbsoluteOpacity)}_getAbsoluteOpacity(){var t=this.opacity(),e=this.getParent();return e&&!e._isUnderCache&&(t*=e.getAbsoluteOpacity()),t}moveTo(t){return this.getParent()!==t&&(this._remove(),t.add(this)),this}toObject(){var t,e,n,i,r={},a=this.getAttrs();for(t in r.attrs={},a)e=a[t],_i.isObject(e)&&!_i._isPlainObject(e)&&!_i._isArray(e)||(n="function"==typeof this[t]&&this[t],delete a[t],i=n?n.call(this):null,a[t]=e,i!==e&&(r.attrs[t]=e));return r.className=this.getClassName(),_i._prepareToStringify(r)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(t,e,n){var i=[];e&&this._isMatch(t)&&i.push(this);for(var r=this.parent;r;){if(r===n)return i;r._isMatch(t)&&i.push(r),r=r.parent}return i}isAncestorOf(t){return!1}findAncestor(t,e,n){return this.findAncestors(t,e,n)[0]}_isMatch(t){if(!t)return!1;if("function"==typeof t)return t(this);var e,n,i=t.replace(/ /g,"").split(","),r=i.length;for(e=0;e<r;e++)if(n=i[e],_i.isValidSelector(n)||(_i.warn('Selector "'+n+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),_i.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),_i.warn("Konva is awesome, right?")),"#"===n.charAt(0)){if(this.id()===n.slice(1))return!0}else if("."===n.charAt(0)){if(this.hasName(n.slice(1)))return!0}else if(this.className===n||this.nodeType===n)return!0;return!1}getLayer(){var t=this.getParent();return t?t.getLayer():null}getStage(){return this._getCache("stage",this._getStage)}_getStage(){var t=this.getParent();return t?t.getStage():void 0}fire(t,e={},n){return e.target=e.target||this,n?this._fireAndBubble(t,e):this._fire(t,e),this}getAbsoluteTransform(t){return t?this._getAbsoluteTransform(t):this._getCache("absoluteTransform",this._getAbsoluteTransform)}_getAbsoluteTransform(t){var e;if(t)return e=new fi,this._eachAncestorReverse((function(t){var n=t.transformsEnabled();"all"===n?e.multiply(t.getTransform()):"position"===n&&e.translate(t.x()-t.offsetX(),t.y()-t.offsetY())}),t),e;e=this._cache.get("absoluteTransform")||new fi,this.parent?this.parent.getAbsoluteTransform().copyInto(e):e.reset();var n=this.transformsEnabled();if("all"===n)e.multiply(this.getTransform());else if("position"===n){const t=this.attrs.x||0,n=this.attrs.y||0,i=this.attrs.offsetX||0,r=this.attrs.offsetY||0;e.translate(t-i,n-r)}return e.dirty=!1,e}getAbsoluteScale(t){for(var e=this;e;)e._isUnderCache&&(t=e),e=e.getParent();const n=this.getAbsoluteTransform(t).decompose();return{x:n.scaleX,y:n.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache("transform",this._getTransform)}_getTransform(){var t,e,n=this._cache.get("transform")||new fi;n.reset();var i=this.x(),r=this.y(),a=di.getAngle(this.rotation()),o=null!==(t=this.attrs.scaleX)&&void 0!==t?t:1,s=null!==(e=this.attrs.scaleY)&&void 0!==e?e:1,l=this.attrs.skewX||0,h=this.attrs.skewY||0,c=this.attrs.offsetX||0,d=this.attrs.offsetY||0;return 0===i&&0===r||n.translate(i,r),0!==a&&n.rotate(a),0===l&&0===h||n.skew(l,h),1===o&&1===s||n.scale(o,s),0===c&&0===d||n.translate(-1*c,-1*d),n.dirty=!1,n}clone(t){var e,n,i,r,a,o=_i.cloneObject(this.attrs);for(e in t)o[e]=t[e];var s=new this.constructor(o);for(e in this.eventListeners)for(i=(n=this.eventListeners[e]).length,r=0;r<i;r++)(a=n[r]).name.indexOf("konva")<0&&(s.eventListeners[e]||(s.eventListeners[e]=[]),s.eventListeners[e].push(a));return s}_toKonvaCanvas(t){t=t||{};var e=this.getClientRect(),n=this.getStage(),i=void 0!==t.x?t.x:e.x,r=void 0!==t.y?t.y:e.y,a=t.pixelRatio||1,o=new Ni({width:t.width||e.width||(n?n.width():0),height:t.height||e.height||(n?n.height():0),pixelRatio:a}),s=o.getContext();return s.save(),(i||r)&&s.translate(-1*i,-1*r),this.drawScene(o),s.restore(),o}toCanvas(t){return this._toKonvaCanvas(t)._canvas}toDataURL(t){var e=(t=t||{}).mimeType||null,n=t.quality||null,i=this._toKonvaCanvas(t).toDataURL(e,n);return t.callback&&t.callback(i),i}toImage(t){if(!t||!t.callback)throw"callback required for toImage method config argument";var e=t.callback;delete t.callback,_i._urlToImage(this.toDataURL(t),(function(t){e(t)}))}setSize(t){return this.width(t.width),this.height(t.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return void 0!==this.attrs.dragDistance?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():di.dragDistance}_off(t,e,n){var i,r,a,o=this.eventListeners[t];for(i=0;i<o.length;i++)if(r=o[i].name,a=o[i].handler,!("konva"===r&&"konva"!==e||e&&r!==e||n&&n!==a)){if(o.splice(i,1),0===o.length){delete this.eventListeners[t];break}i--}}_fireChangeEvent(t,e,n){this._fire(t+"Change",{oldVal:e,newVal:n})}addName(t){if(!this.hasName(t)){var e=this.name(),n=e?e+" "+t:t;this.name(n)}return this}hasName(t){if(!t)return!1;const e=this.name();return!!e&&-1!==(e||"").split(/\s/g).indexOf(t)}removeName(t){var e=(this.name()||"").split(/\s/g),n=e.indexOf(t);return-1!==n&&(e.splice(n,1),this.name(e.join(" "))),this}setAttr(t,e){var n=this["set"+_i._capitalize(t)];return _i._isFunction(n)?n.call(this,e):this._setAttr(t,e),this}_requestDraw(){if(di.autoDrawEnabled){const t=this.getLayer()||this.getStage();null==t||t.batchDraw()}}_setAttr(t,e){var n=this.attrs[t];(n!==e||_i.isObject(e))&&(null==e?delete this.attrs[t]:this.attrs[t]=e,this._shouldFireChangeEvents&&this._fireChangeEvent(t,n,e),this._requestDraw())}_setComponentAttr(t,e,n){var i;void 0!==n&&((i=this.attrs[t])||(this.attrs[t]=this.getAttr(t)),this.attrs[t][e]=n,this._fireChangeEvent(t,i,n))}_fireAndBubble(t,e,n){if(e&&"Shape"===this.nodeType&&(e.target=this),!(("mouseenter"===t||"mouseleave"===t)&&(n&&(this===n||this.isAncestorOf&&this.isAncestorOf(n))||"Stage"===this.nodeType&&!n))){this._fire(t,e);var i=("mouseenter"===t||"mouseleave"===t)&&n&&n.isAncestorOf&&n.isAncestorOf(this)&&!n.isAncestorOf(this.parent);(e&&!e.cancelBubble||!e)&&this.parent&&this.parent.isListening()&&!i&&(n&&n.parent?this._fireAndBubble.call(this.parent,t,e,n):this._fireAndBubble.call(this.parent,t,e))}}_getProtoListeners(t){let e=this._cache.get("allEventListeners");if(!e){e={};let t=Object.getPrototypeOf(this);for(;t;)if(t.eventListeners){for(var n in t.eventListeners){const i=t.eventListeners[n],r=e[n]||[];e[n]=i.concat(r)}t=Object.getPrototypeOf(t)}else t=Object.getPrototypeOf(t);this._cache.set("allEventListeners",e)}return e[t]}_fire(t,e){(e=e||{}).currentTarget=this,e.type=t;const n=this._getProtoListeners(t);if(n)for(var i=0;i<n.length;i++)n[i].handler.call(this,e);const r=this.eventListeners[t];if(r)for(i=0;i<r.length;i++)r[i].handler.call(this,e)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(t){var e=t?t.pointerId:void 0,n=this.getStage(),i=this.getAbsolutePosition(),r=n._getPointerById(e)||n._changedPointerPositions[0]||i;Gi._dragElements.set(this._id,{node:this,startPointerPos:r,offset:{x:r.x-i.x,y:r.y-i.y},dragStatus:"ready",pointerId:e})}startDrag(t,e=!0){Gi._dragElements.has(this._id)||this._createDragElement(t);Gi._dragElements.get(this._id).dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:t&&t.evt},e)}_setDragPosition(t,e){const n=this.getStage()._getPointerById(e.pointerId);if(n){var i={x:n.x-e.offset.x,y:n.y-e.offset.y},r=this.dragBoundFunc();if(void 0!==r){const e=r.call(this,i,t);e?i=e:_i.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}this._lastPos&&this._lastPos.x===i.x&&this._lastPos.y===i.y||(this.setAbsolutePosition(i),this._requestDraw()),this._lastPos=i}}stopDrag(t){const e=Gi._dragElements.get(this._id);e&&(e.dragStatus="stopped"),Gi._endDragBefore(t),Gi._endDragAfter(t)}setDraggable(t){this._setAttr("draggable",t),this._dragChange()}isDragging(){const t=Gi._dragElements.get(this._id);return!!t&&"dragging"===t.dragStatus}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",(function(t){if((!(void 0!==t.evt.button)||di.dragButtons.indexOf(t.evt.button)>=0)&&!this.isDragging()){var e=!1;Gi._dragElements.forEach((t=>{this.isAncestorOf(t.node)&&(e=!0)})),e||this._createDragElement(t)}}))}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const t=Gi._dragElements.get(this._id),e=t&&"dragging"===t.dragStatus,n=t&&"ready"===t.dragStatus;e?this.stopDrag():n&&Gi._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(t={x:0,y:0}){const e=this.getStage();if(!e)return!1;const n={x:-t.x,y:-t.y,width:e.width()+t.x,height:e.height()+t.y};return _i.haveIntersection(n,this.getClientRect())}static create(t,e){return _i._isString(t)&&(t=JSON.parse(t)),this._createNode(t,e)}static _createNode(t,e){var n,i,r,a=Hi.prototype.getClassName.call(t),o=t.children;e&&(t.attrs.container=e),di[a]||(_i.warn('Can not find a node with class name "'+a+'". Fallback to "Shape".'),a="Shape");if(n=new(0,di[a])(t.attrs),o)for(i=o.length,r=0;r<i;r++)n.add(Hi._createNode(o[r]));return n}}Hi.prototype.nodeType="Node",Hi.prototype._attrsAffectingSize=[],Hi.prototype.eventListeners={},Hi.prototype.on.call(Hi.prototype,ji,(function(){this._batchingTransformChange?this._needClearTransformCache=!0:(this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform"))})),Hi.prototype.on.call(Hi.prototype,"visibleChange.konva",(function(){this._clearSelfAndDescendantCache("visible")})),Hi.prototype.on.call(Hi.prototype,"listeningChange.konva",(function(){this._clearSelfAndDescendantCache("listening")})),Hi.prototype.on.call(Hi.prototype,"opacityChange.konva",(function(){this._clearSelfAndDescendantCache("absoluteOpacity")}));const Yi=Pi.addGetterSetter;Yi(Hi,"zIndex"),Yi(Hi,"absolutePosition"),Yi(Hi,"position"),Yi(Hi,"x",0,Si()),Yi(Hi,"y",0,Si()),Yi(Hi,"globalCompositeOperation","source-over",Mi()),Yi(Hi,"opacity",1,Si()),Yi(Hi,"name","",Mi()),Yi(Hi,"id","",Mi()),Yi(Hi,"rotation",0,Si()),Pi.addComponentsGetterSetter(Hi,"scale",["x","y"]),Yi(Hi,"scaleX",1,Si()),Yi(Hi,"scaleY",1,Si()),Pi.addComponentsGetterSetter(Hi,"skew",["x","y"]),Yi(Hi,"skewX",0,Si()),Yi(Hi,"skewY",0,Si()),Pi.addComponentsGetterSetter(Hi,"offset",["x","y"]),Yi(Hi,"offsetX",0,Si()),Yi(Hi,"offsetY",0,Si()),Yi(Hi,"dragDistance",null,Si()),Yi(Hi,"width",0,Si()),Yi(Hi,"height",0,Si()),Yi(Hi,"listening",!0,Ti()),Yi(Hi,"preventDefault",!0,Ti()),Yi(Hi,"filters",null,(function(t){return this._filterUpToDate=!1,t})),Yi(Hi,"visible",!0,Ti()),Yi(Hi,"transformsEnabled","all",Mi()),Yi(Hi,"size"),Yi(Hi,"dragBoundFunc"),Yi(Hi,"draggable",!1,Ti()),Pi.backCompat(Hi,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});class zi extends Hi{constructor(){super(...arguments),this.children=[]}getChildren(t){if(!t)return this.children||[];const e=this.children||[];var n=[];return e.forEach((function(e){t(e)&&n.push(e)})),n}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach((t=>{t.parent=null,t.index=0,t.remove()})),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach((t=>{t.parent=null,t.index=0,t.destroy()})),this.children=[],this._requestDraw(),this}add(...t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.add(arguments[e]);return this}var n=t[0];return n.getParent()?(n.moveTo(this),this):(this._validateAdd(n),n.index=this.getChildren().length,n.parent=this,n._clearCaches(),this.getChildren().push(n),this._fire("add",{child:n}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(t){return this._generalFind(t,!1)}findOne(t){var e=this._generalFind(t,!0);return e.length>0?e[0]:void 0}_generalFind(t,e){var n=[];return this._descendants((i=>{const r=i._isMatch(t);return r&&n.push(i),!(!r||!e)})),n}_descendants(t){let e=!1;const n=this.getChildren();for(const i of n){if(e=t(i),e)return!0;if(i.hasChildren()&&(e=i._descendants(t),e))return!0}return!1}toObject(){var t=Hi.prototype.toObject.call(this);return t.children=[],this.getChildren().forEach((e=>{t.children.push(e.toObject())})),t}isAncestorOf(t){for(var e=t.getParent();e;){if(e._id===this._id)return!0;e=e.getParent()}return!1}clone(t){var e=Hi.prototype.clone.call(this,t);return this.getChildren().forEach((function(t){e.add(t.clone())})),e}getAllIntersections(t){var e=[];return this.find("Shape").forEach((function(n){n.isVisible()&&n.intersects(t)&&e.push(n)})),e}_clearSelfAndDescendantCache(t){var e;super._clearSelfAndDescendantCache(t),this.isCached()||null===(e=this.children)||void 0===e||e.forEach((function(e){e._clearSelfAndDescendantCache(t)}))}_setChildrenIndices(){var t;null===(t=this.children)||void 0===t||t.forEach((function(t,e){t.index=e})),this._requestDraw()}drawScene(t,e){var n=this.getLayer(),i=t||n&&n.getCanvas(),r=i&&i.getContext(),a=this._getCanvasCache(),o=a&&a.scene,s=i&&i.isCache;if(!this.isVisible()&&!s)return this;if(o){r.save();var l=this.getAbsoluteTransform(e).getMatrix();r.transform(l[0],l[1],l[2],l[3],l[4],l[5]),this._drawCachedSceneCanvas(r),r.restore()}else this._drawChildren("drawScene",i,e);return this}drawHit(t,e){if(!this.shouldDrawHit(e))return this;var n=this.getLayer(),i=t||n&&n.hitCanvas,r=i&&i.getContext(),a=this._getCanvasCache();if(a&&a.hit){r.save();var o=this.getAbsoluteTransform(e).getMatrix();r.transform(o[0],o[1],o[2],o[3],o[4],o[5]),this._drawCachedHitCanvas(r),r.restore()}else this._drawChildren("drawHit",i,e);return this}_drawChildren(t,e,n){var i,r=e&&e.getContext(),a=this.clipWidth(),o=this.clipHeight(),s=this.clipFunc(),l=a&&o||s;const h=n===this;if(l){r.save();var c=this.getAbsoluteTransform(n),d=c.getMatrix();if(r.transform(d[0],d[1],d[2],d[3],d[4],d[5]),r.beginPath(),s)s.call(this,r,this);else{var u=this.clipX(),f=this.clipY();r.rect(u,f,a,o)}r.clip(),d=c.copy().invert().getMatrix(),r.transform(d[0],d[1],d[2],d[3],d[4],d[5])}var p=!h&&"source-over"!==this.globalCompositeOperation()&&"drawScene"===t;p&&(r.save(),r._applyGlobalCompositeOperation(this)),null===(i=this.children)||void 0===i||i.forEach((function(i){i[t](e,n)})),p&&r.restore(),l&&r.restore()}getClientRect(t){var e,n,i,r,a,o=(t=t||{}).skipTransform,s=t.relativeTo,l={x:1/0,y:1/0,width:0,height:0},h=this;null===(e=this.children)||void 0===e||e.forEach((function(e){if(e.visible()){var o=e.getClientRect({relativeTo:h,skipShadow:t.skipShadow,skipStroke:t.skipStroke});0===o.width&&0===o.height||(void 0===n?(n=o.x,i=o.y,r=o.x+o.width,a=o.y+o.height):(n=Math.min(n,o.x),i=Math.min(i,o.y),r=Math.max(r,o.x+o.width),a=Math.max(a,o.y+o.height)))}}));for(var c=this.find("Shape"),d=!1,u=0;u<c.length;u++){if(c[u]._isVisible(this)){d=!0;break}}return l=d&&void 0!==n?{x:n,y:i,width:r-n,height:a-i}:{x:0,y:0,width:0,height:0},o?l:this._transformedRect(l,s)}}Pi.addComponentsGetterSetter(zi,"clip",["x","y","width","height"]),Pi.addGetterSetter(zi,"clipX",void 0,Si()),Pi.addGetterSetter(zi,"clipY",void 0,Si()),Pi.addGetterSetter(zi,"clipWidth",void 0,Si()),Pi.addGetterSetter(zi,"clipHeight",void 0,Si()),Pi.addGetterSetter(zi,"clipFunc");const Wi=new Map,Ui=void 0!==di._global.PointerEvent;function qi(t){return Wi.get(t)}function Xi(t){return{evt:t,pointerId:t.pointerId}}function Vi(t,e){return Wi.get(t)===e}function Ki(t,e){Ji(t);e.getStage()&&(Wi.set(t,e),Ui&&e._fire("gotpointercapture",Xi(new PointerEvent("gotpointercapture"))))}function Ji(t,e){const n=Wi.get(t);if(!n)return;const i=n.getStage();i&&i.content,Wi.delete(t),Ui&&n._fire("lostpointercapture",Xi(new PointerEvent("lostpointercapture")))}var Qi=[["mouseenter","_pointerenter"],["mousedown","_pointerdown"],["mousemove","_pointermove"],["mouseup","_pointerup"],["mouseleave","_pointerleave"],["touchstart","_pointerdown"],["touchmove","_pointermove"],["touchend","_pointerup"],["touchcancel","_pointercancel"],["mouseover","_pointerover"],["wheel","_wheel"],["contextmenu","_contextmenu"],["pointerdown","_pointerdown"],["pointermove","_pointermove"],["pointerup","_pointerup"],["pointercancel","_pointercancel"],["lostpointercapture","_lostpointercapture"]];const Zi={mouse:{pointerout:"mouseout",pointerleave:"mouseleave",pointerover:"mouseover",pointerenter:"mouseenter",pointermove:"mousemove",pointerdown:"mousedown",pointerup:"mouseup",pointercancel:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{pointerout:"touchout",pointerleave:"touchleave",pointerover:"touchover",pointerenter:"touchenter",pointermove:"touchmove",pointerdown:"touchstart",pointerup:"touchend",pointercancel:"touchcancel",pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{pointerout:"pointerout",pointerleave:"pointerleave",pointerover:"pointerover",pointerenter:"pointerenter",pointermove:"pointermove",pointerdown:"pointerdown",pointerup:"pointerup",pointercancel:"pointercancel",pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},tr=t=>t.indexOf("pointer")>=0?"pointer":t.indexOf("touch")>=0?"touch":"mouse",er=t=>{const e=tr(t);return"pointer"===e?di.pointerEventsEnabled&&Zi.pointer:"touch"===e?Zi.touch:"mouse"===e?Zi.mouse:void 0};function nr(t={}){return(t.clipFunc||t.clipWidth||t.clipHeight)&&_i.warn("Stage does not support clipping. Please use clip for Layers or Groups."),t}const ir=[];class rr extends zi{constructor(t){super(nr(t)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),ir.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",(()=>{nr(this.attrs)})),this._checkVisibility()}_validateAdd(t){const e="Layer"===t.getType(),n="FastLayer"===t.getType();e||n||_i.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const t=this.visible()?"":"none";this.content.style.display=t}setContainer(t){if("string"==typeof t){if("."===t.charAt(0)){var e=t.slice(1);t=document.getElementsByClassName(e)[0]}else{var n;n="#"!==t.charAt(0)?t:t.slice(1),t=document.getElementById(n)}if(!t)throw"Can not find container in document with id "+n}return this._setAttr("container",t),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),t.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){var t,e=this.children,n=e.length;for(t=0;t<n;t++)e[t].clear();return this}clone(t){return t||(t={}),t.container="undefined"!=typeof document&&document.createElement("div"),zi.prototype.clone.call(this,t)}destroy(){super.destroy();var t=this.content;t&&_i._isInDocument(t)&&this.container().removeChild(t);var e=ir.indexOf(this);return e>-1&&ir.splice(e,1),this}getPointerPosition(){const t=this._pointerPositions[0]||this._changedPointerPositions[0];return t?{x:t.x,y:t.y}:(_i.warn("Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);"),null)}_getPointerById(t){return this._pointerPositions.find((e=>e.id===t))}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(t){(t=t||{}).x=t.x||0,t.y=t.y||0,t.width=t.width||this.width(),t.height=t.height||this.height();var e=new Ni({width:t.width,height:t.height,pixelRatio:t.pixelRatio||1}),n=e.getContext()._context,i=this.children;return(t.x||t.y)&&n.translate(-1*t.x,-1*t.y),i.forEach((function(e){if(e.isVisible()){var i=e._toKonvaCanvas(t);n.drawImage(i._canvas,t.x,t.y,i.getWidth()/i.getPixelRatio(),i.getHeight()/i.getPixelRatio())}})),e}getIntersection(t){if(!t)return null;var e,n=this.children;for(e=n.length-1;e>=0;e--){const i=n[e].getIntersection(t);if(i)return i}return null}_resizeDOM(){var t=this.width(),e=this.height();this.content&&(this.content.style.width=t+"px",this.content.style.height=e+"px"),this.bufferCanvas.setSize(t,e),this.bufferHitCanvas.setSize(t,e),this.children.forEach((n=>{n.setSize({width:t,height:e}),n.draw()}))}add(t,...e){if(arguments.length>1){for(var n=0;n<arguments.length;n++)this.add(arguments[n]);return this}super.add(t);var i=this.children.length;return i>5&&_i.warn("The stage has "+i+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),t.setSize({width:this.width(),height:this.height()}),t.draw(),di.isBrowser&&this.content.appendChild(t.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(t){return Vi(t,this)}setPointerCapture(t){Ki(t,this)}releaseCapture(t){Ji(t)}getLayers(){return this.children}_bindContentEvents(){di.isBrowser&&Qi.forEach((([t,e])=>{this.content.addEventListener(t,(t=>{this[e](t)}))}))}_pointerenter(t){this.setPointersPositions(t);const e=er(t.type);this._fire(e.pointerenter,{evt:t,target:this,currentTarget:this})}_pointerover(t){this.setPointersPositions(t);const e=er(t.type);this._fire(e.pointerover,{evt:t,target:this,currentTarget:this})}_getTargetShape(t){let e=this[t+"targetShape"];return e&&!e.getStage()&&(e=null),e}_pointerleave(t){const e=er(t.type),n=tr(t.type);if(e){this.setPointersPositions(t);var i=this._getTargetShape(n),r=!Gi.isDragging||di.hitOnDragEnabled;i&&r?(i._fireAndBubble(e.pointerout,{evt:t}),i._fireAndBubble(e.pointerleave,{evt:t}),this._fire(e.pointerleave,{evt:t,target:this,currentTarget:this}),this[n+"targetShape"]=null):r&&(this._fire(e.pointerleave,{evt:t,target:this,currentTarget:this}),this._fire(e.pointerout,{evt:t,target:this,currentTarget:this})),this.pointerPos=void 0,this._pointerPositions=[]}}_pointerdown(t){const e=er(t.type),n=tr(t.type);if(e){this.setPointersPositions(t);var i=!1;this._changedPointerPositions.forEach((r=>{var a=this.getIntersection(r);Gi.justDragged=!1,di["_"+n+"ListenClick"]=!0;if(!(a&&a.isListening()))return;di.capturePointerEventsEnabled&&a.setPointerCapture(r.id),this[n+"ClickStartShape"]=a,a._fireAndBubble(e.pointerdown,{evt:t,pointerId:r.id}),i=!0;const o=t.type.indexOf("touch")>=0;a.preventDefault()&&t.cancelable&&o&&t.preventDefault()})),i||this._fire(e.pointerdown,{evt:t,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}}_pointermove(t){const e=er(t.type),n=tr(t.type);if(!e)return;if(Gi.isDragging&&Gi.node.preventDefault()&&t.cancelable&&t.preventDefault(),this.setPointersPositions(t),!(!Gi.isDragging||di.hitOnDragEnabled))return;var i={};let r=!1;var a=this._getTargetShape(n);this._changedPointerPositions.forEach((o=>{const s=qi(o.id)||this.getIntersection(o),l=o.id,h={evt:t,pointerId:l};var c=a!==s;if(c&&a&&(a._fireAndBubble(e.pointerout,h,s),a._fireAndBubble(e.pointerleave,h,s)),s){if(i[s._id])return;i[s._id]=!0}s&&s.isListening()?(r=!0,c&&(s._fireAndBubble(e.pointerover,h,a),s._fireAndBubble(e.pointerenter,h,a),this[n+"targetShape"]=s),s._fireAndBubble(e.pointermove,h)):a&&(this._fire(e.pointerover,{evt:t,target:this,currentTarget:this,pointerId:l}),this[n+"targetShape"]=null)})),r||this._fire(e.pointermove,{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(t){const e=er(t.type),n=tr(t.type);if(!e)return;this.setPointersPositions(t);const i=this[n+"ClickStartShape"],r=this[n+"ClickEndShape"];var a={};let o=!1;this._changedPointerPositions.forEach((s=>{const l=qi(s.id)||this.getIntersection(s);if(l){if(l.releaseCapture(s.id),a[l._id])return;a[l._id]=!0}const h=s.id,c={evt:t,pointerId:h};let d=!1;di["_"+n+"InDblClickWindow"]?(d=!0,clearTimeout(this[n+"DblTimeout"])):Gi.justDragged||(di["_"+n+"InDblClickWindow"]=!0,clearTimeout(this[n+"DblTimeout"])),this[n+"DblTimeout"]=setTimeout((function(){di["_"+n+"InDblClickWindow"]=!1}),di.dblClickWindow),l&&l.isListening()?(o=!0,this[n+"ClickEndShape"]=l,l._fireAndBubble(e.pointerup,c),di["_"+n+"ListenClick"]&&i&&i===l&&(l._fireAndBubble(e.pointerclick,c),d&&r&&r===l&&l._fireAndBubble(e.pointerdblclick,c))):(this[n+"ClickEndShape"]=null,di["_"+n+"ListenClick"]&&this._fire(e.pointerclick,{evt:t,target:this,currentTarget:this,pointerId:h}),d&&this._fire(e.pointerdblclick,{evt:t,target:this,currentTarget:this,pointerId:h}))})),o||this._fire(e.pointerup,{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),di["_"+n+"ListenClick"]=!1,t.cancelable&&t.preventDefault()}_contextmenu(t){this.setPointersPositions(t);var e=this.getIntersection(this.getPointerPosition());e&&e.isListening()?e._fireAndBubble("contextmenu",{evt:t}):this._fire("contextmenu",{evt:t,target:this,currentTarget:this})}_wheel(t){this.setPointersPositions(t);var e=this.getIntersection(this.getPointerPosition());e&&e.isListening()?e._fireAndBubble("wheel",{evt:t}):this._fire("wheel",{evt:t,target:this,currentTarget:this})}_pointercancel(t){this.setPointersPositions(t);const e=qi(t.pointerId)||this.getIntersection(this.getPointerPosition());e&&e._fireAndBubble("pointerup",Xi(t)),Ji(t.pointerId)}_lostpointercapture(t){Ji(t.pointerId)}setPointersPositions(t){var e=this._getContentPosition(),n=null,i=null;void 0!==(t=t||window.event).touches?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(t.touches,(t=>{this._pointerPositions.push({id:t.identifier,x:(t.clientX-e.left)/e.scaleX,y:(t.clientY-e.top)/e.scaleY})})),Array.prototype.forEach.call(t.changedTouches||t.touches,(t=>{this._changedPointerPositions.push({id:t.identifier,x:(t.clientX-e.left)/e.scaleX,y:(t.clientY-e.top)/e.scaleY})}))):(n=(t.clientX-e.left)/e.scaleX,i=(t.clientY-e.top)/e.scaleY,this.pointerPos={x:n,y:i},this._pointerPositions=[{x:n,y:i,id:_i._getFirstPointerId(t)}],this._changedPointerPositions=[{x:n,y:i,id:_i._getFirstPointerId(t)}])}_setPointerPosition(t){_i.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(t)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};var t=this.content.getBoundingClientRect();return{top:t.top,left:t.left,scaleX:t.width/this.content.clientWidth||1,scaleY:t.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new Ni({width:this.width(),height:this.height()}),this.bufferHitCanvas=new Fi({pixelRatio:1,width:this.width(),height:this.height()}),di.isBrowser){var t=this.container();if(!t)throw"Stage has no container. A container is required.";t.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),t.appendChild(this.content),this._resizeDOM()}}cache(){return _i.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach((function(t){t.batchDraw()})),this}}rr.prototype.nodeType="Stage",ui(rr),Pi.addGetterSetter(rr,"container");let ar;function or(){return ar||(ar=_i.createCanvasElement().getContext("2d"),ar)}const sr={};class lr extends Hi{constructor(t){let e;for(super(t);e=_i.getRandomColor(),!e||e in sr;);this.colorKey=e,sr[e]=this}getContext(){return _i.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return _i.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache("hasShadow",this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&0!==this.shadowOpacity()&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache("patternImage",this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const t=or().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(t&&t.setTransform){const e=new fi;e.translate(this.fillPatternX(),this.fillPatternY()),e.rotate(di.getAngle(this.fillPatternRotation())),e.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),e.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const n=e.getMatrix();t.setTransform({a:n[0],b:n[1],c:n[2],d:n[3],e:n[4],f:n[5]})}return t}}_getLinearGradient(){return this._getCache("linearGradient",this.__getLinearGradient)}__getLinearGradient(){var t=this.fillLinearGradientColorStops();if(t){for(var e=or(),n=this.fillLinearGradientStartPoint(),i=this.fillLinearGradientEndPoint(),r=e.createLinearGradient(n.x,n.y,i.x,i.y),a=0;a<t.length;a+=2)r.addColorStop(t[a],t[a+1]);return r}}_getRadialGradient(){return this._getCache("radialGradient",this.__getRadialGradient)}__getRadialGradient(){var t=this.fillRadialGradientColorStops();if(t){for(var e=or(),n=this.fillRadialGradientStartPoint(),i=this.fillRadialGradientEndPoint(),r=e.createRadialGradient(n.x,n.y,this.fillRadialGradientStartRadius(),i.x,i.y,this.fillRadialGradientEndRadius()),a=0;a<t.length;a+=2)r.addColorStop(t[a],t[a+1]);return r}}getShadowRGBA(){return this._getCache("shadowRGBA",this._getShadowRGBA)}_getShadowRGBA(){if(this.hasShadow()){var t=_i.colorToRGBA(this.shadowColor());return"rgba("+t.r+","+t.g+","+t.b+","+t.a*(this.shadowOpacity()||1)+")"}}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],(()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops())))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],(()=>this.strokeEnabled()&&this.strokeWidth()&&!(!this.stroke()&&!this.strokeLinearGradientColorStops())))}hasHitStroke(){const t=this.hitStrokeWidth();return"auto"===t?this.hasStroke():this.strokeEnabled()&&!!t}intersects(t){var e=this.getStage().bufferHitCanvas;return e.getContext().clear(),this.drawHit(e,null,!0),e.context.getImageData(Math.round(t.x),Math.round(t.y),1,1).data[3]>0}destroy(){return Hi.prototype.destroy.call(this),delete sr[this.colorKey],delete this.colorKey,this}_useBufferCanvas(t){var e;if(!this.getStage())return!1;if(!(null===(e=this.attrs.perfectDrawEnabled)||void 0===e||e))return!1;const n=t||this.hasFill(),i=this.hasStroke(),r=1!==this.getAbsoluteOpacity();if(n&&i&&r)return!0;const a=this.hasShadow(),o=this.shadowForStrokeEnabled();return!!(n&&i&&a&&o)}setStrokeHitEnabled(t){_i.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),t?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return 0!==this.hitStrokeWidth()}getSelfRect(){var t=this.size();return{x:this._centroid?-t.width/2:0,y:this._centroid?-t.height/2:0,width:t.width,height:t.height}}getClientRect(t={}){const e=t.skipTransform,n=t.relativeTo,i=this.getSelfRect(),r=!t.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,a=i.width+r,o=i.height+r,s=!t.skipShadow&&this.hasShadow(),l=s?this.shadowOffsetX():0,h=s?this.shadowOffsetY():0,c=a+Math.abs(l),d=o+Math.abs(h),u=s&&this.shadowBlur()||0,f=c+2*u,p=d+2*u;let g=0;Math.round(r/2)!==r/2&&(g=1);const m={width:f+g,height:p+g,x:-Math.round(r/2+u)+Math.min(l,0)+i.x,y:-Math.round(r/2+u)+Math.min(h,0)+i.y};return e?m:this._transformedRect(m,n)}drawScene(t,e){var n,i,r=this.getLayer(),a=t||r.getCanvas(),o=a.getContext(),s=this._getCanvasCache(),l=this.getSceneFunc(),h=this.hasShadow(),c=a.isCache,d=e===this;if(!this.isVisible()&&!d)return this;if(s){o.save();var u=this.getAbsoluteTransform(e).getMatrix();return o.transform(u[0],u[1],u[2],u[3],u[4],u[5]),this._drawCachedSceneCanvas(o),o.restore(),this}if(!l)return this;if(o.save(),this._useBufferCanvas()&&!c){(i=(n=this.getStage().bufferCanvas).getContext()).clear(),i.save(),i._applyLineJoin(this);var f=this.getAbsoluteTransform(e).getMatrix();i.transform(f[0],f[1],f[2],f[3],f[4],f[5]),l.call(this,i,this),i.restore();var p=n.pixelRatio;h&&o._applyShadow(this),o._applyOpacity(this),o._applyGlobalCompositeOperation(this),o.drawImage(n._canvas,0,0,n.width/p,n.height/p)}else{if(o._applyLineJoin(this),!d){f=this.getAbsoluteTransform(e).getMatrix();o.transform(f[0],f[1],f[2],f[3],f[4],f[5]),o._applyOpacity(this),o._applyGlobalCompositeOperation(this)}h&&o._applyShadow(this),l.call(this,o,this)}return o.restore(),this}drawHit(t,e,n=!1){if(!this.shouldDrawHit(e,n))return this;var i=this.getLayer(),r=t||i.hitCanvas,a=r&&r.getContext(),o=this.hitFunc()||this.sceneFunc(),s=this._getCanvasCache(),l=s&&s.hit;if(this.colorKey||_i.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),l){a.save();var h=this.getAbsoluteTransform(e).getMatrix();return a.transform(h[0],h[1],h[2],h[3],h[4],h[5]),this._drawCachedHitCanvas(a),a.restore(),this}if(!o)return this;a.save(),a._applyLineJoin(this);if(!(this===e)){var c=this.getAbsoluteTransform(e).getMatrix();a.transform(c[0],c[1],c[2],c[3],c[4],c[5])}return o.call(this,a,this),a.restore(),this}drawHitFromCache(t=0){var e,n,i,r,a,o=this._getCanvasCache(),s=this._getCachedSceneCanvas(),l=o.hit,h=l.getContext(),c=l.getWidth(),d=l.getHeight();h.clear(),h.drawImage(s._canvas,0,0,c,d);try{for(i=(n=(e=h.getImageData(0,0,c,d)).data).length,r=_i._hexToRgb(this.colorKey),a=0;a<i;a+=4)n[a+3]>t?(n[a]=r.r,n[a+1]=r.g,n[a+2]=r.b,n[a+3]=255):n[a+3]=0;h.putImageData(e,0,0)}catch(u){_i.error("Unable to draw hit graph from cached scene canvas. "+u.message)}return this}hasPointerCapture(t){return Vi(t,this)}setPointerCapture(t){Ki(t,this)}releaseCapture(t){Ji(t)}}lr.prototype._fillFunc=function(t){t.fill()},lr.prototype._strokeFunc=function(t){t.stroke()},lr.prototype._fillFuncHit=function(t){t.fill()},lr.prototype._strokeFuncHit=function(t){t.stroke()},lr.prototype._centroid=!1,lr.prototype.nodeType="Shape",ui(lr),lr.prototype.eventListeners={},lr.prototype.on.call(lr.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",(function(){this._clearCache("hasShadow")})),lr.prototype.on.call(lr.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",(function(){this._clearCache("shadowRGBA")})),lr.prototype.on.call(lr.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetX.konva fillPatternOffsetY.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotation.konva",(function(){this._clearCache("patternImage")})),lr.prototype.on.call(lr.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",(function(){this._clearCache("linearGradient")})),lr.prototype.on.call(lr.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",(function(){this._clearCache("radialGradient")})),Pi.addGetterSetter(lr,"stroke",void 0,Ai()),Pi.addGetterSetter(lr,"strokeWidth",2,Si()),Pi.addGetterSetter(lr,"fillAfterStrokeEnabled",!1),Pi.addGetterSetter(lr,"hitStrokeWidth","auto",ki()),Pi.addGetterSetter(lr,"strokeHitEnabled",!0,Ti()),Pi.addGetterSetter(lr,"perfectDrawEnabled",!0,Ti()),Pi.addGetterSetter(lr,"shadowForStrokeEnabled",!0,Ti()),Pi.addGetterSetter(lr,"lineJoin"),Pi.addGetterSetter(lr,"lineCap"),Pi.addGetterSetter(lr,"sceneFunc"),Pi.addGetterSetter(lr,"hitFunc"),Pi.addGetterSetter(lr,"dash"),Pi.addGetterSetter(lr,"dashOffset",0,Si()),Pi.addGetterSetter(lr,"shadowColor",void 0,Mi()),Pi.addGetterSetter(lr,"shadowBlur",0,Si()),Pi.addGetterSetter(lr,"shadowOpacity",1,Si()),Pi.addComponentsGetterSetter(lr,"shadowOffset",["x","y"]),Pi.addGetterSetter(lr,"shadowOffsetX",0,Si()),Pi.addGetterSetter(lr,"shadowOffsetY",0,Si()),Pi.addGetterSetter(lr,"fillPatternImage"),Pi.addGetterSetter(lr,"fill",void 0,Ai()),Pi.addGetterSetter(lr,"fillPatternX",0,Si()),Pi.addGetterSetter(lr,"fillPatternY",0,Si()),Pi.addGetterSetter(lr,"fillLinearGradientColorStops"),Pi.addGetterSetter(lr,"strokeLinearGradientColorStops"),Pi.addGetterSetter(lr,"fillRadialGradientStartRadius",0),Pi.addGetterSetter(lr,"fillRadialGradientEndRadius",0),Pi.addGetterSetter(lr,"fillRadialGradientColorStops"),Pi.addGetterSetter(lr,"fillPatternRepeat","repeat"),Pi.addGetterSetter(lr,"fillEnabled",!0),Pi.addGetterSetter(lr,"strokeEnabled",!0),Pi.addGetterSetter(lr,"shadowEnabled",!0),Pi.addGetterSetter(lr,"dashEnabled",!0),Pi.addGetterSetter(lr,"strokeScaleEnabled",!0),Pi.addGetterSetter(lr,"fillPriority","color"),Pi.addComponentsGetterSetter(lr,"fillPatternOffset",["x","y"]),Pi.addGetterSetter(lr,"fillPatternOffsetX",0,Si()),Pi.addGetterSetter(lr,"fillPatternOffsetY",0,Si()),Pi.addComponentsGetterSetter(lr,"fillPatternScale",["x","y"]),Pi.addGetterSetter(lr,"fillPatternScaleX",1,Si()),Pi.addGetterSetter(lr,"fillPatternScaleY",1,Si()),Pi.addComponentsGetterSetter(lr,"fillLinearGradientStartPoint",["x","y"]),Pi.addComponentsGetterSetter(lr,"strokeLinearGradientStartPoint",["x","y"]),Pi.addGetterSetter(lr,"fillLinearGradientStartPointX",0),Pi.addGetterSetter(lr,"strokeLinearGradientStartPointX",0),Pi.addGetterSetter(lr,"fillLinearGradientStartPointY",0),Pi.addGetterSetter(lr,"strokeLinearGradientStartPointY",0),Pi.addComponentsGetterSetter(lr,"fillLinearGradientEndPoint",["x","y"]),Pi.addComponentsGetterSetter(lr,"strokeLinearGradientEndPoint",["x","y"]),Pi.addGetterSetter(lr,"fillLinearGradientEndPointX",0),Pi.addGetterSetter(lr,"strokeLinearGradientEndPointX",0),Pi.addGetterSetter(lr,"fillLinearGradientEndPointY",0),Pi.addGetterSetter(lr,"strokeLinearGradientEndPointY",0),Pi.addComponentsGetterSetter(lr,"fillRadialGradientStartPoint",["x","y"]),Pi.addGetterSetter(lr,"fillRadialGradientStartPointX",0),Pi.addGetterSetter(lr,"fillRadialGradientStartPointY",0),Pi.addComponentsGetterSetter(lr,"fillRadialGradientEndPoint",["x","y"]),Pi.addGetterSetter(lr,"fillRadialGradientEndPointX",0),Pi.addGetterSetter(lr,"fillRadialGradientEndPointY",0),Pi.addGetterSetter(lr,"fillPatternRotation",0),Pi.backCompat(lr,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"});var hr=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],cr=hr.length;class dr extends zi{constructor(t){super(t),this.canvas=new Ni,this.hitCanvas=new Fi({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(t){return this.getContext().clear(t),this.getHitCanvas().getContext().clear(t),this}setZIndex(t){super.setZIndex(t);var e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),t<e.children.length-1?e.content.insertBefore(this.getNativeCanvasElement(),e.children[t+1].getCanvas()._canvas):e.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){Hi.prototype.moveToTop.call(this);var t=this.getStage();return t&&t.content&&(t.content.removeChild(this.getNativeCanvasElement()),t.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!Hi.prototype.moveUp.call(this))return!1;var t=this.getStage();return!(!t||!t.content)&&(t.content.removeChild(this.getNativeCanvasElement()),this.index<t.children.length-1?t.content.insertBefore(this.getNativeCanvasElement(),t.children[this.index+1].getCanvas()._canvas):t.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(Hi.prototype.moveDown.call(this)){var t=this.getStage();if(t){var e=t.children;t.content&&(t.content.removeChild(this.getNativeCanvasElement()),t.content.insertBefore(this.getNativeCanvasElement(),e[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(Hi.prototype.moveToBottom.call(this)){var t=this.getStage();if(t){var e=t.children;t.content&&(t.content.removeChild(this.getNativeCanvasElement()),t.content.insertBefore(this.getNativeCanvasElement(),e[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){var t=this.getNativeCanvasElement();return Hi.prototype.remove.call(this),t&&t.parentNode&&_i._isInDocument(t)&&t.parentNode.removeChild(t),this}getStage(){return this.parent}setSize({width:t,height:e}){return this.canvas.setSize(t,e),this.hitCanvas.setSize(t,e),this._setSmoothEnabled(),this}_validateAdd(t){var e=t.getType();"Group"!==e&&"Shape"!==e&&_i.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(t){return(t=t||{}).width=t.width||this.getWidth(),t.height=t.height||this.getHeight(),t.x=void 0!==t.x?t.x:this.x(),t.y=void 0!==t.y?t.y:this.y(),Hi.prototype._toKonvaCanvas.call(this,t)}_checkVisibility(){const t=this.visible();this.canvas._canvas.style.display=t?"block":"none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){_i.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){_i.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,_i.requestAnimFrame((()=>{this.draw(),this._waitingForDraw=!1}))),this}getIntersection(t){if(!this.isListening()||!this.isVisible())return null;for(var e=1,n=!1;;){for(let i=0;i<cr;i++){const r=hr[i],a=this._getIntersection({x:t.x+r.x*e,y:t.y+r.y*e}),o=a.shape;if(o)return o;if(n=!!a.antialiased,!a.antialiased)break}if(!n)return null;e+=1}}_getIntersection(t){const e=this.hitCanvas.pixelRatio,n=this.hitCanvas.context.getImageData(Math.round(t.x*e),Math.round(t.y*e),1,1).data,i=n[3];if(255===i){const t=_i._rgbToHex(n[0],n[1],n[2]),e=sr["#"+t];return e?{shape:e}:{antialiased:!0}}return i>0?{antialiased:!0}:{}}drawScene(t,e){var n=this.getLayer(),i=t||n&&n.getCanvas();return this._fire("beforeDraw",{node:this}),this.clearBeforeDraw()&&i.getContext().clear(),zi.prototype.drawScene.call(this,i,e),this._fire("draw",{node:this}),this}drawHit(t,e){var n=this.getLayer(),i=t||n&&n.hitCanvas;return n&&n.clearBeforeDraw()&&n.getHitCanvas().getContext().clear(),zi.prototype.drawHit.call(this,i,e),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(t){_i.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(t)}getHitGraphEnabled(t){return _i.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(this.parent&&this.parent.content){var t=this.parent;!!this.hitCanvas._canvas.parentNode?t.content.removeChild(this.hitCanvas._canvas):t.content.appendChild(this.hitCanvas._canvas)}}}dr.prototype.nodeType="Layer",ui(dr),Pi.addGetterSetter(dr,"imageSmoothingEnabled",!0),Pi.addGetterSetter(dr,"clearBeforeDraw",!0),Pi.addGetterSetter(dr,"hitGraphEnabled",!0,Ti());class ur extends dr{constructor(t){super(t),this.listening(!1),_i.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}ur.prototype.nodeType="FastLayer",ui(ur);class fr extends zi{_validateAdd(t){var e=t.getType();"Group"!==e&&"Shape"!==e&&_i.throw("You may only add groups and shapes to groups.")}}fr.prototype.nodeType="Group",ui(fr);var pr=ci.performance&&ci.performance.now?function(){return ci.performance.now()}:function(){return(new Date).getTime()};class gr{constructor(t,e){this.id=gr.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:pr(),frameRate:0},this.func=t,this.setLayers(e)}setLayers(t){var e=[];return e=t?t.length>0?t:[t]:[],this.layers=e,this}getLayers(){return this.layers}addLayer(t){var e,n=this.layers,i=n.length;for(e=0;e<i;e++)if(n[e]._id===t._id)return!1;return this.layers.push(t),!0}isRunning(){var t,e=gr.animations,n=e.length;for(t=0;t<n;t++)if(e[t].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=pr(),gr._addAnimation(this),this}stop(){return gr._removeAnimation(this),this}_updateFrameObject(t){this.frame.timeDiff=t-this.frame.lastTime,this.frame.lastTime=t,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(t){this.animations.push(t),this._handleAnimation()}static _removeAnimation(t){var e,n=t.id,i=this.animations,r=i.length;for(e=0;e<r;e++)if(i[e].id===n){this.animations.splice(e,1);break}}static _runFrames(){var t,e,n,i,r,a,o,s,l={},h=this.animations;for(i=0;i<h.length;i++)if(e=(t=h[i]).layers,n=t.func,t._updateFrameObject(pr()),a=e.length,!n||!1!==n.call(t,t.frame))for(r=0;r<a;r++)void 0!==(o=e[r])._id&&(l[o._id]=o);for(s in l)l.hasOwnProperty(s)&&l[s].batchDraw()}static _animationLoop(){var t=gr;t.animations.length?(t._runFrames(),_i.requestAnimFrame(t._animationLoop)):t.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,_i.requestAnimFrame(this._animationLoop))}}gr.animations=[],gr.animIdCounter=0,gr.animRunning=!1;var mr={node:1,duration:1,easing:1,onFinish:1,yoyo:1},vr=0,yr=["fill","stroke","shadowColor"];class br{constructor(t,e,n,i,r,a,o){this.prop=t,this.propFunc=e,this.begin=i,this._pos=i,this.duration=a,this._change=0,this.prevPos=0,this.yoyo=o,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=n,this._change=r-this.begin,this.pause()}fire(t){var e=this[t];e&&e()}setTime(t){t>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():t<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=t,this.update())}getTime(){return this._time}setPosition(t){this.prevPos=this._pos,this.propFunc(t),this._pos=t}getPosition(t){return void 0===t&&(t=this._time),this.func(t,this.begin,this._change,this.duration)}play(){this.state=2,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=3,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(t){this.pause(),this._time=t,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){var t=this.getTimer()-this._startTime;2===this.state?this.setTime(t):3===this.state&&this.setTime(this.duration-t)}pause(){this.state=1,this.fire("onPause")}getTimer(){return(new Date).getTime()}}class _r{constructor(t){var e,n,i=this,r=t.node,a=r._id,o=t.easing||xr.Linear,s=!!t.yoyo;e=void 0===t.duration?.3:0===t.duration?.001:t.duration,this.node=r,this._id=vr++;var l=r.getLayer()||(r instanceof di.Stage?r.getLayers():null);for(n in l||_i.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new gr((function(){i.tween.onEnterFrame()}),l),this.tween=new br(n,(function(t){i._tweenFunc(t)}),o,0,1,1e3*e,s),this._addListeners(),_r.attrs[a]||(_r.attrs[a]={}),_r.attrs[a][this._id]||(_r.attrs[a][this._id]={}),_r.tweens[a]||(_r.tweens[a]={}),t)void 0===mr[n]&&this._addAttr(n,t[n]);this.reset(),this.onFinish=t.onFinish,this.onReset=t.onReset,this.onUpdate=t.onUpdate}_addAttr(t,e){var n,i,r,a,o,s,l,h,c=this.node,d=c._id;if((r=_r.tweens[d][t])&&delete _r.attrs[d][r][t],n=c.getAttr(t),_i._isArray(e))if(i=[],o=Math.max(e.length,n.length),"points"===t&&e.length!==n.length&&(e.length>n.length?(l=n,n=_i._prepareArrayForTween(n,e,c.closed())):(s=e,e=_i._prepareArrayForTween(e,n,c.closed()))),0===t.indexOf("fill"))for(a=0;a<o;a++)if(a%2==0)i.push(e[a]-n[a]);else{var u=_i.colorToRGBA(n[a]);h=_i.colorToRGBA(e[a]),n[a]=u,i.push({r:h.r-u.r,g:h.g-u.g,b:h.b-u.b,a:h.a-u.a})}else for(a=0;a<o;a++)i.push(e[a]-n[a]);else-1!==yr.indexOf(t)?(n=_i.colorToRGBA(n),i={r:(h=_i.colorToRGBA(e)).r-n.r,g:h.g-n.g,b:h.b-n.b,a:h.a-n.a}):i=e-n;_r.attrs[d][this._id][t]={start:n,diff:i,end:e,trueEnd:s,trueStart:l},_r.tweens[d][t]=this._id}_tweenFunc(t){var e,n,i,r,a,o,s,l,h=this.node,c=_r.attrs[h._id][this._id];for(e in c){if(i=(n=c[e]).start,r=n.diff,l=n.end,_i._isArray(i))if(a=[],s=Math.max(i.length,l.length),0===e.indexOf("fill"))for(o=0;o<s;o++)o%2==0?a.push((i[o]||0)+r[o]*t):a.push("rgba("+Math.round(i[o].r+r[o].r*t)+","+Math.round(i[o].g+r[o].g*t)+","+Math.round(i[o].b+r[o].b*t)+","+(i[o].a+r[o].a*t)+")");else for(o=0;o<s;o++)a.push((i[o]||0)+r[o]*t);else a=-1!==yr.indexOf(e)?"rgba("+Math.round(i.r+r.r*t)+","+Math.round(i.g+r.g*t)+","+Math.round(i.b+r.b*t)+","+(i.a+r.a*t)+")":i+r*t;h.setAttr(e,a)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{var t=this.node,e=_r.attrs[t._id][this._id];e.points&&e.points.trueEnd&&t.setAttr("points",e.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{var t=this.node,e=_r.attrs[t._id][this._id];e.points&&e.points.trueStart&&t.points(e.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(t){return this.tween.seek(1e3*t),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){var t,e=this.node._id,n=this._id,i=_r.tweens[e];for(t in this.pause(),i)delete _r.tweens[e][t];delete _r.attrs[e][n]}}_r.attrs={},_r.tweens={},Hi.prototype.to=function(t){var e=t.onFinish;t.node=this,t.onFinish=function(){this.destroy(),e&&e()},new _r(t).play()};const xr={BackEaseIn(t,e,n,i){var r=1.70158;return n*(t/=i)*t*((r+1)*t-r)+e},BackEaseOut(t,e,n,i){var r=1.70158;return n*((t=t/i-1)*t*((r+1)*t+r)+1)+e},BackEaseInOut(t,e,n,i){var r=1.70158;return(t/=i/2)<1?n/2*(t*t*((1+(r*=1.525))*t-r))+e:n/2*((t-=2)*t*((1+(r*=1.525))*t+r)+2)+e},ElasticEaseIn(t,e,n,i,r,a){var o=0;return 0===t?e:1==(t/=i)?e+n:(a||(a=.3*i),!r||r<Math.abs(n)?(r=n,o=a/4):o=a/(2*Math.PI)*Math.asin(n/r),-r*Math.pow(2,10*(t-=1))*Math.sin((t*i-o)*(2*Math.PI)/a)+e)},ElasticEaseOut(t,e,n,i,r,a){var o=0;return 0===t?e:1==(t/=i)?e+n:(a||(a=.3*i),!r||r<Math.abs(n)?(r=n,o=a/4):o=a/(2*Math.PI)*Math.asin(n/r),r*Math.pow(2,-10*t)*Math.sin((t*i-o)*(2*Math.PI)/a)+n+e)},ElasticEaseInOut(t,e,n,i,r,a){var o=0;return 0===t?e:2==(t/=i/2)?e+n:(a||(a=i*(.3*1.5)),!r||r<Math.abs(n)?(r=n,o=a/4):o=a/(2*Math.PI)*Math.asin(n/r),t<1?r*Math.pow(2,10*(t-=1))*Math.sin((t*i-o)*(2*Math.PI)/a)*-.5+e:r*Math.pow(2,-10*(t-=1))*Math.sin((t*i-o)*(2*Math.PI)/a)*.5+n+e)},BounceEaseOut:(t,e,n,i)=>(t/=i)<1/2.75?n*(7.5625*t*t)+e:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e,BounceEaseIn:(t,e,n,i)=>n-xr.BounceEaseOut(i-t,0,n,i)+e,BounceEaseInOut:(t,e,n,i)=>t<i/2?.5*xr.BounceEaseIn(2*t,0,n,i)+e:.5*xr.BounceEaseOut(2*t-i,0,n,i)+.5*n+e,EaseIn:(t,e,n,i)=>n*(t/=i)*t+e,EaseOut:(t,e,n,i)=>-n*(t/=i)*(t-2)+e,EaseInOut:(t,e,n,i)=>(t/=i/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e,StrongEaseIn:(t,e,n,i)=>n*(t/=i)*t*t*t*t+e,StrongEaseOut:(t,e,n,i)=>n*((t=t/i-1)*t*t*t*t+1)+e,StrongEaseInOut:(t,e,n,i)=>(t/=i/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e,Linear:(t,e,n,i)=>n*t/i+e},wr=_i._assign(di,{Util:_i,Transform:fi,Node:Hi,Container:zi,Stage:rr,stages:ir,Layer:dr,FastLayer:ur,Group:fr,DD:Gi,Shape:lr,shapes:sr,Animation:gr,Tween:_r,Easings:xr,Context:Oi,Canvas:Ri});class Sr extends lr{_sceneFunc(t){var e=di.getAngle(this.angle()),n=this.clockwise();t.beginPath(),t.arc(0,0,this.outerRadius(),0,e,n),t.arc(0,0,this.innerRadius(),e,0,!n),t.closePath(),t.fillStrokeShape(this)}getWidth(){return 2*this.outerRadius()}getHeight(){return 2*this.outerRadius()}setWidth(t){this.outerRadius(t/2)}setHeight(t){this.outerRadius(t/2)}}function Cr(t,e,n,i,r,a,o){var s=Math.sqrt(Math.pow(n-t,2)+Math.pow(i-e,2)),l=Math.sqrt(Math.pow(r-n,2)+Math.pow(a-i,2)),h=o*s/(s+l),c=o*l/(s+l);return[n-h*(r-t),i-h*(a-e),n+c*(r-t),i+c*(a-e)]}function kr(t,e){var n,i,r=t.length,a=[];for(n=2;n<r-2;n+=2)i=Cr(t[n-2],t[n-1],t[n],t[n+1],t[n+2],t[n+3],e),isNaN(i[0])||(a.push(i[0]),a.push(i[1]),a.push(t[n]),a.push(t[n+1]),a.push(i[2]),a.push(i[3]));return a}Sr.prototype._centroid=!0,Sr.prototype.className="Arc",Sr.prototype._attrsAffectingSize=["innerRadius","outerRadius"],ui(Sr),Pi.addGetterSetter(Sr,"innerRadius",0,Si()),Pi.addGetterSetter(Sr,"outerRadius",0,Si()),Pi.addGetterSetter(Sr,"angle",0,Si()),Pi.addGetterSetter(Sr,"clockwise",!1,Ti());class Mr extends lr{constructor(t){super(t),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",(function(){this._clearCache("tensionPoints")}))}_sceneFunc(t){var e,n,i,r=this.points(),a=r.length,o=this.tension(),s=this.closed(),l=this.bezier();if(a){if(t.beginPath(),t.moveTo(r[0],r[1]),0!==o&&a>4){for(n=(e=this.getTensionPoints()).length,i=s?0:4,s||t.quadraticCurveTo(e[0],e[1],e[2],e[3]);i<n-2;)t.bezierCurveTo(e[i++],e[i++],e[i++],e[i++],e[i++],e[i++]);s||t.quadraticCurveTo(e[n-2],e[n-1],r[a-2],r[a-1])}else if(l)for(i=2;i<a;)t.bezierCurveTo(r[i++],r[i++],r[i++],r[i++],r[i++],r[i++]);else for(i=2;i<a;i+=2)t.lineTo(r[i],r[i+1]);s?(t.closePath(),t.fillStrokeShape(this)):t.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():kr(this.points(),this.tension())}_getTensionPointsClosed(){var t=this.points(),e=t.length,n=this.tension(),i=Cr(t[e-2],t[e-1],t[0],t[1],t[2],t[3],n),r=Cr(t[e-4],t[e-3],t[e-2],t[e-1],t[0],t[1],n),a=kr(t,n);return[i[2],i[3]].concat(a).concat([r[0],r[1],t[e-2],t[e-1],r[2],r[3],i[0],i[1],t[0],t[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){var t=this.points();if(t.length<4)return{x:t[0]||0,y:t[1]||0,width:0,height:0};for(var e,n,i=(t=0!==this.tension()?[t[0],t[1],...this._getTensionPoints(),t[t.length-2],t[t.length-1]]:this.points())[0],r=t[0],a=t[1],o=t[1],s=0;s<t.length/2;s++)e=t[2*s],n=t[2*s+1],i=Math.min(i,e),r=Math.max(r,e),a=Math.min(a,n),o=Math.max(o,n);return{x:i,y:a,width:r-i,height:o-a}}}Mr.prototype.className="Line",Mr.prototype._attrsAffectingSize=["points","bezier","tension"],ui(Mr),Pi.addGetterSetter(Mr,"closed",!1),Pi.addGetterSetter(Mr,"bezier",!1),Pi.addGetterSetter(Mr,"tension",0,Si()),Pi.addGetterSetter(Mr,"points",[],function(){if(di.isUnminified)return function(t,e){return _i._isArray(t)?t.forEach((function(t){_i._isNumber(t)||_i.warn('"'+e+'" attribute has non numeric element '+t+". Make sure that all elements are numbers.")})):_i.warn(xi(t)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.'),t}}());class Ar extends lr{constructor(t){super(t),this.dataArray=[],this.pathLength=0,this.dataArray=Ar.parsePathData(this.data()),this.pathLength=0;for(var e=0;e<this.dataArray.length;++e)this.pathLength+=this.dataArray[e].pathLength;this.on("dataChange.konva",(function(){this.dataArray=Ar.parsePathData(this.data()),this.pathLength=0;for(var t=0;t<this.dataArray.length;++t)this.pathLength+=this.dataArray[t].pathLength}))}_sceneFunc(t){var e=this.dataArray;t.beginPath();for(var n=!1,i=0;i<e.length;i++){var r=e[i].command,a=e[i].points;switch(r){case"L":t.lineTo(a[0],a[1]);break;case"M":t.moveTo(a[0],a[1]);break;case"C":t.bezierCurveTo(a[0],a[1],a[2],a[3],a[4],a[5]);break;case"Q":t.quadraticCurveTo(a[0],a[1],a[2],a[3]);break;case"A":var o=a[0],s=a[1],l=a[2],h=a[3],c=a[4],d=a[5],u=a[6],f=a[7],p=l>h?l:h,g=l>h?1:l/h,m=l>h?h/l:1;t.translate(o,s),t.rotate(u),t.scale(g,m),t.arc(0,0,p,c,c+d,1-f),t.scale(1/g,1/m),t.rotate(-u),t.translate(-o,-s);break;case"z":n=!0,t.closePath()}}n||this.hasFill()?t.fillStrokeShape(this):t.strokeShape(this)}getSelfRect(){var t=[];this.dataArray.forEach((function(e){if("A"===e.command){var n=e.points[4],i=e.points[5],r=e.points[4]+i,a=Math.PI/180;if(Math.abs(n-r)<a&&(a=Math.abs(n-r)),i<0)for(let i=n-a;i>r;i-=a){const n=Ar.getPointOnEllipticalArc(e.points[0],e.points[1],e.points[2],e.points[3],i,0);t.push(n.x,n.y)}else for(let i=n+a;i<r;i+=a){const n=Ar.getPointOnEllipticalArc(e.points[0],e.points[1],e.points[2],e.points[3],i,0);t.push(n.x,n.y)}}else if("C"===e.command)for(let o=0;o<=1;o+=.01){const n=Ar.getPointOnCubicBezier(o,e.start.x,e.start.y,e.points[0],e.points[1],e.points[2],e.points[3],e.points[4],e.points[5]);t.push(n.x,n.y)}else t=t.concat(e.points)}));for(var e,n,i=t[0],r=t[0],a=t[1],o=t[1],s=0;s<t.length/2;s++)e=t[2*s],n=t[2*s+1],isNaN(e)||(i=Math.min(i,e),r=Math.max(r,e)),isNaN(n)||(a=Math.min(a,n),o=Math.max(o,n));return{x:Math.round(i),y:Math.round(a),width:Math.round(r-i),height:Math.round(o-a)}}getLength(){return this.pathLength}getPointAtLength(t){var e,n=0,i=this.dataArray.length;if(!i)return null;for(;n<i&&t>this.dataArray[n].pathLength;)t-=this.dataArray[n].pathLength,++n;if(n===i)return{x:(e=this.dataArray[n-1].points.slice(-2))[0],y:e[1]};if(t<.01)return{x:(e=this.dataArray[n].points.slice(0,2))[0],y:e[1]};var r=this.dataArray[n],a=r.points;switch(r.command){case"L":return Ar.getPointOnLine(t,r.start.x,r.start.y,a[0],a[1]);case"C":return Ar.getPointOnCubicBezier(t/r.pathLength,r.start.x,r.start.y,a[0],a[1],a[2],a[3],a[4],a[5]);case"Q":return Ar.getPointOnQuadraticBezier(t/r.pathLength,r.start.x,r.start.y,a[0],a[1],a[2],a[3]);case"A":var o=a[0],s=a[1],l=a[2],h=a[3],c=a[4],d=a[5],u=a[6];return c+=d*t/r.pathLength,Ar.getPointOnEllipticalArc(o,s,l,h,c,u)}return null}static getLineLength(t,e,n,i){return Math.sqrt((n-t)*(n-t)+(i-e)*(i-e))}static getPointOnLine(t,e,n,i,r,a,o){void 0===a&&(a=e),void 0===o&&(o=n);var s=(r-n)/(i-e+1e-8),l=Math.sqrt(t*t/(1+s*s));i<e&&(l*=-1);var h,c=s*l;if(i===e)h={x:a,y:o+c};else if((o-n)/(a-e+1e-8)===s)h={x:a+l,y:o+c};else{var d,u,f=this.getLineLength(e,n,i,r),p=(a-e)*(i-e)+(o-n)*(r-n);d=e+(p/=f*f)*(i-e),u=n+p*(r-n);var g=this.getLineLength(a,o,d,u),m=Math.sqrt(t*t-g*g);l=Math.sqrt(m*m/(1+s*s)),i<e&&(l*=-1),h={x:d+l,y:u+(c=s*l)}}return h}static getPointOnCubicBezier(t,e,n,i,r,a,o,s,l){function h(t){return t*t*t}function c(t){return 3*t*t*(1-t)}function d(t){return 3*t*(1-t)*(1-t)}function u(t){return(1-t)*(1-t)*(1-t)}return{x:s*h(t)+a*c(t)+i*d(t)+e*u(t),y:l*h(t)+o*c(t)+r*d(t)+n*u(t)}}static getPointOnQuadraticBezier(t,e,n,i,r,a,o){function s(t){return t*t}function l(t){return 2*t*(1-t)}function h(t){return(1-t)*(1-t)}return{x:a*s(t)+i*l(t)+e*h(t),y:o*s(t)+r*l(t)+n*h(t)}}static getPointOnEllipticalArc(t,e,n,i,r,a){var o=Math.cos(a),s=Math.sin(a),l=n*Math.cos(r),h=i*Math.sin(r);return{x:t+(l*o-h*s),y:e+(l*s+h*o)}}static parsePathData(t){if(!t)return[];var e=t,n=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];e=e.replace(new RegExp(" ","g"),",");for(var i=0;i<n.length;i++)e=e.replace(new RegExp(n[i],"g"),"|"+n[i]);var r,a=e.split("|"),o=[],s=[],l=0,h=0,c=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;for(i=1;i<a.length;i++){var d=a[i],u=d.charAt(0);for(d=d.slice(1),s.length=0;r=c.exec(d);)s.push(r[0]);for(var f=[],p=0,g=s.length;p<g;p++)if("00"!==s[p]){var m=parseFloat(s[p]);isNaN(m)?f.push(0):f.push(m)}else f.push(0,0);for(;f.length>0&&!isNaN(f[0]);){var v,y,b,_,x,w,S,C,k,M,A=null,T=[],P=l,D=h;switch(u){case"l":l+=f.shift(),h+=f.shift(),A="L",T.push(l,h);break;case"L":l=f.shift(),h=f.shift(),T.push(l,h);break;case"m":var E=f.shift(),O=f.shift();if(l+=E,h+=O,A="M",o.length>2&&"z"===o[o.length-1].command)for(var L=o.length-2;L>=0;L--)if("M"===o[L].command){l=o[L].points[0]+E,h=o[L].points[1]+O;break}T.push(l,h),u="l";break;case"M":l=f.shift(),h=f.shift(),A="M",T.push(l,h),u="L";break;case"h":l+=f.shift(),A="L",T.push(l,h);break;case"H":l=f.shift(),A="L",T.push(l,h);break;case"v":h+=f.shift(),A="L",T.push(l,h);break;case"V":h=f.shift(),A="L",T.push(l,h);break;case"C":T.push(f.shift(),f.shift(),f.shift(),f.shift()),l=f.shift(),h=f.shift(),T.push(l,h);break;case"c":T.push(l+f.shift(),h+f.shift(),l+f.shift(),h+f.shift()),l+=f.shift(),h+=f.shift(),A="C",T.push(l,h);break;case"S":y=l,b=h,"C"===(v=o[o.length-1]).command&&(y=l+(l-v.points[2]),b=h+(h-v.points[3])),T.push(y,b,f.shift(),f.shift()),l=f.shift(),h=f.shift(),A="C",T.push(l,h);break;case"s":y=l,b=h,"C"===(v=o[o.length-1]).command&&(y=l+(l-v.points[2]),b=h+(h-v.points[3])),T.push(y,b,l+f.shift(),h+f.shift()),l+=f.shift(),h+=f.shift(),A="C",T.push(l,h);break;case"Q":T.push(f.shift(),f.shift()),l=f.shift(),h=f.shift(),T.push(l,h);break;case"q":T.push(l+f.shift(),h+f.shift()),l+=f.shift(),h+=f.shift(),A="Q",T.push(l,h);break;case"T":y=l,b=h,"Q"===(v=o[o.length-1]).command&&(y=l+(l-v.points[0]),b=h+(h-v.points[1])),l=f.shift(),h=f.shift(),A="Q",T.push(y,b,l,h);break;case"t":y=l,b=h,"Q"===(v=o[o.length-1]).command&&(y=l+(l-v.points[0]),b=h+(h-v.points[1])),l+=f.shift(),h+=f.shift(),A="Q",T.push(y,b,l,h);break;case"A":_=f.shift(),x=f.shift(),w=f.shift(),S=f.shift(),C=f.shift(),k=l,M=h,l=f.shift(),h=f.shift(),A="A",T=this.convertEndpointToCenterParameterization(k,M,l,h,S,C,_,x,w);break;case"a":_=f.shift(),x=f.shift(),w=f.shift(),S=f.shift(),C=f.shift(),k=l,M=h,l+=f.shift(),h+=f.shift(),A="A",T=this.convertEndpointToCenterParameterization(k,M,l,h,S,C,_,x,w)}o.push({command:A||u,points:T,start:{x:P,y:D},pathLength:this.calcLength(P,D,A||u,T)})}"z"!==u&&"Z"!==u||o.push({command:"z",points:[],start:void 0,pathLength:0})}return o}static calcLength(t,e,n,i){var r,a,o,s,l=Ar;switch(n){case"L":return l.getLineLength(t,e,i[0],i[1]);case"C":for(r=0,a=l.getPointOnCubicBezier(0,t,e,i[0],i[1],i[2],i[3],i[4],i[5]),s=.01;s<=1;s+=.01)o=l.getPointOnCubicBezier(s,t,e,i[0],i[1],i[2],i[3],i[4],i[5]),r+=l.getLineLength(a.x,a.y,o.x,o.y),a=o;return r;case"Q":for(r=0,a=l.getPointOnQuadraticBezier(0,t,e,i[0],i[1],i[2],i[3]),s=.01;s<=1;s+=.01)o=l.getPointOnQuadraticBezier(s,t,e,i[0],i[1],i[2],i[3]),r+=l.getLineLength(a.x,a.y,o.x,o.y),a=o;return r;case"A":r=0;var h=i[4],c=i[5],d=i[4]+c,u=Math.PI/180;if(Math.abs(h-d)<u&&(u=Math.abs(h-d)),a=l.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],h,0),c<0)for(s=h-u;s>d;s-=u)o=l.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],s,0),r+=l.getLineLength(a.x,a.y,o.x,o.y),a=o;else for(s=h+u;s<d;s+=u)o=l.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],s,0),r+=l.getLineLength(a.x,a.y,o.x,o.y),a=o;return o=l.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],d,0),r+=l.getLineLength(a.x,a.y,o.x,o.y)}return 0}static convertEndpointToCenterParameterization(t,e,n,i,r,a,o,s,l){var h=l*(Math.PI/180),c=Math.cos(h)*(t-n)/2+Math.sin(h)*(e-i)/2,d=-1*Math.sin(h)*(t-n)/2+Math.cos(h)*(e-i)/2,u=c*c/(o*o)+d*d/(s*s);u>1&&(o*=Math.sqrt(u),s*=Math.sqrt(u));var f=Math.sqrt((o*o*(s*s)-o*o*(d*d)-s*s*(c*c))/(o*o*(d*d)+s*s*(c*c)));r===a&&(f*=-1),isNaN(f)&&(f=0);var p=f*o*d/s,g=f*-s*c/o,m=(t+n)/2+Math.cos(h)*p-Math.sin(h)*g,v=(e+i)/2+Math.sin(h)*p+Math.cos(h)*g,y=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},b=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(y(t)*y(e))},_=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(b(t,e))},x=_([1,0],[(c-p)/o,(d-g)/s]),w=[(c-p)/o,(d-g)/s],S=[(-1*c-p)/o,(-1*d-g)/s],C=_(w,S);return b(w,S)<=-1&&(C=Math.PI),b(w,S)>=1&&(C=0),0===a&&C>0&&(C-=2*Math.PI),1===a&&C<0&&(C+=2*Math.PI),[m,v,o,s,x,C,h,a]}}Ar.prototype.className="Path",Ar.prototype._attrsAffectingSize=["data"],ui(Ar),Pi.addGetterSetter(Ar,"data");class Tr extends Mr{_sceneFunc(t){super._sceneFunc(t);var e=2*Math.PI,n=this.points(),i=n,r=0!==this.tension()&&n.length>4;r&&(i=this.getTensionPoints());var a,o,s=this.pointerLength(),l=n.length;if(r){const t=[i[i.length-4],i[i.length-3],i[i.length-2],i[i.length-1],n[l-2],n[l-1]],e=Ar.calcLength(i[i.length-4],i[i.length-3],"C",t),r=Ar.getPointOnQuadraticBezier(Math.min(1,1-s/e),t[0],t[1],t[2],t[3],t[4],t[5]);a=n[l-2]-r.x,o=n[l-1]-r.y}else a=n[l-2]-n[l-4],o=n[l-1]-n[l-3];var h=(Math.atan2(o,a)+e)%e,c=this.pointerWidth();this.pointerAtEnding()&&(t.save(),t.beginPath(),t.translate(n[l-2],n[l-1]),t.rotate(h),t.moveTo(0,0),t.lineTo(-s,c/2),t.lineTo(-s,-c/2),t.closePath(),t.restore()),this.pointerAtBeginning()&&(t.save(),t.translate(n[0],n[1]),r?(a=(i[0]+i[2])/2-n[0],o=(i[1]+i[3])/2-n[1]):(a=n[2]-n[0],o=n[3]-n[1]),t.rotate((Math.atan2(-o,-a)+e)%e),t.moveTo(0,0),t.lineTo(-s,c/2),t.lineTo(-s,-c/2),t.closePath(),t.restore());var d=this.dashEnabled();d&&(this.attrs.dashEnabled=!1,t.setLineDash([])),t.fillStrokeShape(this),d&&(this.attrs.dashEnabled=!0)}getSelfRect(){const t=super.getSelfRect(),e=this.pointerWidth()/2;return{x:t.x-e,y:t.y-e,width:t.width+2*e,height:t.height+2*e}}}Tr.prototype.className="Arrow",ui(Tr),Pi.addGetterSetter(Tr,"pointerLength",10,Si()),Pi.addGetterSetter(Tr,"pointerWidth",10,Si()),Pi.addGetterSetter(Tr,"pointerAtBeginning",!1),Pi.addGetterSetter(Tr,"pointerAtEnding",!0);class Pr extends lr{_sceneFunc(t){t.beginPath(),t.arc(0,0,this.attrs.radius||0,0,2*Math.PI,!1),t.closePath(),t.fillStrokeShape(this)}getWidth(){return 2*this.radius()}getHeight(){return 2*this.radius()}setWidth(t){this.radius()!==t/2&&this.radius(t/2)}setHeight(t){this.radius()!==t/2&&this.radius(t/2)}}Pr.prototype._centroid=!0,Pr.prototype.className="Circle",Pr.prototype._attrsAffectingSize=["radius"],ui(Pr),Pi.addGetterSetter(Pr,"radius",0,Si());class Dr extends lr{_sceneFunc(t){var e=this.radiusX(),n=this.radiusY();t.beginPath(),t.save(),e!==n&&t.scale(1,n/e),t.arc(0,0,e,0,2*Math.PI,!1),t.restore(),t.closePath(),t.fillStrokeShape(this)}getWidth(){return 2*this.radiusX()}getHeight(){return 2*this.radiusY()}setWidth(t){this.radiusX(t/2)}setHeight(t){this.radiusY(t/2)}}Dr.prototype.className="Ellipse",Dr.prototype._centroid=!0,Dr.prototype._attrsAffectingSize=["radiusX","radiusY"],ui(Dr),Pi.addComponentsGetterSetter(Dr,"radius",["x","y"]),Pi.addGetterSetter(Dr,"radiusX",0,Si()),Pi.addGetterSetter(Dr,"radiusY",0,Si());class Er extends lr{constructor(t){super(t),this.on("imageChange.konva",(()=>{this._setImageLoad()})),this._setImageLoad()}_setImageLoad(){const t=this.image();t&&t.addEventListener&&t.addEventListener("load",(()=>{this._requestDraw()}))}_useBufferCanvas(){return super._useBufferCanvas(!0)}_sceneFunc(t){const e=this.getWidth(),n=this.getHeight(),i=this.attrs.image;let r;if(i){const t=this.attrs.cropWidth,a=this.attrs.cropHeight;r=t&&a?[i,this.cropX(),this.cropY(),t,a,0,0,e,n]:[i,0,0,e,n]}(this.hasFill()||this.hasStroke())&&(t.beginPath(),t.rect(0,0,e,n),t.closePath(),t.fillStrokeShape(this)),i&&t.drawImage.apply(t,r)}_hitFunc(t){var e=this.width(),n=this.height();t.beginPath(),t.rect(0,0,e,n),t.closePath(),t.fillStrokeShape(this)}getWidth(){var t,e;return null!==(t=this.attrs.width)&&void 0!==t?t:null===(e=this.image())||void 0===e?void 0:e.width}getHeight(){var t,e;return null!==(t=this.attrs.height)&&void 0!==t?t:null===(e=this.image())||void 0===e?void 0:e.height}static fromURL(t,e){var n=_i.createImageElement();n.onload=function(){var t=new Er({image:n});e(t)},n.crossOrigin="Anonymous",n.src=t}}Er.prototype.className="Image",ui(Er),Pi.addGetterSetter(Er,"image"),Pi.addComponentsGetterSetter(Er,"crop",["x","y","width","height"]),Pi.addGetterSetter(Er,"cropX",0,Si()),Pi.addGetterSetter(Er,"cropY",0,Si()),Pi.addGetterSetter(Er,"cropWidth",0,Si()),Pi.addGetterSetter(Er,"cropHeight",0,Si());var Or=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height"],Lr=Or.length;class $r extends fr{constructor(t){super(t),this.on("add.konva",(function(t){this._addListeners(t.child),this._sync()}))}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(t){var e,n=this,i=function(){n._sync()};for(e=0;e<Lr;e++)t.on(Or[e]+"Change.konva",i)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){var t,e,n,i,r,a,o,s=this.getText(),l=this.getTag();if(s&&l){switch(t=s.width(),e=s.height(),n=l.pointerDirection(),i=l.pointerWidth(),o=l.pointerHeight(),r=0,a=0,n){case"up":r=t/2,a=-1*o;break;case"right":r=t+i,a=e/2;break;case"down":r=t/2,a=e+o;break;case"left":r=-1*i,a=e/2}l.setAttrs({x:-1*r,y:-1*a,width:t,height:e}),s.setAttrs({x:-1*r,y:-1*a})}}}$r.prototype.className="Label",ui($r);class Ir extends lr{_sceneFunc(t){var e=this.width(),n=this.height(),i=this.pointerDirection(),r=this.pointerWidth(),a=this.pointerHeight(),o=this.cornerRadius();let s=0,l=0,h=0,c=0;"number"==typeof o?s=l=h=c=Math.min(o,e/2,n/2):(s=Math.min(o[0]||0,e/2,n/2),l=Math.min(o[1]||0,e/2,n/2),c=Math.min(o[2]||0,e/2,n/2),h=Math.min(o[3]||0,e/2,n/2)),t.beginPath(),t.moveTo(s,0),"up"===i&&(t.lineTo((e-r)/2,0),t.lineTo(e/2,-1*a),t.lineTo((e+r)/2,0)),t.lineTo(e-l,0),t.arc(e-l,l,l,3*Math.PI/2,0,!1),"right"===i&&(t.lineTo(e,(n-a)/2),t.lineTo(e+r,n/2),t.lineTo(e,(n+a)/2)),t.lineTo(e,n-c),t.arc(e-c,n-c,c,0,Math.PI/2,!1),"down"===i&&(t.lineTo((e+r)/2,n),t.lineTo(e/2,n+a),t.lineTo((e-r)/2,n)),t.lineTo(h,n),t.arc(h,n-h,h,Math.PI/2,Math.PI,!1),"left"===i&&(t.lineTo(0,(n+a)/2),t.lineTo(-1*r,n/2),t.lineTo(0,(n-a)/2)),t.lineTo(0,s),t.arc(s,s,s,Math.PI,3*Math.PI/2,!1),t.closePath(),t.fillStrokeShape(this)}getSelfRect(){var t=0,e=0,n=this.pointerWidth(),i=this.pointerHeight(),r=this.pointerDirection(),a=this.width(),o=this.height();return"up"===r?(e-=i,o+=i):"down"===r?o+=i:"left"===r?(t-=1.5*n,a+=n):"right"===r&&(a+=1.5*n),{x:t,y:e,width:a,height:o}}}Ir.prototype.className="Tag",ui(Ir),Pi.addGetterSetter(Ir,"pointerDirection","none"),Pi.addGetterSetter(Ir,"pointerWidth",0,Si()),Pi.addGetterSetter(Ir,"pointerHeight",0,Si()),Pi.addGetterSetter(Ir,"cornerRadius",0,Ci(4));class Rr extends lr{_sceneFunc(t){var e=this.cornerRadius(),n=this.width(),i=this.height();if(t.beginPath(),e){let r=0,a=0,o=0,s=0;"number"==typeof e?r=a=o=s=Math.min(e,n/2,i/2):(r=Math.min(e[0]||0,n/2,i/2),a=Math.min(e[1]||0,n/2,i/2),s=Math.min(e[2]||0,n/2,i/2),o=Math.min(e[3]||0,n/2,i/2)),t.moveTo(r,0),t.lineTo(n-a,0),t.arc(n-a,a,a,3*Math.PI/2,0,!1),t.lineTo(n,i-s),t.arc(n-s,i-s,s,0,Math.PI/2,!1),t.lineTo(o,i),t.arc(o,i-o,o,Math.PI/2,Math.PI,!1),t.lineTo(0,r),t.arc(r,r,r,Math.PI,3*Math.PI/2,!1)}else t.rect(0,0,n,i);t.closePath(),t.fillStrokeShape(this)}}Rr.prototype.className="Rect",ui(Rr),Pi.addGetterSetter(Rr,"cornerRadius",0,Ci(4));class Nr extends lr{_sceneFunc(t){const e=this._getPoints();t.beginPath(),t.moveTo(e[0].x,e[0].y);for(var n=1;n<e.length;n++)t.lineTo(e[n].x,e[n].y);t.closePath(),t.fillStrokeShape(this)}_getPoints(){const t=this.attrs.sides,e=this.attrs.radius||0,n=[];for(var i=0;i<t;i++)n.push({x:e*Math.sin(2*i*Math.PI/t),y:-1*e*Math.cos(2*i*Math.PI/t)});return n}getSelfRect(){const t=this._getPoints();var e=t[0].x,n=t[0].y,i=t[0].x,r=t[0].y;return t.forEach((t=>{e=Math.min(e,t.x),n=Math.max(n,t.x),i=Math.min(i,t.y),r=Math.max(r,t.y)})),{x:e,y:i,width:n-e,height:r-i}}getWidth(){return 2*this.radius()}getHeight(){return 2*this.radius()}setWidth(t){this.radius(t/2)}setHeight(t){this.radius(t/2)}}Nr.prototype.className="RegularPolygon",Nr.prototype._centroid=!0,Nr.prototype._attrsAffectingSize=["radius"],ui(Nr),Pi.addGetterSetter(Nr,"radius",0,Si()),Pi.addGetterSetter(Nr,"sides",0,Si());var Fr=2*Math.PI;class Gr extends lr{_sceneFunc(t){t.beginPath(),t.arc(0,0,this.innerRadius(),0,Fr,!1),t.moveTo(this.outerRadius(),0),t.arc(0,0,this.outerRadius(),Fr,0,!0),t.closePath(),t.fillStrokeShape(this)}getWidth(){return 2*this.outerRadius()}getHeight(){return 2*this.outerRadius()}setWidth(t){this.outerRadius(t/2)}setHeight(t){this.outerRadius(t/2)}}Gr.prototype.className="Ring",Gr.prototype._centroid=!0,Gr.prototype._attrsAffectingSize=["innerRadius","outerRadius"],ui(Gr),Pi.addGetterSetter(Gr,"innerRadius",0,Si()),Pi.addGetterSetter(Gr,"outerRadius",0,Si());class jr extends lr{constructor(t){super(t),this._updated=!0,this.anim=new gr((()=>{var t=this._updated;return this._updated=!1,t})),this.on("animationChange.konva",(function(){this.frameIndex(0)})),this.on("frameIndexChange.konva",(function(){this._updated=!0})),this.on("frameRateChange.konva",(function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())}))}_sceneFunc(t){var e=this.animation(),n=this.frameIndex(),i=4*n,r=this.animations()[e],a=this.frameOffsets(),o=r[i+0],s=r[i+1],l=r[i+2],h=r[i+3],c=this.image();if((this.hasFill()||this.hasStroke())&&(t.beginPath(),t.rect(0,0,l,h),t.closePath(),t.fillStrokeShape(this)),c)if(a){var d=a[e],u=2*n;t.drawImage(c,o,s,l,h,d[u+0],d[u+1],l,h)}else t.drawImage(c,o,s,l,h,0,0,l,h)}_hitFunc(t){var e=this.animation(),n=this.frameIndex(),i=4*n,r=this.animations()[e],a=this.frameOffsets(),o=r[i+2],s=r[i+3];if(t.beginPath(),a){var l=a[e],h=2*n;t.rect(l[h+0],l[h+1],o,s)}else t.rect(0,0,o,s);t.closePath(),t.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){var t=this;this.interval=setInterval((function(){t._updateIndex()}),1e3/this.frameRate())}start(){if(!this.isRunning()){var t=this.getLayer();this.anim.setLayers(t),this._setInterval(),this.anim.start()}}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){var t=this.frameIndex(),e=this.animation();t<this.animations()[e].length/4-1?this.frameIndex(t+1):this.frameIndex(0)}}jr.prototype.className="Sprite",ui(jr),Pi.addGetterSetter(jr,"animation"),Pi.addGetterSetter(jr,"animations"),Pi.addGetterSetter(jr,"frameOffsets"),Pi.addGetterSetter(jr,"image"),Pi.addGetterSetter(jr,"frameIndex",0,Si()),Pi.addGetterSetter(jr,"frameRate",17,Si()),Pi.backCompat(jr,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"});class Br extends lr{_sceneFunc(t){var e=this.innerRadius(),n=this.outerRadius(),i=this.numPoints();t.beginPath(),t.moveTo(0,0-n);for(var r=1;r<2*i;r++){var a=r%2==0?n:e,o=a*Math.sin(r*Math.PI/i),s=-1*a*Math.cos(r*Math.PI/i);t.lineTo(o,s)}t.closePath(),t.fillStrokeShape(this)}getWidth(){return 2*this.outerRadius()}getHeight(){return 2*this.outerRadius()}setWidth(t){this.outerRadius(t/2)}setHeight(t){this.outerRadius(t/2)}}function Hr(t){return Array.from(t)}Br.prototype.className="Star",Br.prototype._centroid=!0,Br.prototype._attrsAffectingSize=["innerRadius","outerRadius"],ui(Br),Pi.addGetterSetter(Br,"numPoints",5,Si()),Pi.addGetterSetter(Br,"innerRadius",0,Si()),Pi.addGetterSetter(Br,"outerRadius",0,Si());var Yr,zr=["fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],Wr=zr.length;function Ur(){return Yr||(Yr=_i.createCanvasElement().getContext("2d"))}class qr extends lr{constructor(t){super(function(t){return(t=t||{}).fillLinearGradientColorStops||t.fillRadialGradientColorStops||t.fillPatternImage||(t.fill=t.fill||"black"),t}(t)),this._partialTextX=0,this._partialTextY=0;for(var e=0;e<Wr;e++)this.on(zr[e]+"Change.konva",this._setTextData);this._setTextData()}_sceneFunc(t){var e=this.textArr,n=e.length;if(this.text()){var i,r=this.padding(),a=this.fontSize(),o=this.lineHeight()*a,s=this.verticalAlign(),l=0,h=this.align(),c=this.getWidth(),d=this.letterSpacing(),u=this.fill(),f=this.textDecoration(),p=-1!==f.indexOf("underline"),g=-1!==f.indexOf("line-through"),m=0,v=(m=o/2,0),y=0;for(t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline","middle"),t.setAttr("textAlign","left"),"middle"===s?l=(this.getHeight()-n*o-2*r)/2:"bottom"===s&&(l=this.getHeight()-n*o-2*r),t.translate(r,l+r),i=0;i<n;i++){v=0,y=0;var b,_,x,w=e[i],S=w.text,C=w.width,k=i!==n-1;if(t.save(),"right"===h?v+=c-C-2*r:"center"===h&&(v+=(c-C-2*r)/2),p&&(t.save(),t.beginPath(),t.moveTo(v,m+y+Math.round(a/2)),_=0===(b=S.split(" ").length-1),x="justify"===h&&k&&!_?c-2*r:C,t.lineTo(v+Math.round(x),m+y+Math.round(a/2)),t.lineWidth=a/15,t.strokeStyle=u,t.stroke(),t.restore()),g&&(t.save(),t.beginPath(),t.moveTo(v,m+y),_=0===(b=S.split(" ").length-1),x="justify"===h&&k&&!_?c-2*r:C,t.lineTo(v+Math.round(x),m+y),t.lineWidth=a/15,t.strokeStyle=u,t.stroke(),t.restore()),0!==d||"justify"===h){b=S.split(" ").length-1;for(var M=Hr(S),A=0;A<M.length;A++){var T=M[A];" "===T&&i!==n-1&&"justify"===h&&(v+=(c-2*r-C)/b),this._partialTextX=v,this._partialTextY=m+y,this._partialText=T,t.fillStrokeShape(this),v+=this.measureSize(T).width+d}}else this._partialTextX=v,this._partialTextY=m+y,this._partialText=S,t.fillStrokeShape(this);t.restore(),n>1&&(m+=o)}}}_hitFunc(t){var e=this.getWidth(),n=this.getHeight();t.beginPath(),t.rect(0,0,e,n),t.closePath(),t.fillStrokeShape(this)}setText(t){var e=_i._isString(t)?t:null==t?"":t+"";return this._setAttr("text",e),this}getWidth(){return"auto"===this.attrs.width||void 0===this.attrs.width?this.getTextWidth()+2*this.padding():this.attrs.width}getHeight(){return"auto"===this.attrs.height||void 0===this.attrs.height?this.fontSize()*this.textArr.length*this.lineHeight()+2*this.padding():this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return _i.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(t){var e,n=Ur(),i=this.fontSize();return n.save(),n.font=this._getContextFont(),e=n.measureText(t),n.restore(),{width:e.width,height:i}}_getContextFont(){return this.fontStyle()+" "+this.fontVariant()+" "+this.fontSize()+"px "+this.fontFamily().split(",").map((t=>{const e=(t=t.trim()).indexOf(" ")>=0,n=t.indexOf('"')>=0||t.indexOf("'")>=0;return e&&!n&&(t=`"${t}"`),t})).join(", ")}_addTextLine(t){"justify"===this.align()&&(t=t.trim());var e=this._getTextWidth(t);return this.textArr.push({text:t,width:e})}_getTextWidth(t){var e=this.letterSpacing(),n=t.length;return Ur().measureText(t).width+(n?e*(n-1):0)}_setTextData(){var t=this.text().split("\n"),e=+this.fontSize(),n=0,i=this.lineHeight()*e,r=this.attrs.width,a=this.attrs.height,o="auto"!==r&&void 0!==r,s="auto"!==a&&void 0!==a,l=this.padding(),h=r-2*l,c=a-2*l,d=0,u=this.wrap(),f="none"!==u,p="char"!==u&&f,g=this.ellipsis();this.textArr=[],Ur().font=this._getContextFont();for(var m=g?this._getTextWidth("…"):0,v=0,y=t.length;v<y;++v){var b=t[v],_=this._getTextWidth(b);if(o&&_>h)for(;b.length>0;){for(var x=0,w=b.length,S="",C=0;x<w;){var k=x+w>>>1,M=b.slice(0,k+1),A=this._getTextWidth(M)+m;A<=h?(x=k+1,S=M,C=A):w=k}if(!S)break;if(p){var T,P=b[S.length];(T=(" "===P||"-"===P)&&C<=h?S.length:Math.max(S.lastIndexOf(" "),S.lastIndexOf("-"))+1)>0&&(x=T,S=S.slice(0,x),C=this._getTextWidth(S))}if(S=S.trimRight(),this._addTextLine(S),n=Math.max(n,C),d+=i,!f||s&&d+i>c){var D=this.textArr[this.textArr.length-1];if(D)if(g)this._getTextWidth(D.text+"…")<h||(D.text=D.text.slice(0,D.text.length-3)),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(D.text+"…");break}if((b=(b=b.slice(x)).trimLeft()).length>0&&(_=this._getTextWidth(b))<=h){this._addTextLine(b),d+=i,n=Math.max(n,_);break}}else this._addTextLine(b),d+=i,n=Math.max(n,_);if(s&&d+i>c)break}this.textHeight=e,this.textWidth=n}getStrokeScaleEnabled(){return!0}}qr.prototype._fillFunc=function(t){t.fillText(this._partialText,this._partialTextX,this._partialTextY)},qr.prototype._strokeFunc=function(t){t.strokeText(this._partialText,this._partialTextX,this._partialTextY)},qr.prototype.className="Text",qr.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"],ui(qr),Pi.overWriteSetter(qr,"width",ki()),Pi.overWriteSetter(qr,"height",ki()),Pi.addGetterSetter(qr,"fontFamily","Arial"),Pi.addGetterSetter(qr,"fontSize",12,Si()),Pi.addGetterSetter(qr,"fontStyle","normal"),Pi.addGetterSetter(qr,"fontVariant","normal"),Pi.addGetterSetter(qr,"padding",0,Si()),Pi.addGetterSetter(qr,"align","left"),Pi.addGetterSetter(qr,"verticalAlign","top"),Pi.addGetterSetter(qr,"lineHeight",1,Si()),Pi.addGetterSetter(qr,"wrap","word"),Pi.addGetterSetter(qr,"ellipsis",!1,Ti()),Pi.addGetterSetter(qr,"letterSpacing",0,Si()),Pi.addGetterSetter(qr,"text","",Mi()),Pi.addGetterSetter(qr,"textDecoration","");function Xr(t){t.fillText(this.partialText,0,0)}function Vr(t){t.strokeText(this.partialText,0,0)}class Kr extends lr{constructor(t){super(t),this.dummyCanvas=_i.createCanvasElement(),this.dataArray=[],this.dataArray=Ar.parsePathData(this.attrs.data),this.on("dataChange.konva",(function(){this.dataArray=Ar.parsePathData(this.attrs.data),this._setTextData()})),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva",this._setTextData),this._setTextData()}_sceneFunc(t){t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline",this.textBaseline()),t.setAttr("textAlign","left"),t.save();var e=this.textDecoration(),n=this.fill(),i=this.fontSize(),r=this.glyphInfo;"underline"===e&&t.beginPath();for(var a=0;a<r.length;a++){t.save();var o=r[a].p0;t.translate(o.x,o.y),t.rotate(r[a].rotation),this.partialText=r[a].text,t.fillStrokeShape(this),"underline"===e&&(0===a&&t.moveTo(0,i/2+1),t.lineTo(i,i/2+1)),t.restore()}"underline"===e&&(t.strokeStyle=n,t.lineWidth=i/20,t.stroke()),t.restore()}_hitFunc(t){t.beginPath();var e=this.glyphInfo;if(e.length>=1){var n=e[0].p0;t.moveTo(n.x,n.y)}for(var i=0;i<e.length;i++){var r=e[i].p1;t.lineTo(r.x,r.y)}t.setAttr("lineWidth",this.fontSize()),t.setAttr("strokeStyle",this.colorKey),t.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return _i.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(t){return qr.prototype.setText.call(this,t)}_getContextFont(){return qr.prototype._getContextFont.call(this)}_getTextSize(t){var e=this.dummyCanvas.getContext("2d");e.save(),e.font=this._getContextFont();var n=e.measureText(t);return e.restore(),{width:n.width,height:parseInt(this.attrs.fontSize,10)}}_setTextData(){var t=this,e=this._getTextSize(this.attrs.text),n=this.letterSpacing(),i=this.align(),r=this.kerningFunc();this.textWidth=e.width,this.textHeight=e.height;var a=Math.max(this.textWidth+((this.attrs.text||"").length-1)*n,0);this.glyphInfo=[];for(var o=0,s=0;s<t.dataArray.length;s++)t.dataArray[s].pathLength>0&&(o+=t.dataArray[s].pathLength);var l=0;"center"===i&&(l=Math.max(0,o/2-a/2)),"right"===i&&(l=Math.max(0,o-a));for(var h,c,d,u=Hr(this.text()),f=this.text().split(" ").length-1,p=-1,g=0,m=function(){g=0;for(var e=t.dataArray,n=p+1;n<e.length;n++){if(e[n].pathLength>0)return p=n,e[n];"M"===e[n].command&&(h={x:e[n].points[0],y:e[n].points[1]})}return{}},v=function(e){var r=t._getTextSize(e).width+n;" "===e&&"justify"===i&&(r+=(o-a)/f);var s=0,l=0;for(c=void 0;Math.abs(r-s)/r>.01&&l<20;){l++;for(var u=s;void 0===d;)(d=m())&&u+d.pathLength<r&&(u+=d.pathLength,d=void 0);if(d==={}||void 0===h)return;var p=!1;switch(d.command){case"L":Ar.getLineLength(h.x,h.y,d.points[0],d.points[1])>r?c=Ar.getPointOnLine(r,h.x,h.y,d.points[0],d.points[1],h.x,h.y):d=void 0;break;case"A":var v=d.points[4],y=d.points[5],b=d.points[4]+y;0===g?g=v+1e-8:r>s?g+=Math.PI/180*y/Math.abs(y):g-=Math.PI/360*y/Math.abs(y),(y<0&&g<b||y>=0&&g>b)&&(g=b,p=!0),c=Ar.getPointOnEllipticalArc(d.points[0],d.points[1],d.points[2],d.points[3],g,d.points[6]);break;case"C":0===g?g=r>d.pathLength?1e-8:r/d.pathLength:r>s?g+=(r-s)/d.pathLength/2:g=Math.max(g-(s-r)/d.pathLength/2,0),g>1&&(g=1,p=!0),c=Ar.getPointOnCubicBezier(g,d.start.x,d.start.y,d.points[0],d.points[1],d.points[2],d.points[3],d.points[4],d.points[5]);break;case"Q":0===g?g=r/d.pathLength:r>s?g+=(r-s)/d.pathLength:g-=(s-r)/d.pathLength,g>1&&(g=1,p=!0),c=Ar.getPointOnQuadraticBezier(g,d.start.x,d.start.y,d.points[0],d.points[1],d.points[2],d.points[3])}void 0!==c&&(s=Ar.getLineLength(h.x,h.y,c.x,c.y)),p&&(p=!1,d=void 0)}},y=l/(t._getTextSize("C").width+n)-1,b=0;b<y&&(v("C"),void 0!==h&&void 0!==c);b++)h=c;for(var _=0;_<u.length&&(v(u[_]),void 0!==h&&void 0!==c);_++){var x=Ar.getLineLength(h.x,h.y,c.x,c.y),w=0;if(r)try{w=r(u[_-1],u[_])*this.fontSize()}catch(k){w=0}h.x+=w,c.x+=w,this.textWidth+=w;var S=Ar.getPointOnLine(w+x/2,h.x,h.y,c.x,c.y),C=Math.atan2(c.y-h.y,c.x-h.x);this.glyphInfo.push({transposeX:S.x,transposeY:S.y,text:u[_],rotation:C,p0:h,p1:c}),h=c}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};var t=[];this.glyphInfo.forEach((function(e){t.push(e.p0.x),t.push(e.p0.y),t.push(e.p1.x),t.push(e.p1.y)}));for(var e,n,i=t[0]||0,r=t[0]||0,a=t[1]||0,o=t[1]||0,s=0;s<t.length/2;s++)e=t[2*s],n=t[2*s+1],i=Math.min(i,e),r=Math.max(r,e),a=Math.min(a,n),o=Math.max(o,n);var l=this.fontSize();return{x:i-l/2,y:a-l/2,width:r-i+l,height:o-a+l}}}Kr.prototype._fillFunc=Xr,Kr.prototype._strokeFunc=Vr,Kr.prototype._fillFuncHit=Xr,Kr.prototype._strokeFuncHit=Vr,Kr.prototype.className="TextPath",Kr.prototype._attrsAffectingSize=["text","fontSize","data"],ui(Kr),Pi.addGetterSetter(Kr,"data"),Pi.addGetterSetter(Kr,"fontFamily","Arial"),Pi.addGetterSetter(Kr,"fontSize",12,Si()),Pi.addGetterSetter(Kr,"fontStyle","normal"),Pi.addGetterSetter(Kr,"align","left"),Pi.addGetterSetter(Kr,"letterSpacing",0,Si()),Pi.addGetterSetter(Kr,"textBaseline","middle"),Pi.addGetterSetter(Kr,"fontVariant","normal"),Pi.addGetterSetter(Kr,"text",""),Pi.addGetterSetter(Kr,"textDecoration",null),Pi.addGetterSetter(Kr,"kerningFunc",null);var Jr=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange"].map((t=>t+".tr-konva")).join(" "),Qr=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"].map((t=>t+".tr-konva")).join(" "),Zr={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135};const ta="ontouchstart"in di._global;var ea=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function na(t,e,n){const i=n.x+(t.x-n.x)*Math.cos(e)-(t.y-n.y)*Math.sin(e),r=n.y+(t.x-n.x)*Math.sin(e)+(t.y-n.y)*Math.cos(e);return Object.assign(Object.assign({},t),{rotation:t.rotation+e,x:i,y:r})}function ia(t,e){return na(t,e,function(t){return{x:t.x+t.width/2*Math.cos(t.rotation)+t.height/2*Math.sin(-t.rotation),y:t.y+t.height/2*Math.cos(t.rotation)+t.width/2*Math.sin(t.rotation)}}(t))}class ra extends fr{constructor(t){super(t),this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(Jr,this.update),this.getNode()&&this.update()}attachTo(t){return this.setNode(t),this}setNode(t){return _i.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([t])}getNode(){return this._nodes&&this._nodes[0]}setNodes(t=[]){return this._nodes&&this._nodes.length&&this.detach(),this._nodes=t,1===t.length&&this.useSingleNodeRotation()?this.rotation(t[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach((t=>{const e=t._attrsAffectingSize.map((t=>t+"Change.tr-konva")).join(" "),n=()=>{1===this.nodes().length&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),this._transforming||this.isDragging()||this.update()};t.on(e,n),t.on(Qr,n),t.on("absoluteTransformChange.tr-konva",n),t.on("xChange.tr-konva yChange.tr-konva",n),this._proxyDrag(t)})),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(t){let e;t.on("dragstart.tr-konva",(n=>{e=t.getAbsolutePosition(),this.isDragging()||t===this.findOne(".back")||this.startDrag(n,!1)})),t.on("dragmove.tr-konva",(n=>{if(!e)return;const i=t.getAbsolutePosition(),r=i.x-e.x,a=i.y-e.y;this.nodes().forEach((e=>{if(e===t)return;if(e.isDragging())return;const i=e.getAbsolutePosition();e.setAbsolutePosition({x:i.x+r,y:i.y+a}),e.startDrag(n)})),e=null}))}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach((t=>{t.off(".tr-konva")})),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache("nodesRect"),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache("nodesRect",this.__getNodeRect)}__getNodeShape(t,e=this.rotation(),n){var i=t.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),r=t.getAbsoluteScale(n),a=t.getAbsolutePosition(n),o=i.x*r.x-t.offsetX()*r.x,s=i.y*r.y-t.offsetY()*r.y;const l=(di.getAngle(t.getAbsoluteRotation())+2*Math.PI)%(2*Math.PI);return na({x:a.x+o*Math.cos(l)+s*Math.sin(-l),y:a.y+s*Math.cos(l)+o*Math.sin(l),width:i.width*r.x,height:i.height*r.y,rotation:l},-di.getAngle(e),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const t=[];this.nodes().map((e=>{const n=e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()});var i=[{x:n.x,y:n.y},{x:n.x+n.width,y:n.y},{x:n.x+n.width,y:n.y+n.height},{x:n.x,y:n.y+n.height}],r=e.getAbsoluteTransform();i.forEach((function(e){var n=r.point(e);t.push(n)}))}));const e=new fi;var n,i,r,a;e.rotate(-di.getAngle(this.rotation())),t.forEach((function(t){var o=e.point(t);void 0===n&&(n=r=o.x,i=a=o.y),n=Math.min(n,o.x),i=Math.min(i,o.y),r=Math.max(r,o.x),a=Math.max(a,o.y)})),e.invert();const o=e.point({x:n,y:i});return{x:o.x,y:o.y,width:r-n,height:a-i,rotation:di.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),ea.forEach(function(t){this._createAnchor(t)}.bind(this)),this._createAnchor("rotater")}_createAnchor(t){var e=new Rr({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:t+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:ta?10:"auto"}),n=this;e.on("mousedown touchstart",(function(t){n._handleMouseDown(t)})),e.on("dragstart",(t=>{e.stopDrag(),t.cancelBubble=!0})),e.on("dragend",(t=>{t.cancelBubble=!0})),e.on("mouseenter",(()=>{var n=di.getAngle(this.rotation()),i=function(t,e){if("rotater"===t)return"crosshair";e+=_i.degToRad(Zr[t]||0);var n=(_i.radToDeg(e)%360+360)%360;return _i._inRange(n,337.5,360)||_i._inRange(n,0,22.5)?"ns-resize":_i._inRange(n,22.5,67.5)?"nesw-resize":_i._inRange(n,67.5,112.5)?"ew-resize":_i._inRange(n,112.5,157.5)?"nwse-resize":_i._inRange(n,157.5,202.5)?"ns-resize":_i._inRange(n,202.5,247.5)?"nesw-resize":_i._inRange(n,247.5,292.5)?"ew-resize":_i._inRange(n,292.5,337.5)?"nwse-resize":(_i.error("Transformer has unknown angle for cursor detection: "+n),"pointer")}(t,n);e.getStage().content&&(e.getStage().content.style.cursor=i),this._cursorChange=!0})),e.on("mouseout",(()=>{e.getStage().content&&(e.getStage().content.style.cursor=""),this._cursorChange=!1})),this.add(e)}_createBack(){var t=new lr({name:"back",width:0,height:0,draggable:!0,sceneFunc(t){var e=this.getParent(),n=e.padding();t.beginPath(),t.rect(-n,-n,this.width()+2*n,this.height()+2*n),t.moveTo(this.width()/2,-n),e.rotateEnabled()&&t.lineTo(this.width()/2,-e.rotateAnchorOffset()*_i._sign(this.height())-n),t.fillStrokeShape(this)},hitFunc:(t,e)=>{if(this.shouldOverdrawWholeArea()){var n=this.padding();t.beginPath(),t.rect(-n,-n,e.width()+2*n,e.height()+2*n),t.fillStrokeShape(e)}}});this.add(t),this._proxyDrag(t),t.on("dragstart",(t=>{t.cancelBubble=!0})),t.on("dragmove",(t=>{t.cancelBubble=!0})),t.on("dragend",(t=>{t.cancelBubble=!0})),this.on("dragmove",(t=>{this.update()}))}_handleMouseDown(t){this._movingAnchorName=t.target.name().split(" ")[0];var e=this._getNodeRect(),n=e.width,i=e.height,r=Math.sqrt(Math.pow(n,2)+Math.pow(i,2));this.sin=Math.abs(i/r),this.cos=Math.abs(n/r),"undefined"!=typeof window&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;var a=t.target.getAbsolutePosition(),o=t.target.getStage().getPointerPosition();this._anchorDragOffset={x:o.x-a.x,y:o.y-a.y},this._fire("transformstart",{evt:t,target:this.getNode()}),this._nodes.forEach((e=>{e._fire("transformstart",{evt:t,target:e})}))}_handleMouseMove(t){var e,n,i,r=this.findOne("."+this._movingAnchorName),a=r.getStage();a.setPointersPositions(t);const o=a.getPointerPosition();var s={x:o.x-this._anchorDragOffset.x,y:o.y-this._anchorDragOffset.y};const l=r.getAbsolutePosition();r.setAbsolutePosition(s);const h=r.getAbsolutePosition();if(l.x!==h.x||l.y!==h.y)if("rotater"!==this._movingAnchorName){var c=this.keepRatio()||t.shiftKey,d=this.centeredScaling()||t.altKey;if("top-left"===this._movingAnchorName){if(c){var u=d?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};i=Math.sqrt(Math.pow(u.x-r.x(),2)+Math.pow(u.y-r.y(),2));var f=this.findOne(".top-left").x()>u.x?-1:1,p=this.findOne(".top-left").y()>u.y?-1:1;e=i*this.cos*f,n=i*this.sin*p,this.findOne(".top-left").x(u.x-e),this.findOne(".top-left").y(u.y-n)}}else if("top-center"===this._movingAnchorName)this.findOne(".top-left").y(r.y());else if("top-right"===this._movingAnchorName){if(c){u=d?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};i=Math.sqrt(Math.pow(r.x()-u.x,2)+Math.pow(u.y-r.y(),2));f=this.findOne(".top-right").x()<u.x?-1:1,p=this.findOne(".top-right").y()>u.y?-1:1;e=i*this.cos*f,n=i*this.sin*p,this.findOne(".top-right").x(u.x+e),this.findOne(".top-right").y(u.y-n)}var g=r.position();this.findOne(".top-left").y(g.y),this.findOne(".bottom-right").x(g.x)}else if("middle-left"===this._movingAnchorName)this.findOne(".top-left").x(r.x());else if("middle-right"===this._movingAnchorName)this.findOne(".bottom-right").x(r.x());else if("bottom-left"===this._movingAnchorName){if(c){u=d?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};i=Math.sqrt(Math.pow(u.x-r.x(),2)+Math.pow(r.y()-u.y,2));f=u.x<r.x()?-1:1,p=r.y()<u.y?-1:1;e=i*this.cos*f,n=i*this.sin*p,r.x(u.x-e),r.y(u.y+n)}g=r.position(),this.findOne(".top-left").x(g.x),this.findOne(".bottom-right").y(g.y)}else if("bottom-center"===this._movingAnchorName)this.findOne(".bottom-right").y(r.y());else if("bottom-right"===this._movingAnchorName){if(c){u=d?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};i=Math.sqrt(Math.pow(r.x()-u.x,2)+Math.pow(r.y()-u.y,2));f=this.findOne(".bottom-right").x()<u.x?-1:1,p=this.findOne(".bottom-right").y()<u.y?-1:1;e=i*this.cos*f,n=i*this.sin*p,this.findOne(".bottom-right").x(u.x+e),this.findOne(".bottom-right").y(u.y+n)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(d=this.centeredScaling()||t.altKey){var m=this.findOne(".top-left"),v=this.findOne(".bottom-right"),y=m.x(),b=m.y(),_=this.getWidth()-v.x(),x=this.getHeight()-v.y();v.move({x:-y,y:-b}),m.move({x:_,y:x})}var w=this.findOne(".top-left").getAbsolutePosition();e=w.x,n=w.y;var S=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),C=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:e,y:n,width:S,height:C,rotation:di.getAngle(this.rotation())},t)}else{var k=this._getNodeRect();e=r.x()-k.width/2,n=-r.y()+k.height/2;let i=Math.atan2(-n,e)+Math.PI/2;k.height<0&&(i-=Math.PI);const a=di.getAngle(this.rotation())+i,o=di.getAngle(this.rotationSnapTolerance()),s=ia(k,function(t,e,n){let i=e;for(let r=0;r<t.length;r++){const a=di.getAngle(t[r]),o=Math.abs(a-e)%(2*Math.PI);Math.min(o,2*Math.PI-o)<n&&(i=a)}return i}(this.rotationSnaps(),a,o)-k.rotation);this._fitNodesInto(s,t)}}_handleMouseUp(t){this._removeEvents(t)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(t){if(this._transforming){this._transforming=!1,"undefined"!=typeof window&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));var e=this.getNode();this._fire("transformend",{evt:t,target:e}),e&&this._nodes.forEach((e=>{e._fire("transformend",{evt:t,target:e})})),this._movingAnchorName=null}}_fitNodesInto(t,e){var n=this._getNodeRect();if(_i._inRange(t.width,2*-this.padding()-1,1))return void this.update();if(_i._inRange(t.height,2*-this.padding()-1,1))return void this.update();const i=this.flipEnabled();var r=new fi;if(r.rotate(di.getAngle(this.rotation())),this._movingAnchorName&&t.width<0&&this._movingAnchorName.indexOf("left")>=0){const e=r.point({x:2*-this.padding(),y:0});if(t.x+=e.x,t.y+=e.y,t.width+=2*this.padding(),this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=e.x,this._anchorDragOffset.y-=e.y,!i)return void this.update()}else if(this._movingAnchorName&&t.width<0&&this._movingAnchorName.indexOf("right")>=0){const e=r.point({x:2*this.padding(),y:0});if(this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=e.x,this._anchorDragOffset.y-=e.y,t.width+=2*this.padding(),!i)return void this.update()}if(this._movingAnchorName&&t.height<0&&this._movingAnchorName.indexOf("top")>=0){const e=r.point({x:0,y:2*-this.padding()});if(t.x+=e.x,t.y+=e.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=e.x,this._anchorDragOffset.y-=e.y,t.height+=2*this.padding(),!i)return void this.update()}else if(this._movingAnchorName&&t.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const e=r.point({x:0,y:2*this.padding()});if(this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=e.x,this._anchorDragOffset.y-=e.y,t.height+=2*this.padding(),!i)return void this.update()}if(this.boundBoxFunc()){const e=this.boundBoxFunc()(n,t);e?t=e:_i.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const a=1e7,o=new fi;o.translate(n.x,n.y),o.rotate(n.rotation),o.scale(n.width/a,n.height/a);const s=new fi;s.translate(t.x,t.y),s.rotate(t.rotation),s.scale(t.width/a,t.height/a);const l=s.multiply(o.invert());this._nodes.forEach((t=>{var n;const i=t.getParent().getAbsoluteTransform(),r=t.getTransform().copy();r.translate(t.offsetX(),t.offsetY());const a=new fi;a.multiply(i.copy().invert()).multiply(l).multiply(i).multiply(r);const o=a.decompose();t.setAttrs(o),this._fire("transform",{evt:e,target:t}),t._fire("transform",{evt:e,target:t}),null===(n=t.getLayer())||void 0===n||n.batchDraw()})),this.rotation(_i._getRotation(t.rotation)),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(t,e){this.findOne(t).setAttrs(e)}update(){var t,e=this._getNodeRect();this.rotation(_i._getRotation(e.rotation));var n=e.width,i=e.height,r=this.enabledAnchors(),a=this.resizeEnabled(),o=this.padding(),s=this.anchorSize();this.find("._anchor").forEach((t=>{t.setAttrs({width:s,height:s,offsetX:s/2,offsetY:s/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})})),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:s/2+o,offsetY:s/2+o,visible:a&&r.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:n/2,y:0,offsetY:s/2+o,visible:a&&r.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:n,y:0,offsetX:s/2-o,offsetY:s/2+o,visible:a&&r.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:i/2,offsetX:s/2+o,visible:a&&r.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:n,y:i/2,offsetX:s/2-o,visible:a&&r.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:i,offsetX:s/2+o,offsetY:s/2-o,visible:a&&r.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:n/2,y:i,offsetY:s/2-o,visible:a&&r.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:n,y:i,offsetX:s/2-o,offsetY:s/2-o,visible:a&&r.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:n/2,y:-this.rotateAnchorOffset()*_i._sign(i)-o,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:n,height:i,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0}),null===(t=this.getLayer())||void 0===t||t.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();var t=this.findOne("."+this._movingAnchorName);t&&t.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),fr.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return Hi.prototype.toObject.call(this)}}ra.prototype.className="Transformer",ui(ra),Pi.addGetterSetter(ra,"enabledAnchors",ea,(function(t){return t instanceof Array||_i.warn("enabledAnchors value should be an array"),t instanceof Array&&t.forEach((function(t){-1===ea.indexOf(t)&&_i.warn("Unknown anchor name: "+t+". Available names are: "+ea.join(", "))})),t||[]})),Pi.addGetterSetter(ra,"flipEnabled",!0,Ti()),Pi.addGetterSetter(ra,"resizeEnabled",!0),Pi.addGetterSetter(ra,"anchorSize",10,Si()),Pi.addGetterSetter(ra,"rotateEnabled",!0),Pi.addGetterSetter(ra,"rotationSnaps",[]),Pi.addGetterSetter(ra,"rotateAnchorOffset",50,Si()),Pi.addGetterSetter(ra,"rotationSnapTolerance",5,Si()),Pi.addGetterSetter(ra,"borderEnabled",!0),Pi.addGetterSetter(ra,"anchorStroke","rgb(0, 161, 255)"),Pi.addGetterSetter(ra,"anchorStrokeWidth",1,Si()),Pi.addGetterSetter(ra,"anchorFill","white"),Pi.addGetterSetter(ra,"anchorCornerRadius",0,Si()),Pi.addGetterSetter(ra,"borderStroke","rgb(0, 161, 255)"),Pi.addGetterSetter(ra,"borderStrokeWidth",1,Si()),Pi.addGetterSetter(ra,"borderDash"),Pi.addGetterSetter(ra,"keepRatio",!0),Pi.addGetterSetter(ra,"centeredScaling",!1),Pi.addGetterSetter(ra,"ignoreStroke",!1),Pi.addGetterSetter(ra,"padding",0,Si()),Pi.addGetterSetter(ra,"node"),Pi.addGetterSetter(ra,"nodes"),Pi.addGetterSetter(ra,"boundBoxFunc"),Pi.addGetterSetter(ra,"shouldOverdrawWholeArea",!1),Pi.addGetterSetter(ra,"useSingleNodeRotation",!0),Pi.backCompat(ra,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"});class aa extends lr{_sceneFunc(t){t.beginPath(),t.arc(0,0,this.radius(),0,di.getAngle(this.angle()),this.clockwise()),t.lineTo(0,0),t.closePath(),t.fillStrokeShape(this)}getWidth(){return 2*this.radius()}getHeight(){return 2*this.radius()}setWidth(t){this.radius(t/2)}setHeight(t){this.radius(t/2)}}function oa(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}aa.prototype.className="Wedge",aa.prototype._centroid=!0,aa.prototype._attrsAffectingSize=["radius"],ui(aa),Pi.addGetterSetter(aa,"radius",0,Si()),Pi.addGetterSetter(aa,"angle",0,Si()),Pi.addGetterSetter(aa,"clockwise",!1),Pi.backCompat(aa,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"});var sa=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],la=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];Pi.addGetterSetter(Hi,"blurRadius",0,Si(),Pi.afterSetFilter);Pi.addGetterSetter(Hi,"brightness",0,Si(),Pi.afterSetFilter);Pi.addGetterSetter(Hi,"contrast",0,Si(),Pi.afterSetFilter);function ha(t,e,n,i,r){var a=n-e,o=r-i;return 0===a?i+o/2:0===o?i:o*((t-e)/a)+i}Pi.addGetterSetter(Hi,"embossStrength",.5,Si(),Pi.afterSetFilter),Pi.addGetterSetter(Hi,"embossWhiteLevel",.5,Si(),Pi.afterSetFilter),Pi.addGetterSetter(Hi,"embossDirection","top-left",null,Pi.afterSetFilter),Pi.addGetterSetter(Hi,"embossBlend",!1,null,Pi.afterSetFilter);Pi.addGetterSetter(Hi,"enhance",0,Si(),Pi.afterSetFilter);Pi.addGetterSetter(Hi,"hue",0,Si(),Pi.afterSetFilter),Pi.addGetterSetter(Hi,"saturation",0,Si(),Pi.afterSetFilter),Pi.addGetterSetter(Hi,"luminance",0,Si(),Pi.afterSetFilter);Pi.addGetterSetter(Hi,"hue",0,Si(),Pi.afterSetFilter),Pi.addGetterSetter(Hi,"saturation",0,Si(),Pi.afterSetFilter),Pi.addGetterSetter(Hi,"value",0,Si(),Pi.afterSetFilter);function ca(t,e,n){var i=4*(n*t.width+e),r=[];return r.push(t.data[i++],t.data[i++],t.data[i++],t.data[i++]),r}function da(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2))}Pi.addGetterSetter(Hi,"kaleidoscopePower",2,Si(),Pi.afterSetFilter),Pi.addGetterSetter(Hi,"kaleidoscopeAngle",0,Si(),Pi.afterSetFilter);Pi.addGetterSetter(Hi,"threshold",0,Si(),Pi.afterSetFilter);Pi.addGetterSetter(Hi,"noise",.2,Si(),Pi.afterSetFilter);Pi.addGetterSetter(Hi,"pixelSize",8,Si(),Pi.afterSetFilter);Pi.addGetterSetter(Hi,"levels",.5,Si(),Pi.afterSetFilter);Pi.addGetterSetter(Hi,"red",0,(function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)})),Pi.addGetterSetter(Hi,"green",0,(function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)})),Pi.addGetterSetter(Hi,"blue",0,wi,Pi.afterSetFilter);Pi.addGetterSetter(Hi,"red",0,(function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)})),Pi.addGetterSetter(Hi,"green",0,(function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)})),Pi.addGetterSetter(Hi,"blue",0,wi,Pi.afterSetFilter),Pi.addGetterSetter(Hi,"alpha",1,(function(t){return this._filterUpToDate=!1,t>1?1:t<0?0:t}));Pi.addGetterSetter(Hi,"threshold",.5,Si(),Pi.afterSetFilter);const ua=wr.Util._assign(wr,{Arc:Sr,Arrow:Tr,Circle:Pr,Ellipse:Dr,Image:Er,Label:$r,Tag:Ir,Line:Mr,Path:Ar,Rect:Rr,RegularPolygon:Nr,Ring:Gr,Sprite:jr,Star:Br,Text:qr,TextPath:Kr,Transformer:ra,Wedge:aa,Filters:{Blur:function(t){var e=Math.round(this.blurRadius());e>0&&function(t,e){var n,i,r,a,o,s,l,h,c,d,u,f,p,g,m,v,y,b,_,x,w,S,C,k,M=t.data,A=t.width,T=t.height,P=e+e+1,D=A-1,E=T-1,O=e+1,L=O*(O+1)/2,$=new oa,I=null,R=$,N=null,F=null,G=sa[e],j=la[e];for(r=1;r<P;r++)R=R.next=new oa,r===O&&(I=R);for(R.next=$,l=s=0,i=0;i<T;i++){for(v=y=b=_=h=c=d=u=0,f=O*(x=M[s]),p=O*(w=M[s+1]),g=O*(S=M[s+2]),m=O*(C=M[s+3]),h+=L*x,c+=L*w,d+=L*S,u+=L*C,R=$,r=0;r<O;r++)R.r=x,R.g=w,R.b=S,R.a=C,R=R.next;for(r=1;r<O;r++)a=s+((D<r?D:r)<<2),h+=(R.r=x=M[a])*(k=O-r),c+=(R.g=w=M[a+1])*k,d+=(R.b=S=M[a+2])*k,u+=(R.a=C=M[a+3])*k,v+=x,y+=w,b+=S,_+=C,R=R.next;for(N=$,F=I,n=0;n<A;n++)M[s+3]=C=u*G>>j,0!==C?(C=255/C,M[s]=(h*G>>j)*C,M[s+1]=(c*G>>j)*C,M[s+2]=(d*G>>j)*C):M[s]=M[s+1]=M[s+2]=0,h-=f,c-=p,d-=g,u-=m,f-=N.r,p-=N.g,g-=N.b,m-=N.a,a=l+((a=n+e+1)<D?a:D)<<2,h+=v+=N.r=M[a],c+=y+=N.g=M[a+1],d+=b+=N.b=M[a+2],u+=_+=N.a=M[a+3],N=N.next,f+=x=F.r,p+=w=F.g,g+=S=F.b,m+=C=F.a,v-=x,y-=w,b-=S,_-=C,F=F.next,s+=4;l+=A}for(n=0;n<A;n++){for(y=b=_=v=c=d=u=h=0,f=O*(x=M[s=n<<2]),p=O*(w=M[s+1]),g=O*(S=M[s+2]),m=O*(C=M[s+3]),h+=L*x,c+=L*w,d+=L*S,u+=L*C,R=$,r=0;r<O;r++)R.r=x,R.g=w,R.b=S,R.a=C,R=R.next;for(o=A,r=1;r<=e;r++)s=o+n<<2,h+=(R.r=x=M[s])*(k=O-r),c+=(R.g=w=M[s+1])*k,d+=(R.b=S=M[s+2])*k,u+=(R.a=C=M[s+3])*k,v+=x,y+=w,b+=S,_+=C,R=R.next,r<E&&(o+=A);for(s=n,N=$,F=I,i=0;i<T;i++)M[3+(a=s<<2)]=C=u*G>>j,C>0?(C=255/C,M[a]=(h*G>>j)*C,M[a+1]=(c*G>>j)*C,M[a+2]=(d*G>>j)*C):M[a]=M[a+1]=M[a+2]=0,h-=f,c-=p,d-=g,u-=m,f-=N.r,p-=N.g,g-=N.b,m-=N.a,a=n+((a=i+O)<E?a:E)*A<<2,h+=v+=N.r=M[a],c+=y+=N.g=M[a+1],d+=b+=N.b=M[a+2],u+=_+=N.a=M[a+3],N=N.next,f+=x=F.r,p+=w=F.g,g+=S=F.b,m+=C=F.a,v-=x,y-=w,b-=S,_-=C,F=F.next,s+=A}}(t,e)},Brighten:function(t){var e,n=255*this.brightness(),i=t.data,r=i.length;for(e=0;e<r;e+=4)i[e]+=n,i[e+1]+=n,i[e+2]+=n},Contrast:function(t){var e,n=Math.pow((this.contrast()+100)/100,2),i=t.data,r=i.length,a=150,o=150,s=150;for(e=0;e<r;e+=4)a=i[e],o=i[e+1],s=i[e+2],a/=255,a-=.5,a*=n,a+=.5,o/=255,o-=.5,o*=n,o+=.5,s/=255,s-=.5,s*=n,s+=.5,a=(a*=255)<0?0:a>255?255:a,o=(o*=255)<0?0:o>255?255:o,s=(s*=255)<0?0:s>255?255:s,i[e]=a,i[e+1]=o,i[e+2]=s},Emboss:function(t){var e=10*this.embossStrength(),n=255*this.embossWhiteLevel(),i=this.embossDirection(),r=this.embossBlend(),a=0,o=0,s=t.data,l=t.width,h=t.height,c=4*l,d=h;switch(i){case"top-left":a=-1,o=-1;break;case"top":a=-1,o=0;break;case"top-right":a=-1,o=1;break;case"right":a=0,o=1;break;case"bottom-right":a=1,o=1;break;case"bottom":a=1,o=0;break;case"bottom-left":a=1,o=-1;break;case"left":a=0,o=-1;break;default:_i.error("Unknown emboss direction: "+i)}do{var u=(d-1)*c,f=a;d+f<1&&(f=0),d+f>h&&(f=0);var p=(d-1+f)*l*4,g=l;do{var m=u+4*(g-1),v=o;g+v<1&&(v=0),g+v>l&&(v=0);var y=p+4*(g-1+v),b=s[m]-s[y],_=s[m+1]-s[y+1],x=s[m+2]-s[y+2],w=b,S=w>0?w:-w;if((_>0?_:-_)>S&&(w=_),(x>0?x:-x)>S&&(w=x),w*=e,r){var C=s[m]+w,k=s[m+1]+w,M=s[m+2]+w;s[m]=C>255?255:C<0?0:C,s[m+1]=k>255?255:k<0?0:k,s[m+2]=M>255?255:M<0?0:M}else{var A=n-w;A<0?A=0:A>255&&(A=255),s[m]=s[m+1]=s[m+2]=A}}while(--g)}while(--d)},Enhance:function(t){var e,n,i,r,a=t.data,o=a.length,s=a[0],l=s,h=a[1],c=h,d=a[2],u=d,f=this.enhance();if(0!==f){for(r=0;r<o;r+=4)(e=a[r+0])<s?s=e:e>l&&(l=e),(n=a[r+1])<h?h=n:n>c&&(c=n),(i=a[r+2])<d?d=i:i>u&&(u=i);var p,g,m,v,y,b,_,x,w;for(l===s&&(l=255,s=0),c===h&&(c=255,h=0),u===d&&(u=255,d=0),f>0?(g=l+f*(255-l),m=s-f*(s-0),y=c+f*(255-c),b=h-f*(h-0),x=u+f*(255-u),w=d-f*(d-0)):(g=l+f*(l-(p=.5*(l+s))),m=s+f*(s-p),y=c+f*(c-(v=.5*(c+h))),b=h+f*(h-v),x=u+f*(u-(_=.5*(u+d))),w=d+f*(d-_)),r=0;r<o;r+=4)a[r+0]=ha(a[r+0],s,l,m,g),a[r+1]=ha(a[r+1],h,c,b,y),a[r+2]=ha(a[r+2],d,u,w,x)}},Grayscale:function(t){var e,n,i=t.data,r=i.length;for(e=0;e<r;e+=4)n=.34*i[e]+.5*i[e+1]+.16*i[e+2],i[e]=n,i[e+1]=n,i[e+2]=n},HSL:function(t){var e,n,i,r,a,o=t.data,s=o.length,l=Math.pow(2,this.saturation()),h=Math.abs(this.hue()+360)%360,c=127*this.luminance(),d=1*l*Math.cos(h*Math.PI/180),u=1*l*Math.sin(h*Math.PI/180),f=.299+.701*d+.167*u,p=.587-.587*d+.33*u,g=.114-.114*d-.497*u,m=.299-.299*d-.328*u,v=.587+.413*d+.035*u,y=.114-.114*d+.293*u,b=.299-.3*d+1.25*u,_=.587-.586*d-1.05*u,x=.114+.886*d-.2*u;for(e=0;e<s;e+=4)n=o[e+0],i=o[e+1],r=o[e+2],a=o[e+3],o[e+0]=f*n+p*i+g*r+c,o[e+1]=m*n+v*i+y*r+c,o[e+2]=b*n+_*i+x*r+c,o[e+3]=a},HSV:function(t){var e,n,i,r,a,o=t.data,s=o.length,l=Math.pow(2,this.value()),h=Math.pow(2,this.saturation()),c=Math.abs(this.hue()+360)%360,d=l*h*Math.cos(c*Math.PI/180),u=l*h*Math.sin(c*Math.PI/180),f=.299*l+.701*d+.167*u,p=.587*l-.587*d+.33*u,g=.114*l-.114*d-.497*u,m=.299*l-.299*d-.328*u,v=.587*l+.413*d+.035*u,y=.114*l-.114*d+.293*u,b=.299*l-.3*d+1.25*u,_=.587*l-.586*d-1.05*u,x=.114*l+.886*d-.2*u;for(e=0;e<s;e+=4)n=o[e+0],i=o[e+1],r=o[e+2],a=o[e+3],o[e+0]=f*n+p*i+g*r,o[e+1]=m*n+v*i+y*r,o[e+2]=b*n+_*i+x*r,o[e+3]=a},Invert:function(t){var e,n=t.data,i=n.length;for(e=0;e<i;e+=4)n[e]=255-n[e],n[e+1]=255-n[e+1],n[e+2]=255-n[e+2]},Kaleidoscope:function(t){var e,n,i,r,a,o,s,l,h,c=t.width,d=t.height,u=Math.round(this.kaleidoscopePower()),f=Math.round(this.kaleidoscopeAngle()),p=Math.floor(c*(f%360)/360);if(!(u<1)){var g=_i.createCanvasElement();g.width=c,g.height=d;var m=g.getContext("2d").getImageData(0,0,c,d);!function(t,e,n){var i,r,a,o,s=t.data,l=e.data,h=t.width,c=t.height,d=n.polarCenterX||h/2,u=n.polarCenterY||c/2,f=0,p=0,g=0,m=0,v=Math.sqrt(d*d+u*u);r=h-d,a=c-u,v=(o=Math.sqrt(r*r+a*a))>v?o:v;var y,b,_,x,w=c,S=h,C=360/S*Math.PI/180;for(b=0;b<S;b+=1)for(_=Math.sin(b*C),x=Math.cos(b*C),y=0;y<w;y+=1)r=Math.floor(d+v*y/w*x),f=s[0+(i=4*((a=Math.floor(u+v*y/w*_))*h+r))],p=s[i+1],g=s[i+2],m=s[i+3],l[0+(i=4*(b+y*h))]=f,l[i+1]=p,l[i+2]=g,l[i+3]=m}(t,m,{polarCenterX:c/2,polarCenterY:d/2});for(var v=c/Math.pow(2,u);v<=8;)v*=2,u-=1;var y=v=Math.ceil(v),b=0,_=y,x=1;for(p+v>c&&(b=y,_=0,x=-1),n=0;n<d;n+=1)for(e=b;e!==_;e+=x)l=4*(c*n+Math.round(e+p)%c),r=m.data[l+0],a=m.data[l+1],o=m.data[l+2],s=m.data[l+3],h=4*(c*n+e),m.data[h+0]=r,m.data[h+1]=a,m.data[h+2]=o,m.data[h+3]=s;for(n=0;n<d;n+=1)for(y=Math.floor(v),i=0;i<u;i+=1){for(e=0;e<y+1;e+=1)l=4*(c*n+e),r=m.data[l+0],a=m.data[l+1],o=m.data[l+2],s=m.data[l+3],h=4*(c*n+2*y-e-1),m.data[h+0]=r,m.data[h+1]=a,m.data[h+2]=o,m.data[h+3]=s;y*=2}!function(t,e,n){var i,r,a,o,s,l,h=t.data,c=e.data,d=t.width,u=t.height,f=n.polarCenterX||d/2,p=n.polarCenterY||u/2,g=0,m=0,v=0,y=0,b=Math.sqrt(f*f+p*p);r=d-f,a=u-p,b=(l=Math.sqrt(r*r+a*a))>b?l:b;var _,x,w,S=u,C=d,k=n.polarRotation||0;for(r=0;r<d;r+=1)for(a=0;a<u;a+=1)o=r-f,s=a-p,_=Math.sqrt(o*o+s*s)*S/b,x=(x=(180*Math.atan2(s,o)/Math.PI+360+k)%360)*C/360,w=Math.floor(x),g=h[0+(i=4*(Math.floor(_)*d+w))],m=h[i+1],v=h[i+2],y=h[i+3],c[0+(i=4*(a*d+r))]=g,c[i+1]=m,c[i+2]=v,c[i+3]=y}(m,t,{polarRotation:0})}},Mask:function(t){var e=function(t,e){var n=ca(t,0,0),i=ca(t,t.width-1,0),r=ca(t,0,t.height-1),a=ca(t,t.width-1,t.height-1),o=e||10;if(da(n,i)<o&&da(i,a)<o&&da(a,r)<o&&da(r,n)<o){for(var s=function(t){for(var e=[0,0,0],n=0;n<t.length;n++)e[0]+=t[n][0],e[1]+=t[n][1],e[2]+=t[n][2];return e[0]/=t.length,e[1]/=t.length,e[2]/=t.length,e}([i,n,a,r]),l=[],h=0;h<t.width*t.height;h++){var c=da(s,[t.data[4*h],t.data[4*h+1],t.data[4*h+2]]);l[h]=c<o?0:255}return l}}(t,this.threshold());return e&&function(t,e){for(var n=0;n<t.width*t.height;n++)t.data[4*n+3]=e[n]}(t,e=function(t,e,n){for(var i=[1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9],r=Math.round(Math.sqrt(i.length)),a=Math.floor(r/2),o=[],s=0;s<n;s++)for(var l=0;l<e;l++){for(var h=s*e+l,c=0,d=0;d<r;d++)for(var u=0;u<r;u++){var f=s+d-a,p=l+u-a;if(f>=0&&f<n&&p>=0&&p<e){var g=i[d*r+u];c+=t[f*e+p]*g}}o[h]=c}return o}(e=function(t,e,n){for(var i=[1,1,1,1,1,1,1,1,1],r=Math.round(Math.sqrt(i.length)),a=Math.floor(r/2),o=[],s=0;s<n;s++)for(var l=0;l<e;l++){for(var h=s*e+l,c=0,d=0;d<r;d++)for(var u=0;u<r;u++){var f=s+d-a,p=l+u-a;if(f>=0&&f<n&&p>=0&&p<e){var g=i[d*r+u];c+=t[f*e+p]*g}}o[h]=c>=1020?255:0}return o}(e=function(t,e,n){for(var i=[1,1,1,1,0,1,1,1,1],r=Math.round(Math.sqrt(i.length)),a=Math.floor(r/2),o=[],s=0;s<n;s++)for(var l=0;l<e;l++){for(var h=s*e+l,c=0,d=0;d<r;d++)for(var u=0;u<r;u++){var f=s+d-a,p=l+u-a;if(f>=0&&f<n&&p>=0&&p<e){var g=i[d*r+u];c+=t[f*e+p]*g}}o[h]=2040===c?255:0}return o}(e,t.width,t.height),t.width,t.height),t.width,t.height)),t},Noise:function(t){var e,n=255*this.noise(),i=t.data,r=i.length,a=n/2;for(e=0;e<r;e+=4)i[e+0]+=a-2*a*Math.random(),i[e+1]+=a-2*a*Math.random(),i[e+2]+=a-2*a*Math.random()},Pixelate:function(t){var e,n,i,r,a,o,s,l,h,c,d,u,f,p,g=Math.ceil(this.pixelSize()),m=t.width,v=t.height,y=Math.ceil(m/g),b=Math.ceil(v/g),_=t.data;if(g<=0)_i.error("pixelSize value can not be <= 0");else for(u=0;u<y;u+=1)for(f=0;f<b;f+=1){for(r=0,a=0,o=0,s=0,h=(l=u*g)+g,d=(c=f*g)+g,p=0,e=l;e<h;e+=1)if(!(e>=m))for(n=c;n<d;n+=1)n>=v||(r+=_[(i=4*(m*n+e))+0],a+=_[i+1],o+=_[i+2],s+=_[i+3],p+=1);for(r/=p,a/=p,o/=p,s/=p,e=l;e<h;e+=1)if(!(e>=m))for(n=c;n<d;n+=1)n>=v||(_[(i=4*(m*n+e))+0]=r,_[i+1]=a,_[i+2]=o,_[i+3]=s)}},Posterize:function(t){var e,n=Math.round(254*this.levels())+1,i=t.data,r=i.length,a=255/n;for(e=0;e<r;e+=1)i[e]=Math.floor(i[e]/a)*a},RGB:function(t){var e,n,i=t.data,r=i.length,a=this.red(),o=this.green(),s=this.blue();for(e=0;e<r;e+=4)n=(.34*i[e]+.5*i[e+1]+.16*i[e+2])/255,i[e]=n*a,i[e+1]=n*o,i[e+2]=n*s,i[e+3]=i[e+3]},RGBA:function(t){var e,n,i=t.data,r=i.length,a=this.red(),o=this.green(),s=this.blue(),l=this.alpha();for(e=0;e<r;e+=4)n=1-l,i[e]=a*l+i[e]*n,i[e+1]=o*l+i[e+1]*n,i[e+2]=s*l+i[e+2]*n},Sepia:function(t){var e,n,i,r,a=t.data,o=a.length;for(e=0;e<o;e+=4)n=a[e+0],i=a[e+1],r=a[e+2],a[e+0]=Math.min(255,.393*n+.769*i+.189*r),a[e+1]=Math.min(255,.349*n+.686*i+.168*r),a[e+2]=Math.min(255,.272*n+.534*i+.131*r)},Solarize:function(t){var e=t.data,n=t.width,i=4*n,r=t.height;do{var a=(r-1)*i,o=n;do{var s=a+4*(o-1),l=e[s],h=e[s+1],c=e[s+2];l>127&&(l=255-l),h>127&&(h=255-h),c>127&&(c=255-c),e[s]=l,e[s+1]=h,e[s+2]=c}while(--o)}while(--r)},Threshold:function(t){var e,n=255*this.threshold(),i=t.data,r=i.length;for(e=0;e<r;e+=1)i[e]=i[e]<n?0:255}}});function fa(t){return null!=t&&"object"==typeof t&&!0===t["@@functional/placeholder"]}function pa(t){return function e(n){return 0===arguments.length||fa(n)?e:t.apply(this,arguments)}}function ga(t){return function e(n,i){switch(arguments.length){case 0:return e;case 1:return fa(n)?e:pa((function(e){return t(n,e)}));default:return fa(n)&&fa(i)?e:fa(n)?pa((function(e){return t(e,i)})):fa(i)?pa((function(e){return t(n,e)})):t(n,i)}}}function ma(t,e){switch(t){case 0:return function(){return e.apply(this,arguments)};case 1:return function(t){return e.apply(this,arguments)};case 2:return function(t,n){return e.apply(this,arguments)};case 3:return function(t,n,i){return e.apply(this,arguments)};case 4:return function(t,n,i,r){return e.apply(this,arguments)};case 5:return function(t,n,i,r,a){return e.apply(this,arguments)};case 6:return function(t,n,i,r,a,o){return e.apply(this,arguments)};case 7:return function(t,n,i,r,a,o,s){return e.apply(this,arguments)};case 8:return function(t,n,i,r,a,o,s,l){return e.apply(this,arguments)};case 9:return function(t,n,i,r,a,o,s,l,h){return e.apply(this,arguments)};case 10:return function(t,n,i,r,a,o,s,l,h,c){return e.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}function va(t,e,n){return function(){for(var i=[],r=0,a=t,o=0;o<e.length||r<arguments.length;){var s;o<e.length&&(!fa(e[o])||r>=arguments.length)?s=e[o]:(s=arguments[r],r+=1),i[o]=s,fa(s)||(a-=1),o+=1}return a<=0?n.apply(this,i):ma(a,va(t,i,n))}}var ya=ga((function(t,e){return 1===t?pa(e):ma(t,va(t,[],e))}));function ba(t){return function e(n,i,r){switch(arguments.length){case 0:return e;case 1:return fa(n)?e:ga((function(e,i){return t(n,e,i)}));case 2:return fa(n)&&fa(i)?e:fa(n)?ga((function(e,n){return t(e,i,n)})):fa(i)?ga((function(e,i){return t(n,e,i)})):pa((function(e){return t(n,i,e)}));default:return fa(n)&&fa(i)&&fa(r)?e:fa(n)&&fa(i)?ga((function(e,n){return t(e,n,r)})):fa(n)&&fa(r)?ga((function(e,n){return t(e,i,n)})):fa(i)&&fa(r)?ga((function(e,i){return t(n,e,i)})):fa(n)?pa((function(e){return t(e,i,r)})):fa(i)?pa((function(e){return t(n,e,r)})):fa(r)?pa((function(e){return t(n,i,e)})):t(n,i,r)}}}var _a=Array.isArray||function(t){return null!=t&&t.length>=0&&"[object Array]"===Object.prototype.toString.call(t)};function xa(t){return null!=t&&"function"==typeof t["@@transducer/step"]}function wa(t,e,n){return function(){if(0===arguments.length)return n();var i=Array.prototype.slice.call(arguments,0),r=i.pop();if(!_a(r)){for(var a=0;a<t.length;){if("function"==typeof r[t[a]])return r[t[a]].apply(r,i);a+=1}if(xa(r)){var o=e.apply(null,i);return o(r)}}return n.apply(this,arguments)}}var Sa=function(){return this.xf["@@transducer/init"]()},Ca=function(t){return this.xf["@@transducer/result"](t)};var ka=pa((function(t){return!!_a(t)||!!t&&("object"==typeof t&&(!function(t){return"[object String]"===Object.prototype.toString.call(t)}(t)&&(1===t.nodeType?!!t.length:0===t.length||t.length>0&&(t.hasOwnProperty(0)&&t.hasOwnProperty(t.length-1)))))})),Ma=function(){function t(t){this.f=t}return t.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},t.prototype["@@transducer/result"]=function(t){return t},t.prototype["@@transducer/step"]=function(t,e){return this.f(t,e)},t}();var Aa=ga((function(t,e){return ma(t.length,(function(){return t.apply(e,arguments)}))}));function Ta(t,e,n){for(var i=n.next();!i.done;){if((e=t["@@transducer/step"](e,i.value))&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}i=n.next()}return t["@@transducer/result"](e)}function Pa(t,e,n,i){return t["@@transducer/result"](n[i](Aa(t["@@transducer/step"],t),e))}var Da="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";function Ea(t,e,n){if("function"==typeof t&&(t=function(t){return new Ma(t)}(t)),ka(n))return function(t,e,n){for(var i=0,r=n.length;i<r;){if((e=t["@@transducer/step"](e,n[i]))&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}i+=1}return t["@@transducer/result"](e)}(t,e,n);if("function"==typeof n["fantasy-land/reduce"])return Pa(t,e,n,"fantasy-land/reduce");if(null!=n[Da])return Ta(t,e,n[Da]());if("function"==typeof n.next)return Ta(t,e,n);if("function"==typeof n.reduce)return Pa(t,e,n,"reduce");throw new TypeError("reduce: list must be array or iterable")}var Oa=ba(Ea),La=pa((function(t){return ya(t.length,t)}));function $a(t,e){return function(){return e.call(this,t.apply(this,arguments))}}function Ia(t,e){return function(){var n=arguments.length;if(0===n)return e();var i=arguments[n-1];return _a(i)||"function"!=typeof i[t]?e.apply(this,arguments):i[t].apply(i,Array.prototype.slice.call(arguments,0,n-1))}}var Ra=pa(Ia("tail",ba(Ia("slice",(function(t,e,n){return Array.prototype.slice.call(n,t,e)})))(1,1/0)));function Na(){if(0===arguments.length)throw new Error("pipe requires at least one argument");return ma(arguments[0].length,Oa($a,arguments[0],Ra(arguments)))}var Fa=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype["@@transducer/init"]=Sa,t.prototype["@@transducer/result"]=Ca,t.prototype["@@transducer/step"]=function(t,e){return this.f(e),this.xf["@@transducer/step"](t,e)},t}(),Ga=ga(wa([],ga((function(t,e){return new Fa(t,e)})),(function(t,e){return t(e),e})));async function ja(t){if(!/(\.then|import\(.+\)|vitePreload|_+import_+)/i.test(t.toString()))return t;try{return(await t()).default}catch(e){return console.warn(`[Easyroute] caught an error while trying to download async component: "${e.message}"`),t}}const Ba=t=>t.replace(/^\//,""),Ha=t=>t.replace(/\/$/,""),Ya=t=>Ba(Ha(t)),za=()=>Math.random().toString(36).substr(2,9);function Wa(t,e=null,n=0,i="/"){return t.reduce(((t,r)=>{var a;const o=r.component&&{component:r.component}||r.components&&{components:r.components},s=Ya(i)+"/"+Ya(r.path),{pattern:l,keys:d}=function(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,i,r,a,o=[],s="",l=t.split("/");for(l[0]||l.shift();r=l.shift();)"*"===(n=r[0])?(o.push("wild"),s+="/(.*)"):":"===n?(i=r.indexOf("?",1),a=r.indexOf(".",1),o.push(r.substring(1,~i?i:~a?a:r.length)),s+=~i&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(s+=(~i?"?":"")+"\\"+r.substring(a))):s+="/"+r;return{keys:o,pattern:new RegExp("^"+s+(e?"(?=$|/)":"/?$"),"i")}}(s),u=c(h(h({},r),o),{parentId:e,nestingDepth:n,path:s,id:za(),regexpPath:l,pathKeys:d});return Array.isArray(r.children)&&(t=t.concat(Wa(null!==(a=u.children)&&void 0!==a?a:[],u.id,n+1,u.path))),t.concat(u)}),[])}function Ua(t){const e={};let n=t;return{get getValue(){return n},subscribe(t){const i=za();return e[i]=t,t(n),()=>delete e[i]},set(t){n=t,Object.values(e).forEach((e=>e(t)))}}}function qa(t){try{return decodeURIComponent(t)}catch(e){console.warn(`[Easyroute] Could not decode query string: ${t}`)}return t}function Xa(t){const e={};return"string"!=typeof t?e:(t=t.trim().replace(/^(\?|#|&)/,""))?(t.split("&").forEach((t=>{const n=t.replace(/\+/g," ").split("="),i=qa(n.shift()),r=n.length>0?qa(n.join("=")):null;void 0===e[i]?e[i]=r:Array.isArray(e[i])?null!==r&&e[i].push(r):null!==r&&(e[i]=[e[i],r])})),e):e}function Va(t,e){let n=t.regexpPath.exec(e);if(!n)return{};n=n.slice(1,n.length);const i={};for(let r=0;r<n.length;r++){const e=n[r],a=t.pathKeys[r];i[String(a)]=e}return i}function Ka(t,e){var n;const i=t.filter(Boolean)[0];if(!i)return{params:{},query:{},fullPath:""};const[r,a]=e.split("?");return{params:Va(i,r),query:Xa(a),name:i.name,fullPath:e,meta:null!==(n=i.meta)&&void 0!==n?n:{}}}const Ja=!("undefined"!=typeof window&&void 0!==window.document);class Qa{constructor(t){if(this.settings=t,this.routes=[],this.ignoreEvents=!1,this.currentUrl="",this.beforeEachHooks=[],this.afterEachHooks=[],this.modeName="hash",this.transitionOutHooks=[],this.currentMatched=Ua([]),this.currentRouteData=Ua({params:{},query:{},name:"",fullPath:""}),this.currentRouteFromData=Ua(null),this.silentControl=void 0,!t.mode)throw new ReferenceError('[Easyroute] Router mode is not defined: pass a function into "settings.mode"');if(this.routes=Wa(t.routes),t.mode.call(this),Ja&&"history"!==this.modeName)throw new Error('[Easyroute] SSR only works with "history" router mode')}async parseRoute(t,e=!0){t=t.replace(/^#/,"");const n=function(t,e){const n=[],i=[],r=[];return t.forEach((i=>{i.regexpPath.test(e)&&n.push(...function(t,e){var n;if(!e)return[];const i=[e];let r=e.parentId;do{const e=t.find((t=>t.id===r));e&&i.push(e),r=null!==(n=null==e?void 0:e.parentId)&&void 0!==n?n:null}while(r);return i}(t,i))})),n.filter((t=>!i.includes(t.id)&&!r.includes(t.nestingDepth)&&(i.push(t.id),r.push(t.nestingDepth),!0))).sort(((t,e)=>e.nestingDepth-t.nestingDepth))}(this.routes,t.split("?")[0]);if(!n)return;const i=Ka([n[0]],t),r=Ka([this.currentMatched.getValue[0]],this.currentUrl);await this.runHooksArray([...this.beforeEachHooks,...n.map((t=>t.beforeEnter)).filter(Boolean)],i,r,"before")&&(this.changeUrl(function(t,e,n=!1){return n&&t.split("?")[0].length>1&&(t=(t=>t.replace(/(\/\?)/,"?"))(Ha(t))),!e||t.includes(e)?t:`/${Ha(e)}/${Ba(t)}`}(t,this.base,this.settings.omitTrailingSlash),e,i),this.currentRouteData.set(i),this.currentRouteFromData.set(r),this.currentMatched.set(await async function(t){const e=t.map((async t=>{if(t.component&&(t.component=await ja(t.component)),t.components)for await(const e of Object.entries(t.components)){const[n,i]=e;t.components[n]=await ja(i)}return t}));return await Promise.all(e)}(n)),this.runHooksArray(this.afterEachHooks,i,r,"after"))}async executeHook(t,e,n,i){return"after"===i?n(t,e):new Promise((async i=>{n?await n(t,e,(t=>{null!=t?(!1===t&&i(!1),"string"==typeof t&&(this.parseRoute(t),i(!1))):i(!0)})):i(!0)}))}async push(t){this.ignoreEvents=!0,await this.parseRoute(t)}back(){this.go(-1)}beforeEach(t){this.beforeEachHooks.push(t)}afterEach(t){this.afterEachHooks.push(t)}transitionOut(t){this.transitionOutHooks.push(t)}async runHooksArray(t,e,n,i){for await(const r of t){if(!(await this.executeHook(e,n,r,i)))return!1}return!0}get base(){return this.settings.base?Ya(this.settings.base)+"/":""}get currentRoute(){return this.currentRouteData.getValue}}const Za=(t,e)=>Boolean(e)?t.replace(e,""):t,to=!Nn();function eo(){this.modeName="history",this.changeUrl=function(t,e=!0){e&&!to&&window.history.pushState({url:t},t,t)},this.go=function(t){window.history.go(t)},to||(Promise.resolve().then((()=>{var t;this.parseRoute(Za(`${t=window.location.pathname,t.replace(/\/$/,"")}/${window.location.search}`,this.base),!0)})),window.addEventListener("popstate",(t=>{t.state?this.parseRoute(Za(t.state.url,this.base),!1):this.parseRoute("/",!1)})))}var no="undefined"!=typeof Symbol&&Symbol,io=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),n=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var i=Object.getOwnPropertySymbols(t);if(1!==i.length||i[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var r=Object.getOwnPropertyDescriptor(t,e);if(42!==r.value||!0!==r.enumerable)return!1}return!0},ro="Function.prototype.bind called on incompatible ",ao=Array.prototype.slice,oo=Object.prototype.toString,so=function(t){var e=this;if("function"!=typeof e||"[object Function]"!==oo.call(e))throw new TypeError(ro+e);for(var n,i=ao.call(arguments,1),r=function(){if(this instanceof n){var r=e.apply(this,i.concat(ao.call(arguments)));return Object(r)===r?r:this}return e.apply(t,i.concat(ao.call(arguments)))},a=Math.max(0,e.length-i.length),o=[],s=0;s<a;s++)o.push("$"+s);if(n=Function("binder","return function ("+o.join(",")+"){ return binder.apply(this,arguments); }")(r),e.prototype){var l=function(){};l.prototype=e.prototype,n.prototype=new l,l.prototype=null}return n},lo=Function.prototype.bind||so,ho=lo.call(Function.call,Object.prototype.hasOwnProperty),co=SyntaxError,uo=Function,fo=TypeError,po=function(t){try{return uo('"use strict"; return ('+t+").constructor;")()}catch(e){}},go=Object.getOwnPropertyDescriptor;if(go)try{go({},"")}catch(Ll){go=null}var mo=function(){throw new fo},vo=go?function(){try{return mo}catch(t){try{return go(arguments,"callee").get}catch(e){return mo}}}():mo,yo="function"==typeof no&&"function"==typeof Symbol&&"symbol"==typeof no("foo")&&"symbol"==typeof Symbol("bar")&&io(),bo=Object.getPrototypeOf||function(t){return t.__proto__},_o={},xo="undefined"==typeof Uint8Array?undefined:bo(Uint8Array),wo={"%AggregateError%":"undefined"==typeof AggregateError?undefined:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?undefined:ArrayBuffer,"%ArrayIteratorPrototype%":yo?bo([][Symbol.iterator]()):undefined,"%AsyncFromSyncIteratorPrototype%":undefined,"%AsyncFunction%":_o,"%AsyncGenerator%":_o,"%AsyncGeneratorFunction%":_o,"%AsyncIteratorPrototype%":_o,"%Atomics%":"undefined"==typeof Atomics?undefined:Atomics,"%BigInt%":"undefined"==typeof BigInt?undefined:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?undefined:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?undefined:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?undefined:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?undefined:FinalizationRegistry,"%Function%":uo,"%GeneratorFunction%":_o,"%Int8Array%":"undefined"==typeof Int8Array?undefined:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?undefined:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?undefined:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":yo?bo(bo([][Symbol.iterator]())):undefined,"%JSON%":"object"==typeof JSON?JSON:undefined,"%Map%":"undefined"==typeof Map?undefined:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&yo?bo((new Map)[Symbol.iterator]()):undefined,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?undefined:Promise,"%Proxy%":"undefined"==typeof Proxy?undefined:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?undefined:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?undefined:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&yo?bo((new Set)[Symbol.iterator]()):undefined,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?undefined:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":yo?bo(""[Symbol.iterator]()):undefined,"%Symbol%":yo?Symbol:undefined,"%SyntaxError%":co,"%ThrowTypeError%":vo,"%TypedArray%":xo,"%TypeError%":fo,"%Uint8Array%":"undefined"==typeof Uint8Array?undefined:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?undefined:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?undefined:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?undefined:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?undefined:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?undefined:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?undefined:WeakSet},So=function t(e){var n;if("%AsyncFunction%"===e)n=po("async function () {}");else if("%GeneratorFunction%"===e)n=po("function* () {}");else if("%AsyncGeneratorFunction%"===e)n=po("async function* () {}");else if("%AsyncGenerator%"===e){var i=t("%AsyncGeneratorFunction%");i&&(n=i.prototype)}else if("%AsyncIteratorPrototype%"===e){var r=t("%AsyncGenerator%");r&&(n=bo(r.prototype))}return wo[e]=n,n},Co={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ko=lo,Mo=ho,Ao=ko.call(Function.call,Array.prototype.concat),To=ko.call(Function.apply,Array.prototype.splice),Po=ko.call(Function.call,String.prototype.replace),Do=ko.call(Function.call,String.prototype.slice),Eo=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Oo=/\\(\\)?/g,Lo=function(t){var e=Do(t,0,1),n=Do(t,-1);if("%"===e&&"%"!==n)throw new co("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==e)throw new co("invalid intrinsic syntax, expected opening `%`");var i=[];return Po(t,Eo,(function(t,e,n,r){i[i.length]=n?Po(r,Oo,"$1"):e||t})),i},$o=function(t,e){var n,i=t;if(Mo(Co,i)&&(i="%"+(n=Co[i])[0]+"%"),Mo(wo,i)){var r=wo[i];if(r===_o&&(r=So(i)),void 0===r&&!e)throw new fo("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:n,name:i,value:r}}throw new co("intrinsic "+t+" does not exist!")},Io=function(t,e){if("string"!=typeof t||0===t.length)throw new fo("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new fo('"allowMissing" argument must be a boolean');var n=Lo(t),i=n.length>0?n[0]:"",r=$o("%"+i+"%",e),a=r.name,o=r.value,s=!1,l=r.alias;l&&(i=l[0],To(n,Ao([0,1],l)));for(var h=1,c=!0;h<n.length;h+=1){var d=n[h],u=Do(d,0,1),f=Do(d,-1);if(('"'===u||"'"===u||"`"===u||'"'===f||"'"===f||"`"===f)&&u!==f)throw new co("property names with quotes must have matching quotes");if("constructor"!==d&&c||(s=!0),Mo(wo,a="%"+(i+="."+d)+"%"))o=wo[a];else if(null!=o){if(!(d in o)){if(!e)throw new fo("base intrinsic for "+t+" exists, but the property is not available.");return}if(go&&h+1>=n.length){var p=go(o,d);o=(c=!!p)&&"get"in p&&!("originalValue"in p.get)?p.get:o[d]}else c=Mo(o,d),o=o[d];c&&!s&&(wo[a]=o)}}return o},Ro={exports:{}};!function(t){var e=lo,n=Io,i=n("%Function.prototype.apply%"),r=n("%Function.prototype.call%"),a=n("%Reflect.apply%",!0)||e.call(r,i),o=n("%Object.getOwnPropertyDescriptor%",!0),s=n("%Object.defineProperty%",!0),l=n("%Math.max%");if(s)try{s({},"a",{value:1})}catch(Ll){s=null}t.exports=function(t){var n=a(e,r,arguments);if(o&&s){var i=o(n,"length");i.configurable&&s(n,"length",{value:1+l(0,t.length-(arguments.length-1))})}return n};var h=function(){return a(e,i,arguments)};s?s(t.exports,"apply",{value:h}):t.exports.apply=h}(Ro);var No=Io,Fo=Ro.exports,Go=Fo(No("String.prototype.indexOf")),jo=u(Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:{}})),Bo="function"==typeof Map&&Map.prototype,Ho=Object.getOwnPropertyDescriptor&&Bo?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null;Bo&&Ho&&"function"==typeof Ho.get&&Ho.get;var Yo="function"==typeof Set&&Set.prototype,zo=Object.getOwnPropertyDescriptor&&Yo?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null;Yo&&zo&&"function"==typeof zo.get&&zo.get,"function"==typeof WeakRef&&WeakRef.prototype&&WeakRef.prototype.deref;var Wo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,Uo="function"==typeof Symbol&&"object"==typeof Symbol.iterator,qo=jo.custom;qo&&function(t){if(Uo)return t&&"object"==typeof t&&t instanceof Symbol;if("symbol"==typeof t)return!0;if(!t||"object"!=typeof t||!Wo)return!1;try{return Wo.call(t),!0}catch(Ll){}}(qo);var Xo=Io,Vo=function(t,e){var n=No(t,!!e);return"function"==typeof n&&Go(t,".prototype.")>-1?Fo(n):n};Xo("%TypeError%"),Xo("%WeakMap%",!0),Xo("%Map%",!0),Vo("WeakMap.prototype.get",!0),Vo("WeakMap.prototype.set",!0),Vo("WeakMap.prototype.has",!0),Vo("Map.prototype.get",!0),Vo("Map.prototype.set",!0),Vo("Map.prototype.has",!0),function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase())}();var Ko={exports:{}},Jo=function(t,e){return function(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];return t.apply(e,n)}},Qo=Jo,Zo=Object.prototype.toString;function ts(t){return"[object Array]"===Zo.call(t)}function es(t){return void 0===t}function ns(t){return null!==t&&"object"==typeof t}function is(t){if("[object Object]"!==Zo.call(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}function rs(t){return"[object Function]"===Zo.call(t)}function as(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),ts(t))for(var n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.call(null,t[r],r,t)}var os={isArray:ts,isArrayBuffer:function(t){return"[object ArrayBuffer]"===Zo.call(t)},isBuffer:function(t){return null!==t&&!es(t)&&null!==t.constructor&&!es(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:ns,isPlainObject:is,isUndefined:es,isDate:function(t){return"[object Date]"===Zo.call(t)},isFile:function(t){return"[object File]"===Zo.call(t)},isBlob:function(t){return"[object Blob]"===Zo.call(t)},isFunction:rs,isStream:function(t){return ns(t)&&rs(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:as,merge:function t(){var e={};function n(n,i){is(e[i])&&is(n)?e[i]=t(e[i],n):is(n)?e[i]=t({},n):ts(n)?e[i]=n.slice():e[i]=n}for(var i=0,r=arguments.length;i<r;i++)as(arguments[i],n);return e},extend:function(t,e,n){return as(e,(function(e,i){t[i]=n&&"function"==typeof e?Qo(e,n):e})),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t}},ss=os;function ls(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var hs=function(t,e,n){if(!e)return t;var i;if(n)i=n(e);else if(ss.isURLSearchParams(e))i=e.toString();else{var r=[];ss.forEach(e,(function(t,e){null!=t&&(ss.isArray(t)?e+="[]":t=[t],ss.forEach(t,(function(t){ss.isDate(t)?t=t.toISOString():ss.isObject(t)&&(t=JSON.stringify(t)),r.push(ls(e)+"="+ls(t))})))})),i=r.join("&")}if(i){var a=t.indexOf("#");-1!==a&&(t=t.slice(0,a)),t+=(-1===t.indexOf("?")?"?":"&")+i}return t},cs=os;function ds(){this.handlers=[]}ds.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},ds.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},ds.prototype.forEach=function(t){cs.forEach(this.handlers,(function(e){null!==e&&t(e)}))};var us=ds,fs=os,ps=function(t){return!(!t||!t.__CANCEL__)},gs=os,ms=function(t,e,n,i,r){return t.config=e,n&&(t.code=n),t.request=i,t.response=r,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t},vs=function(t,e,n,i,r){var a=new Error(t);return ms(a,e,n,i,r)},ys=vs,bs=os,_s=bs.isStandardBrowserEnv()?{write:function(t,e,n,i,r,a){var o=[];o.push(t+"="+encodeURIComponent(e)),bs.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),bs.isString(i)&&o.push("path="+i),bs.isString(r)&&o.push("domain="+r),!0===a&&o.push("secure"),document.cookie=o.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},xs=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)},ws=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t},Ss=os,Cs=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],ks=os,Ms=ks.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(t){var i=t;return e&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=i(window.location.href),function(e){var n=ks.isString(e)?i(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0},As=os,Ts=function(t,e,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?e(ys("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)},Ps=_s,Ds=hs,Es=function(t,e){return t&&!xs(e)?ws(t,e):e},Os=function(t){var e,n,i,r={};return t?(Ss.forEach(t.split("\n"),(function(t){if(i=t.indexOf(":"),e=Ss.trim(t.substr(0,i)).toLowerCase(),n=Ss.trim(t.substr(i+1)),e){if(r[e]&&Cs.indexOf(e)>=0)return;r[e]="set-cookie"===e?(r[e]?r[e]:[]).concat([n]):r[e]?r[e]+", "+n:n}})),r):r},Ls=Ms,$s=vs,Is=function(t){return new Promise((function(e,n){var i=t.data,r=t.headers;As.isFormData(i)&&delete r["Content-Type"];var a=new XMLHttpRequest;if(t.auth){var o=t.auth.username||"",s=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";r.Authorization="Basic "+btoa(o+":"+s)}var l=Es(t.baseURL,t.url);if(a.open(t.method.toUpperCase(),Ds(l,t.params,t.paramsSerializer),!0),a.timeout=t.timeout,a.onreadystatechange=function(){if(a&&4===a.readyState&&(0!==a.status||a.responseURL&&0===a.responseURL.indexOf("file:"))){var i="getAllResponseHeaders"in a?Os(a.getAllResponseHeaders()):null,r={data:t.responseType&&"text"!==t.responseType?a.response:a.responseText,status:a.status,statusText:a.statusText,headers:i,config:t,request:a};Ts(e,n,r),a=null}},a.onabort=function(){a&&(n($s("Request aborted",t,"ECONNABORTED",a)),a=null)},a.onerror=function(){n($s("Network Error",t,null,a)),a=null},a.ontimeout=function(){var e="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),n($s(e,t,"ECONNABORTED",a)),a=null},As.isStandardBrowserEnv()){var h=(t.withCredentials||Ls(l))&&t.xsrfCookieName?Ps.read(t.xsrfCookieName):void 0;h&&(r[t.xsrfHeaderName]=h)}if("setRequestHeader"in a&&As.forEach(r,(function(t,e){void 0===i&&"content-type"===e.toLowerCase()?delete r[e]:a.setRequestHeader(e,t)})),As.isUndefined(t.withCredentials)||(a.withCredentials=!!t.withCredentials),t.responseType)try{a.responseType=t.responseType}catch(Ll){if("json"!==t.responseType)throw Ll}"function"==typeof t.onDownloadProgress&&a.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&a.upload&&a.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){a&&(a.abort(),n(t),a=null)})),i||(i=null),a.send(i)}))},Rs=os,Ns=function(t,e){gs.forEach(t,(function(n,i){i!==e&&i.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[i])}))},Fs={"Content-Type":"application/x-www-form-urlencoded"};function Gs(t,e){!Rs.isUndefined(t)&&Rs.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var js,Bs={adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(js=Is),js),transformRequest:[function(t,e){return Ns(e,"Accept"),Ns(e,"Content-Type"),Rs.isFormData(t)||Rs.isArrayBuffer(t)||Rs.isBuffer(t)||Rs.isStream(t)||Rs.isFile(t)||Rs.isBlob(t)?t:Rs.isArrayBufferView(t)?t.buffer:Rs.isURLSearchParams(t)?(Gs(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):Rs.isObject(t)?(Gs(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(Ll){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300}};Bs.headers={common:{Accept:"application/json, text/plain, */*"}},Rs.forEach(["delete","get","head"],(function(t){Bs.headers[t]={}})),Rs.forEach(["post","put","patch"],(function(t){Bs.headers[t]=Rs.merge(Fs)}));var Hs=Bs,Ys=os,zs=function(t,e,n){return fs.forEach(n,(function(n){t=n(t,e)})),t},Ws=ps,Us=Hs;function qs(t){t.cancelToken&&t.cancelToken.throwIfRequested()}var Xs=os,Vs=function(t,e){e=e||{};var n={},i=["url","method","data"],r=["headers","auth","proxy","params"],a=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],o=["validateStatus"];function s(t,e){return Xs.isPlainObject(t)&&Xs.isPlainObject(e)?Xs.merge(t,e):Xs.isPlainObject(e)?Xs.merge({},e):Xs.isArray(e)?e.slice():e}function l(i){Xs.isUndefined(e[i])?Xs.isUndefined(t[i])||(n[i]=s(void 0,t[i])):n[i]=s(t[i],e[i])}Xs.forEach(i,(function(t){Xs.isUndefined(e[t])||(n[t]=s(void 0,e[t]))})),Xs.forEach(r,l),Xs.forEach(a,(function(i){Xs.isUndefined(e[i])?Xs.isUndefined(t[i])||(n[i]=s(void 0,t[i])):n[i]=s(void 0,e[i])})),Xs.forEach(o,(function(i){i in e?n[i]=s(t[i],e[i]):i in t&&(n[i]=s(void 0,t[i]))}));var h=i.concat(r).concat(a).concat(o),c=Object.keys(t).concat(Object.keys(e)).filter((function(t){return-1===h.indexOf(t)}));return Xs.forEach(c,l),n},Ks=os,Js=hs,Qs=us,Zs=function(t){return qs(t),t.headers=t.headers||{},t.data=zs(t.data,t.headers,t.transformRequest),t.headers=Ys.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),Ys.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||Us.adapter)(t).then((function(e){return qs(t),e.data=zs(e.data,e.headers,t.transformResponse),e}),(function(e){return Ws(e)||(qs(t),e&&e.response&&(e.response.data=zs(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))},tl=Vs;function el(t){this.defaults=t,this.interceptors={request:new Qs,response:new Qs}}el.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=tl(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=[Zs,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach((function(t){e.unshift(t.fulfilled,t.rejected)})),this.interceptors.response.forEach((function(t){e.push(t.fulfilled,t.rejected)}));e.length;)n=n.then(e.shift(),e.shift());return n},el.prototype.getUri=function(t){return t=tl(this.defaults,t),Js(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},Ks.forEach(["delete","get","head","options"],(function(t){el.prototype[t]=function(e,n){return this.request(tl(n||{},{method:t,url:e,data:(n||{}).data}))}})),Ks.forEach(["post","put","patch"],(function(t){el.prototype[t]=function(e,n,i){return this.request(tl(i||{},{method:t,url:e,data:n}))}}));var nl=el;function il(t){this.message=t}il.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},il.prototype.__CANCEL__=!0;var rl=il,al=rl;function ol(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var n=this;t((function(t){n.reason||(n.reason=new al(t),e(n.reason))}))}ol.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},ol.source=function(){var t;return{token:new ol((function(e){t=e})),cancel:t}};var sl=ol,ll=os,hl=Jo,cl=nl,dl=Vs;function ul(t){var e=new cl(t),n=hl(cl.prototype.request,e);return ll.extend(n,cl.prototype,e),ll.extend(n,e),n}var fl=ul(Hs);fl.Axios=cl,fl.create=function(t){return ul(dl(fl.defaults,t))},fl.Cancel=rl,fl.CancelToken=sl,fl.isCancel=ps,fl.all=function(t){return Promise.all(t)},fl.spread=function(t){return function(e){return t.apply(null,e)}},fl.isAxiosError=function(t){return"object"==typeof t&&!0===t.isAxiosError},Ko.exports=fl,Ko.exports.default=fl;var pl,gl,ml,vl,yl=Ko.exports;(gl=pl||(pl={})).Get="GET",gl.Post="POST",gl.Put="PUT",gl.Delete="DELETE",gl.Options="OPTIONS",gl.Head="HEAD",gl.Patch="PATCH",(vl=ml||(ml={}))[vl.Ready=0]="Ready",vl[vl.Loading=1]="Loading";class bl{constructor(){this.defined=!1}use(t){this.defined=!0,this.interceptor=t}}class _l{constructor(){_l.instance=this,_l.config.adapter&&(yl.defaults.adapter=_l.config.adapter),this.axiosInstance=yl.create({baseURL:_l.config.server,timeout:_l.config.timeout,headers:{"Content-Type":"application/json",Accept:"application/json"}})}static setConfig({server:t,timeout:e,adapter:n,qs:i}){_l.config.server=t,_l.config.timeout=e,_l.config.adapter=n,_l.config.qs=i}static installExtendService(t){_l.extendServices.push(t)}static getInstance(){return this.instance?this.instance:new _l}send(t){const e=t.getOptions();return this.axiosInstance.request(Object.assign({},e)).then((t=>_l.interceptors.status.defined?_l.interceptors.status.interceptor(t)?_l.interceptors.success.defined?_l.interceptors.success.interceptor(t):t:_l.interceptors.error.defined?_l.interceptors.error.interceptor(t):t:_l.interceptors.success.defined?_l.interceptors.success.interceptor(t):t)).catch((t=>(_l.requestCatchHandle&&_l.requestCatchHandle(t.response),Promise.reject(t))))}}_l.config={server:"",adapter:null},_l.interceptors={before:[],after:[],status:new bl,success:new bl,error:new bl},_l.extendServices=[];class xl{}function wl(t){let e,n,i,r,a,o=t[4]&&Sl(t);return{c(){e=F("div"),n=F("div"),i=j(t[2]),r=B(),a=F("div"),o&&o.c(),z(n,"class","title svelte-cb4drv"),z(a,"class","action"),z(e,"class","modal-header svelte-cb4drv")},m(t,s){$(t,e,s),O(e,n),O(n,i),O(e,r),O(e,a),o&&o.m(a,null)},p(t,e){4&e&&V(i,t[2]),t[4]?o?o.p(t,e):(o=Sl(t),o.c(),o.m(a,null)):o&&(o.d(1),o=null)},d(t){t&&R(e),o&&o.d()}}}function Sl(t){let e,n,i,r;return{c(){var t,i;e=F("img"),z(e,"class","close-button svelte-cb4drv"),z(e,"alt",""),t=e.src,i=n="/assets/close.8e325833.svg",_||(_=document.createElement("a")),_.href=i,t!==_.href&&z(e,"src","/assets/close.8e325833.svg")},m(n,a){$(n,e,a),i||(r=Y(e,"click",t[7]),i=!0)},p:f,d(t){t&&R(e),i=!1,r()}}}function Cl(t){let e,n,i,r,a,o,s,l,h,c=t[3]&&wl(t);const d=[t[1]];var u=t[0];function f(t){let e={};for(let n=0;n<d.length;n+=1)e=p(e,d[n]);return{props:e}}return u&&(o=new u(f())),{c(){e=F("div"),n=F("div"),i=F("div"),c&&c.c(),r=B(),a=F("div"),o&&Tt(o.$$.fragment),z(a,"class","modal-body svelte-cb4drv"),z(i,"class","modal-content svelte-cb4drv"),z(i,"style",t[6]),z(n,"class","modal-wrapper svelte-cb4drv"),z(e,"class","modal-container")},m(d,u){var f;$(d,e,u),O(e,n),O(n,i),c&&c.m(i,null),O(i,r),O(i,a),o&&Pt(o,a,null),s=!0,l||(h=Y(n,"click",(f=t[11],function(t){t.target===this&&f.call(this,t)})),l=!0)},p(t,[e]){t[3]?c?c.p(t,e):(c=wl(t),c.c(),c.m(i,r)):c&&(c.d(1),c=null);const n=2&e?kt(d,[Mt(t[1])]):{};if(u!==(u=t[0])){if(o){_t();const t=o;St(t.$$.fragment,1,0,(()=>{Dt(t,1)})),xt()}u?(o=new u(f()),Tt(o.$$.fragment),wt(o.$$.fragment,1),Pt(o,a,null)):o=null}else u&&o.$set(n);(!s||64&e)&&z(i,"style",t[6])},i(t){s||(o&&wt(o.$$.fragment,t),s=!0)},o(t){o&&St(o.$$.fragment,t),s=!1},d(t){t&&R(e),c&&c.d(),o&&Dt(o),l=!1,h()}}}function kl(t,e,n){let i,{component:r}=e,{params:a}=e,{width:o}=e,{minWidth:s}=e,{title:l}=e,{header:h=!0}=e,{id:c}=e,{closable:d=!0}=e,{maskClose:u=!1}=e;const f=rt("modal");function p(){f.close(c)}const g=t=>({string:t,number:`${t}px`}[typeof t]);it("current-modal",{id:c});return t.$$set=t=>{"component"in t&&n(0,r=t.component),"params"in t&&n(1,a=t.params),"width"in t&&n(8,o=t.width),"minWidth"in t&&n(9,s=t.minWidth),"title"in t&&n(2,l=t.title),"header"in t&&n(3,h=t.header),"id"in t&&n(10,c=t.id),"closable"in t&&n(4,d=t.closable),"maskClose"in t&&n(5,u=t.maskClose)},t.$$.update=()=>{768&t.$$.dirty&&n(6,i=[{key:"width",value:g(o)},{key:"min-width",value:g(s)}].filter((({value:t})=>!!t)).reduce(((t,{key:e,value:n})=>t+=`${e}:${n};`),""))},[r,a,l,h,d,u,i,p,o,s,c,()=>u&&p()]}class Ml extends Lt{constructor(t){super(),Ot(this,t,kl,Cl,b,{component:0,params:1,width:8,minWidth:9,title:2,header:3,id:10,closable:4,maskClose:5})}}function Al(t,e,n){const i=t.slice();return i[8]=e[n],i}function Tl(t){let e,n,i=t[1],r=[];for(let o=0;o<i.length;o+=1)r[o]=Pl(Al(t,i,o));const a=t=>St(r[t],1,1,(()=>{r[t]=null}));return{c(){e=F("div");for(let t=0;t<r.length;t+=1)r[t].c();z(e,"class","modal-container-wrapper svelte-8rbxkk")},m(t,i){$(t,e,i);for(let n=0;n<r.length;n+=1)r[n].m(e,null);n=!0},p(t,n){if(3&n){let o;for(i=t[1],o=0;o<i.length;o+=1){const a=Al(t,i,o);r[o]?(r[o].p(a,n),wt(r[o],1)):(r[o]=Pl(a),r[o].c(),wt(r[o],1),r[o].m(e,null))}for(_t(),o=i.length;o<r.length;o+=1)a(o);xt()}},i(t){if(!n){for(let t=0;t<i.length;t+=1)wt(r[t]);n=!0}},o(t){r=r.filter(Boolean);for(let e=0;e<r.length;e+=1)St(r[e]);n=!1},d(t){t&&R(e),N(r,t)}}}function Pl(t){let e,n;return e=new Ml({props:{id:t[8].id,component:t[8].component,params:t[8].props,title:t[8].config.title,closable:t[8].config.closable,maskClose:t[8].config.maskClosable,minWidth:t[0],width:t[8].config.width}}),{c(){Tt(e.$$.fragment)},m(t,i){Pt(e,t,i),n=!0},p(t,n){const i={};2&n&&(i.id=t[8].id),2&n&&(i.component=t[8].component),2&n&&(i.params=t[8].props),2&n&&(i.title=t[8].config.title),2&n&&(i.closable=t[8].config.closable),2&n&&(i.maskClose=t[8].config.maskClosable),1&n&&(i.minWidth=t[0]),2&n&&(i.width=t[8].config.width),e.$set(i)},i(t){n||(wt(e.$$.fragment,t),n=!0)},o(t){St(e.$$.fragment,t),n=!1},d(t){Dt(e,t)}}}function Dl(t){let e,n,i=t[1].length&&Tl(t);const r=t[3].default,a=w(r,t,t[2],null);return{c(){i&&i.c(),e=B(),a&&a.c()},m(t,r){i&&i.m(t,r),$(t,e,r),a&&a.m(t,r),n=!0},p(t,[o]){t[1].length?i?(i.p(t,o),2&o&&wt(i,1)):(i=Tl(t),i.c(),wt(i,1),i.m(e.parentNode,e)):i&&(_t(),St(i,1,1,(()=>{i=null})),xt()),a&&a.p&&(!n||4&o)&&k(a,r,t,t[2],n?C(r,t[2],o,null):M(t[2]),null)},i(t){n||(wt(i),wt(a,t),n=!0)},o(t){St(i),St(a,t),n=!1},d(t){i&&i.d(t),t&&R(e),a&&a.d(t)}}}function El(t,e,n){let{$$slots:i={},$$scope:r}=e;var a=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,a){function o(t){try{l(i.next(t))}catch(Ll){a(Ll)}}function s(t){try{l(i.throw(t))}catch(Ll){a(Ll)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,s)}l((i=i.apply(t,e||[])).next())}))};let{minWidth:o}=e,s=[];return it("modal",{open:function(t){return a(this,void 0,void 0,(function*(){const e=t.component;return new Promise((i=>{n(1,s=s.concat({id:Math.random().toString(32).slice(2),component:e,props:t.props,resolve:i,config:t}))}))}))},close:function(t,e){return a(this,void 0,void 0,(function*(){const i=s.findIndex((e=>e.id===t));if(i<0)return;const r=s[i];null==r||r.resolve(e),s.splice(i,1),n(1,s=[...s])}))},closeAll:function(){return a(this,void 0,void 0,(function*(){s.forEach((t=>{t.resolve()})),n(1,s=[])}))}}),t.$$set=t=>{"minWidth"in t&&n(0,o=t.minWidth),"$$scope"in t&&n(2,r=t.$$scope)},[o,s,r,i]}class Ol extends Lt{constructor(t){super(),Ot(this,t,El,Dl,b,{minWidth:0})}}export{M as $,A,_l as B,Qa as C,eo as D,xl as E,F,B as G,j as H,K as I,$ as J,ua as K,O as L,Y as M,_t as N,xt as O,N as P,Wn as Q,Hn as R,Lt as S,ri as T,$n as U,x as V,Ol as W,H as X,Jt as Y,V as Z,k as _,oi as a,C as a0,w as a1,te as a2,st as a3,At as a4,ft as a5,ie as a6,v as a7,at as a8,Z as a9,Na as aa,Ga as ab,Xe as ac,Qe as ad,La as b,li as c,Jn as d,Un as e,Vn as f,Tt as g,St as h,Ot as i,Dt as j,p as k,G as l,Pt as m,f as n,X as o,si as p,q,R as r,b as s,wt as t,Kn as u,z as v,U as w,I as x,L as y,kt as z};
